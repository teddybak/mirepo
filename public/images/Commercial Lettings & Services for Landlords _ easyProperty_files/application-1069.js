window.Modernizr=function(a,d,c){function b(a,b){for(var d in a){var e=a[d];if(!~(""+e).indexOf("-")&&m[e]!==c)return"pfx"==b?e:!0}return!1}function e(a,d,e){var f=a.charAt(0).toUpperCase()+a.slice(1),g=(a+" "+l.join(f+" ")+f).split(" ");if("string"===typeof d||"undefined"===typeof d)d=b(g,d);else a:{g=(a+" "+n.join(f+" ")+f).split(" "),a=g;for(var h in a)if(f=d[a[h]],f!==c){d=!1===e?a[h]:"function"===typeof f?f.bind(e||d):f;break a}d=!1}return d}var f={},h=d.documentElement,k=d.createElement("modernizr"),
m=k.style,l=["Webkit","Moz","O","ms"],n=["webkit","moz","o","ms"],k={};a=[];var p=a.slice,g,u={}.hasOwnProperty,r;"undefined"===typeof u||"undefined"===typeof u.call?r=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]}:r=function(a,b){return u.call(a,b)};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=p.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;
var e=new e,f=b.apply(e,c.concat(p.call(arguments)));return Object(f)===f?f:e}return b.apply(a,c.concat(p.call(arguments)))};return d});k.csstransitions=function(){return e("transition")};for(var t in k)r(k,t)&&(g=t.toLowerCase(),f[g]=k[t](),a.push((f[g]?"":"no-")+g));f.addTest=function(a,b){if("object"==typeof a)for(var d in a)r(a,d)&&f.addTest(d,a[d]);else{a=a.toLowerCase();if(f[a]!==c)return f;b="function"==typeof b?b():b;h.className+=" "+(b?"":"no-")+a;f[a]=b}return f};m.cssText="";return k=null,
function(a,b){function c(){var a=p.elements;return"string"==typeof a?a.split(" "):a}function d(a){var b=u[a[m]];return b||(b={},K++,a[m]=K,u[K]=b),b}function e(a,c,f){c||(c=b);if(t)return c.createElement(a);f||(f=d(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():k.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!l.test(a)?f.frag.appendChild(g):g}function f(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=
b.createFrag());a.createElement=function(c){return p.shivMethods?e(c,a,b):b.createElem(c)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(p,b.frag)}function g(a){a||(a=b);var c=d(a);if(p.shivCSS&&!n&&!c.hasCSS){var e,h=a;e=h.createElement("p");h=h.getElementsByTagName("head")[0]||h.documentElement;e=(e.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",
h.insertBefore(e.lastChild,h.firstChild));c.hasCSS=!!e}return t||f(a,c),a}var h=a.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,k=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,n,m="_html5shiv",K=0,u={},t;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";n="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var d=b.createDocumentFragment();c="undefined"==typeof d.cloneNode||
"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}t=c}catch(e){t=n=!0}})();var p={elements:h.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==h.shivCSS,supportsUnknownElements:t,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:g,createElement:e,createDocumentFragment:function(a,e){a||(a=b);if(t)return a.createDocumentFragment();
e=e||d(a);for(var f=e.frag.cloneNode(),g=0,h=c(),l=h.length;g<l;g++)f.createElement(h[g]);return f}};a.html5=p;g(b)}(this,d),f._version="2.6.2",f._domPrefixes=n,f._cssomPrefixes=l,f.testProp=function(a){return b([a])},f.testAllProps=e,f.prefixed=function(a,b,c){return b?e(a,b,c):e(a,"pfx")},h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+a.join(" ")),f}(this,this.document);
(function(a,d,c){function b(a){return"[object Function]"==r.call(a)}function e(a){return"string"==typeof a}function f(){}function h(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function k(){var a=t.shift();z=1;a?a.t?g(function(){("c"==a.t?E.injectCss:E.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),k()):z=0}function m(a,b,c,e,f,l,n){function m(c){if(!w&&h(D.readyState)&&(C.r=w=1,!z&&k(),D.onload=D.onreadystatechange=null,c)){"img"!=a&&g(function(){B.removeChild(D)},50);for(var d in G[b])G[b].hasOwnProperty(d)&&
G[b][d].onload()}}n=n||E.errorTimeout;var D=d.createElement(a),w=0,p=0,C={t:c,s:b,e:f,a:l,x:n};1===G[b]&&(p=1,G[b]=[]);"object"==a?D.data=b:(D.src=b,D.type=a);D.width=D.height="0";D.onerror=D.onload=D.onreadystatechange=function(){m.call(this,p)};t.splice(e,0,C);"img"!=a&&(p||2===G[b]?(B.insertBefore(D,q?null:u),g(m,n)):G[b].push(D))}function l(a,b,c,d,f){return z=0,b=b||"j",e(a)?m("c"==b?H:w,a,b,this.i++,c,d,f):(t.splice(this.i++,0,a),1==t.length&&k()),this}function n(){var a=E;return a.loader={load:l,
i:0},a}var p=d.documentElement,g=a.setTimeout,u=d.getElementsByTagName("script")[0],r={}.toString,t=[],z=0,x="MozAppearance"in p.style,q=x&&!!d.createRange().compareNode,B=q?p:u.parentNode,p=a.opera&&"[object Opera]"==r.call(a.opera),p=!!d.attachEvent&&!p,w=x?"object":p?"script":"img",H=p?"script":w,O=Array.isArray||function(a){return"[object Array]"==r.call(a)},D=[],G={},M={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},C,E;E=function(a){function d(a){a=a.split("!");var b=D.length,c=
a.pop(),e=a.length,c={url:c,origUrl:c,prefixes:a},f,g,h;for(g=0;g<e;g++)h=a[g].split("="),(f=M[h.shift()])&&(c=f(c,h));for(g=0;g<b;g++)c=D[g](c);return c}function g(a,e,f,h,l){var k=d(a),q=k.autoCallback;k.url.split(".").pop().split("?").shift();k.bypass||(e&&(e=b(e)?e:e[a]||e[h]||e[a.split("/").pop().split("?")[0]]),k.instead?k.instead(a,e,f,h,l):(G[k.url]?k.noexec=!0:G[k.url]=1,f.load(k.url,k.forceCSS||!k.forceJS&&"css"==k.url.split(".").pop().split("?").shift()?"c":c,k.noexec,k.attrs,k.timeout),
(b(e)||b(q))&&f.load(function(){n();e&&e(k.origUrl,l,h);q&&q(k.origUrl,l,h);G[k.url]=2})))}function h(a,c){function d(a,f){if(a)if(e(a))f||(n=function(){var a=[].slice.call(arguments);q.apply(this,a);m()}),g(a,n,c,0,l);else{if(Object(a)===a)for(w in D=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(w)&&(!f&&!--D&&(b(n)?n=function(){var a=[].slice.call(arguments);q.apply(this,a);m()}:n[w]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,
b);m()}}(q[w])),g(a[w],n,c,w,l))}else!f&&m()}var l=!!a.test,k=a.load||a.both,n=a.callback||f,q=n,m=a.complete||f,D,w;d(l?a.yep:a.nope,!!k);k&&d(k)}var l,k,q=this.yepnope.loader;if(e(a))g(a,0,q,0);else if(O(a))for(l=0;l<a.length;l++)k=a[l],e(k)?g(k,0,q,0):O(k)?E(k):Object(k)===k&&h(k,q);else Object(a)===a&&h(a,q)};E.addPrefix=function(a,b){M[a]=b};E.addFilter=function(a){D.push(a)};E.errorTimeout=1E4;null==d.readyState&&d.addEventListener&&(d.readyState="loading",d.addEventListener("DOMContentLoaded",
C=function(){d.removeEventListener("DOMContentLoaded",C,0);d.readyState="complete"},0));a.yepnope=n();a.yepnope.executeStack=k;a.yepnope.injectJs=function(a,b,c,e,l,n){var q=d.createElement("script"),m,D;e=e||E.errorTimeout;q.src=a;for(D in c)q.setAttribute(D,c[D]);b=n?k:b||f;q.onreadystatechange=q.onload=function(){!m&&h(q.readyState)&&(m=1,b(),q.onload=q.onreadystatechange=null)};g(function(){m||(m=1,b(1))},e);l?q.onload():u.parentNode.insertBefore(q,u)};a.yepnope.injectCss=function(a,b,c,e,h,l){e=
d.createElement("link");var n;b=l?k:b||f;e.href=a;e.rel="stylesheet";e.type="text/css";for(n in c)e.setAttribute(n,c[n]);h||(u.parentNode.insertBefore(e,u),g(b,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};var cssua=function(a,d){var c=/\s*([\-\w ]+)[\s\/\:]([\d_]+\b(?:[\-\._\/]\w+)*)/,b=/([\w\-\.]+[\s\/][v]?[\d_]+\b(?:[\-\._\/]\w+)*)/g,e=/\b(?:(blackberry\w*|bb10)|(rim tablet os))(?:\/(\d+\.\d+(?:\.\w+)*))?/,f=/\bsilk-accelerated=true\b/,h=/\bfluidapp\b/,k=/(\bwindows\b|\bmacintosh\b|\blinux\b|\bunix\b)/,m=/(\bandroid\b|\bipad\b|\bipod\b|\bwindows phone\b|\bwpdesktop\b|\bxblwp7\b|\bzunewp7\b|\bwindows ce\b|\bblackberry\w*|\bbb10\b|\brim tablet os\b|\bmeego|\bwebos\b|\bpalm|\bsymbian|\bj2me\b|\bdocomo\b|\bpda\b|\bchtml\b|\bmidp\b|\bcldc\b|\w*?mobile\w*?|\w*?phone\w*?)/,
l=/(\bxbox\b|\bplaystation\b|\bnintendo\s+\w+)/,n={parse:function(a){var d={};a=(""+a).toLowerCase();if(!a)return d;for(var n,t,p=a.split(/[()]/),x=0,q=p.length;x<q;x++)if(x%2){var B=p[x].split(";");n=0;for(t=B.length;n<t;n++)if(c.exec(B[n])){var w=RegExp.$1.split(" ").join("_"),H=RegExp.$2;if(!d[w]||parseFloat(d[w])<parseFloat(H))d[w]=H}}else if(B=p[x].match(b))for(n=0,t=B.length;n<t;n++)w=B[n].split(/[\/\s]+/),w.length&&"mozilla"!==w[0]&&(d[w[0].split(" ").join("_")]=w.slice(1).join("-"));m.exec(a)?
(d.mobile=RegExp.$1,e.exec(a)&&(delete d[d.mobile],d.blackberry=d.version||RegExp.$3||RegExp.$2||RegExp.$1,RegExp.$1?d.mobile="blackberry":"0.0.1"===d.version&&(d.blackberry="7.1.0.0"))):k.exec(a)?d.desktop=RegExp.$1:l.exec(a)&&(d.game=RegExp.$1,n=d.game.split(" ").join("_"),d.version&&!d[n]&&(d[n]=d.version));d.intel_mac_os_x?(d.mac_os_x=d.intel_mac_os_x.split("_").join("."),delete d.intel_mac_os_x):d.cpu_iphone_os?(d.ios=d.cpu_iphone_os.split("_").join("."),delete d.cpu_iphone_os):d.cpu_os?(d.ios=
d.cpu_os.split("_").join("."),delete d.cpu_os):"iphone"!==d.mobile||d.ios||(d.ios="1");d.opera&&d.version?(d.opera=d.version,delete d.blackberry):f.exec(a)?d.silk_accelerated=!0:h.exec(a)&&(d.fluidapp=d.version);if(d.applewebkit)d.webkit=d.applewebkit,delete d.applewebkit,d.opr&&(d.opera=d.opr,delete d.opr,delete d.chrome),d.safari&&(d.chrome||d.crios||d.opera||d.silk||d.fluidapp||d.phantomjs||d.mobile&&!d.ios?delete d.safari:d.safari=d.version&&!d.rim_tablet_os?d.version:{419:"2.0.4",417:"2.0.3",
416:"2.0.2",412:"2.0",312:"1.3",125:"1.2",85:"1.0"}[parseInt(d.safari,10)]||d.safari);else if(d.msie||d.trident)if(d.opera||(d.ie=d.msie||d.rv),delete d.msie,d.windows_phone_os)d.windows_phone=d.windows_phone_os,delete d.windows_phone_os;else{if("wpdesktop"===d.mobile||"xblwp7"===d.mobile||"zunewp7"===d.mobile)d.mobile="windows desktop",d.windows_phone=9>+d.ie?"7.0":10>+d.ie?"7.5":"8.0",delete d.windows_nt}else if(d.gecko||d.firefox)d.gecko=d.rv;d.rv&&delete d.rv;d.version&&delete d.version;return d},
format:function(a){var b="",c;for(c in a)if(c&&a.hasOwnProperty(c)){var d=c,e=a[c],d=d.split(".").join("-"),f=" ua-"+d;if("string"===typeof e){for(var e=e.split(" ").join("_").split(".").join("-"),h=e.indexOf("-");0<h;)f+=" ua-"+d+"-"+e.substring(0,h),h=e.indexOf("-",h+1);f+=" ua-"+d+"-"+e}b+=f}return b},encode:function(a){var b="",c;for(c in a)c&&a.hasOwnProperty(c)&&(b&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b}};n.userAgent=n.ua=n.parse(d);var p=n.format(n.ua)+" js";
a.className=a.className?a.className.replace(/\bno-js\b/g,"")+p:p.substr(1);return n}(document.documentElement,navigator.userAgent);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):a(jQuery)}(function(a){function d(a){a=e.json?JSON.stringify(a):String(a);return e.raw?a:encodeURIComponent(a)}function c(c,d){var k;if(e.raw)k=c;else a:{var m=c;0===m.indexOf('"')&&(m=m.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{k=(m=decodeURIComponent(m.replace(b," ")),e.json?JSON.parse(m):m);break a}catch(l){}k=void 0}return a.isFunction(d)?d(k):k}var b=/\+/g,e=
a.cookie=function(b,h,k){if(void 0!==h&&!a.isFunction(h)){if(k=a.extend({},e.defaults,k),"number"==typeof k.expires){var m=k.expires,l=k.expires=new Date;l.setTime(+l+864E5*m)}return document.cookie=[e.raw?b:encodeURIComponent(b),"=",d(h),k.expires?"; expires="+k.expires.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.secure?"; secure":""].join("")}k=b?void 0:{};for(var m=document.cookie?document.cookie.split("; "):[],l=0,n=m.length;n>l;l++){var p=m[l].split("="),g;
g=p.shift();g=e.raw?g:decodeURIComponent(g);p=p.join("=");if(b&&b===g){k=c(p,h);break}b||void 0===(p=c(p))||(k[g]=p)}return k};e.defaults={};a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}});(function(a){a.fn.passStrengthify=function(d){var c=a(this),b,e=[[0,8,16,32,48,64,72],[0,16,32,48,64,78,92],[0,32,64,78,92,108,128]],f="Very weak;Very weak;Weak;Weak;Moderate;Good;Strong;Very strong".split(";"),h="gray red red #C00000 orange #0099FF blue green".split(" "),k=e[0],m=a("<span>").css("margin-left","1em"),l=[],n=0,p=0,g=!1,u=function(a){var b=0,c={"[a-z]":26,"[A-Z]":26,"(\\d[^\\d])|(^\\d+$)":10,"[\\W_]":32};a=a.replace(/(.)(\1)(\1)+/gi,"$1$2");a=a.replace(/(a)(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(u(v(w(x(y(z)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?/gi,
"$1");a=a.replace(/(0)(1(2(3(4(5(6(7(8(9)?)?)?)?)?)?)?)?)?/g,"$1");a=a.replace(/(1)(2(3(4(5(6(7(8(9(0)?)?)?)?)?)?)?)?)?/g,"$1");a=a.replace(/([^\d])(\d)(\d)+$/,"$1$2");if(!a.length)return 0;for(var d in c)-1!=a.search(new RegExp(d))&&(b+=c[d]);if(!b)return 0;for(d=c=0;d<a.length;d++){var e;var f=a,g=d;e=b;var h=f.charAt(g),l=[.08064249900208098,.015373768624831691,.026892340312538593,.04328667139002636,.1288623426065769,.0244847137116921,.019625534749730816,.06098726796371807,.06905550211598431,.0011176940633901926,
.006252182367878119,.04101676132771116,.02500971934780021,.06984975410235668,.07378315126621263,.017031440203182008,.0010648594165322703,.06156572691936394,.063817324270356,.09024664994930598,.0278568510204016,.010257964235274787,.021192261444145363,.0016941732664605912,.01806326249861108,9.695838238376564E-4],k=[.11617102232902775,.04708120556723741,.035155702413137084,.02673475518173626,.020026033843997197,.0378391909482327,.01952538299789727,.07241413837989387,.06294182437168319,.006318213677781116,
.006908981676179033,.027085210774006212,.04379693601682187,.02368078502052669,.06272153799939922,.025483128066486435,4.305597276459397E-4,.016551516972063685,.07765094623009913,.16692700510663863,.014889356163011918,.006198057474717133,.06669670571743266,5.0065084609993E-5,.01622108741363773,5.0065084609993E-4],n=[2.835E-4,.0228302,.0369041,.042629,.0012216,.0075739,.0171385,.0014659,.0372661,2.353E-4,.0110124,.0778259,.0260757,.2145354,5.459E-4,.0195213,1.749E-4,.110477,.093429,.131796,.0098029,
.0306574,.0088799,9.562E-4,.0233701,.0018701,.0580027,.0058699,7.91E-5,.0022625,.3416714,2.057E-4,4.272E-4,3.639E-4,.0479084,.0076894,0,.115056,.0012816,3.481E-4,.0966553,1.58E-5,0,.0740301,.0226884,.010743,.1196127,.001155,3.16E-5,0,.0864502,0,.1229841,2.71E-5,.0215451,5.246E-4,.1715916,9E-6,0,.1701716,.056549,0,.0453966,.0488879,0,3.62E-5,.1759242,9E-6,.0017185,.0376812,.0010492,.0906756,.0358361,0,0,0,.0041969,9E-6,.0280345,5.057E-4,2.585E-4,.0081086,.1224833,6.799E-4,.0054844,7.08E-4,.0794902,
3.484E-4,1.911E-4,.0092662,.0021466,.0030456,.0397283,1.63E-4,2.25E-5,.0178918,.0307037,9.159E-4,.0178805,.0027759,.0013655,0,.0076478,0,.0545873,.0012798,.0224322,.0843434,.0317097,.008564,.0052834,.0017762,.0127186,2.605E-4,.0010967,.0339975,.0186268,.0815271,.0032334,.0101307,.0021424,.1307517,.0712793,.0241537,.0014289,.0157312,.0070879,.0105139,.0125997,1.831E-4,.0638579,2.384E-4,3.179E-4,2.086E-4,.0928264,.0500293,1.99E-5,9.93E-5,.0820576,0,1.99E-5,.0266638,3.97E-5,8.94E-5,.1545186,1.689E-4,
9.9E-6,.0825344,.0039539,.034194,.0334986,9.9E-6,1.987E-4,0,.00152,0,.0592435,3.842E-4,5.205E-4,.0020078,.1482326,2.727E-4,.0101631,.1420108,.0501091,2.48E-5,3.72E-5,.0395122,.002987,.0127906,.0573224,5.577E-4,0,.0884686,.0261142,.0062466,.0256309,3.72E-5,3.47E-4,0,.003272,1.363E-4,.1580232,7.737E-4,.002046,5.185E-4,.4597035,4.627E-4,3.59E-5,7.18E-5,.1252667,0,4E-6,.0014278,.0013042,.0012922,.0700557,4.39E-5,3.191E-4,.0117178,.0022056,.0297253,.0131497,0,.001029,0,.0072309,0,.0166996,.0069144,.0486793,
.0363474,.0480664,.0271435,.0307856,7.75E-5,4.826E-4,3.5E-6,.0073125,.0526842,.0412929,.2618995,.0497818,.0062698,4.333E-4,.043762,.1157982,.1198384,7.01E-4,.0235788,2.11E-5,.001881,0,.0032265,.2106638,0,0,0,.190642,0,0,0,4.353E-4,0,0,0,0,0,.2644178,0,0,0,0,0,.3299238,0,0,0,2.176E-4,0,.0169234,.0011671,5.058E-4,.0017118,.3321662,.0041628,4.669E-4,7.781E-4,.1300965,0,3.112E-4,.0185963,9.726E-4,.100957,.0113601,.001206,0,4.279E-4,.0613523,.0022954,.0029956,0,.0041239,0,.0086757,0,.10168,5.515E-4,.0020459,
.0668636,.1657445,.0134024,.0011801,1.542E-4,.1107889,1.19E-5,.0053728,.135518,.0055389,9.726E-4,.0826499,.0022654,5.9E-6,.0018443,.0230153,.0180635,.0144461,.004163,.0025797,0,.0968765,2.37E-5,.1539307,.0285939,1.653E-4,.0025384,.2496134,.0017798,1.95E-5,3.015E-4,.0877464,1.95E-5,0,.0015756,.0221846,.0029567,.1098532,.0485124,0,.016991,.0249954,8.461E-4,.0385435,2.92E-5,1.167E-4,0,.0505257,0,.0240107,5.432E-4,.0423173,.1767352,.0849166,.0053036,.1188694,.0028799,.0295789,.0012223,.0071353,.0087755,
6.582E-4,.0085073,.0653564,3.343E-4,9.716E-4,4.144E-4,.0427003,.0956004,.0093814,.00335,8.497E-4,3.343E-4,.012115,1.288E-4,.0083175,.0072923,.0127087,.0203076,.0029439,.1135873,.0060659,.0018527,.0087857,1.978E-4,.0106912,.0268647,.0580447,.1459838,.0330625,.0138659,2.308E-4,.1175433,.032268,.0492657,.1337201,.0164801,.0488371,5.374E-4,.0033923,8.571E-4,.1284508,4.427E-4,4.427E-4,4.713E-4,.2213542,1.428E-4,8.57E-5,.0221226,.0538854,2.86E-5,1.143E-4,.0957597,.0010854,5.856E-4,.1212242,.0607692,0,.1362487,
.0222939,.0408603,.0270926,0,.0011711,0,.0042274,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.284E-4,2.284E-4,0,.9949749,0,0,0,0,0,.0733524,.0032081,.0116789,.028407,.234553,.0056616,.0107385,.0026432,.0792432,4.35E-5,.0087196,.0117263,.0192448,.0221961,.0919374,.0048043,3.16E-5,.0189406,.0459213,.0421561,.0173721,.0070603,.0019873,4E-6,.0284504,.0055945,.0349781,6.441E-4,.0157796,.0015208,.1179849,.0010558,4.688E-4,.0569819,.0506053,4.95E-5,.005378,.0114497,.006552,.0022488,.0491264,.0287844,8.309E-4,1.906E-4,
.0463897,.1269191,.0330152,8E-5,.0053856,0,.0020925,0,.0393295,1.59E-4,.0037195,6.74E-5,.0892434,9.218E-4,4.04E-5,.3352928,.0666758,5.4E-6,1.62E-5,.0146273,9.11E-4,.0011051,.0913053,8.09E-5,2.7E-6,.0310281,.0245378,.0171177,.0185732,2.7E-6,.0078702,0,.0121422,2.776E-4,.0261517,.0181796,.0459729,.0223272,.0308931,.0058765,.0505571,6.99E-5,.0298191,8.7E-6,1.572E-4,.1066327,.0308669,.1156002,.002017,.0448465,1.746E-4,.1626908,.1207345,.1249869,3.49E-5,9.343E-4,2.008E-4,8.819E-4,2.969E-4,.0010042,.1022242,
0,0,.0049559,.6796927,0,0,2.371E-4,.1467561,0,0,1.423E-4,0,.0128284,.0429195,0,0,8.299E-4,3.083E-4,0,.0025847,5.928E-4,0,0,.0038888,0,.1832539,3.329E-4,2.984E-4,.0018938,.1605624,.0013085,3.44E-5,.1893372,.1788924,0,5.05E-4,.0089412,2.755E-4,.0372798,.0933831,8.03E-5,1.15E-5,.0082066,.0126485,.0018135,.0011707,0,3.214E-4,0,6.887E-4,0,.0600144,0,.1573582,.001005,.05542,0,1.436E-4,.0132089,.1122757,0,0,.0014358,1.436E-4,0,.0055994,.2157933,.0031587,0,.0027279,.2360373,.0195262,.0051687,1.436E-4,.0093324,
.0020101,0,.0072178,.0039321,.0011985,.0020738,.0562745,.0015217,3.097E-4,7.137E-4,.0141393,1.35E-5,2.69E-5,.0031914,.0039051,.0022488,.1205478,.0027875,0,.0048882,.0324935,.0109613,5.925E-4,6.73E-5,.0016025,1.347E-4,9.43E-5,2.02E-4,.4219769,7.526E-4,.0060211,.0067737,.3038133,0,0,5.018E-4,.0709985,2.509E-4,0,.0198194,0,0,.0730055,0,0,2.509E-4,.0017561,5.018E-4,.0037632,.0010035,0,0,.0100351,.026844],m={1:"l",3:"e",4:"a",5:"s",7:"t","@":"a",$:"s"};"undefined"!=typeof m[h]&&(h=m[h]);if(h.match(/^[a-zA-Z]$/)){var h=
h.toLowerCase().charCodeAt(0)-97,t=void 0,t=null;g&&(t=f.charAt(g-1),"undefined"!=typeof m[t]&&(t=m[t]));null!=t&&t.match(/^[a-zA-Z]$/)?(f=void 0,f=t.toLowerCase().charCodeAt(0)-97,t=n[h+26*f]):t=(g?l:k)[h];26<=e&&(t*=26/e);e=t}else e=1/e;c+=Math.max(-7,Math.log(e)/.6931471805599453)}return-1*c},r=function(a){var b=0,c=0,c=u(a);if(k.length&&k[0]instanceof RegExp)jQuery.each(k,function(c,d){b+=-1!=a.search(d)});else for(n=0;n<k.length&&!(c<k[n]);n++)b=n+1;return[c,b]},t=function(b){b=a(this).val();
var c=!b.length||b.length<p,e;b=r(b);e=b[0];b=c?0:b[1];var k=l.length,w,t;t=c?d.labels.tooShort:g?Math.round(100*e)/100+" bits":f[b];w=h[b];c=h[b];e=h[0];m.text(t).css("color",w);for(n=0;n<k;n++)l[n].css("background-color",n<b?c:e)};"undefined"==typeof d&&(d={});"undefined"===typeof d.labels&&(d.labels={});d.labels=a.extend({tooShort:"Too short",passwordStrength:"Password strength:"},d.labels);b=a("<span>").css("display","block").addClass("passStrengthify");return a(this).each(function(){d.element?
d.element.append(b):a(this).parent().append(b);d.minimum&&(p=d.minimum);"undefined"==typeof d.security&&(d.security=1);0<=d.security&&d.security<e.length&&(k=e[d.security]);d.levels||(d.levels=f);d.colours||(d.colours=h);d.tests||(d.tests=k);d.levels&&d.colours&&d.tests&&d.levels.length==d.colours.length&&d.colours.length==d.tests.length+1&&(f=d.levels,h=d.colours,k=d.tests);d.rawEntropy&&(g=!0);b.append(a("<div>").append(a("<span>").css("font-size","smaller").text(d.labels.passwordStrength).append(m)));
Math.round((125-3*k.length)/k.length);for(n=0;n<k.length;n++){var u=a("<span>").css("height","5px").css("width","14.2%").css("margin-right","0px").css("max-height","3px").css("font-size","1px").css("float","left");l.push(u);b.append(u)}c.keypress(t);c.keyup(t);c.trigger("keyup")})}})(jQuery);(function(a){a.fn.pajinate=function(d){function c(a){a=parseInt(a,10);var b=parseInt(k.data("items_per_page"));start_from=a*b;end_on=start_from+b;b=n.hide().slice(start_from,end_on);b.show();l.find(d.nav_panel_id).children(".page_link[longdesc="+a+"]").addClass("active_page "+r).siblings(".active_page").removeClass("active_page "+r);k.data("current_page",a);var c=parseInt(k.data("current_page")+1),e=m.children().size(),e=Math.ceil(e/d.items_per_page);l.find(d.nav_info_id).html(d.nav_label_info.replace("{0}",
start_from+1).replace("{1}",start_from+b.length).replace("{2}",n.length).replace("{3}",c).replace("{4}",e));f();h();"undefined"!==typeof d.onPageDisplayed&&d.onPageDisplayed.call(this,a+1)}function b(b,c){"none"==a(b).siblings(".active_page").siblings(".page_link[longdesc="+c+"]").css("display")&&p.each(function(){a(this).children(".page_link").hide().slice(parseInt(c-d.num_page_links_to_display+1),c+1).show()})}function e(b,c){"none"==a(b).siblings(".active_page").siblings(".page_link[longdesc="+
c+"]").css("display")&&p.each(function(){a(this).children(".page_link").hide().slice(c,c+parseInt(d.num_page_links_to_display)).show()})}function f(){p.children(".page_link:visible").hasClass("last")?p.children(".more").hide():p.children(".more").show();p.children(".page_link:visible").hasClass("first")?p.children(".less").hide():p.children(".less").show()}function h(){p.children(".last").hasClass("active_page")?p.children(".next_link").add(".last_link").addClass("no_more "+t):p.children(".next_link").add(".last_link").removeClass("no_more "+
t);p.children(".first").hasClass("active_page")?p.children(".previous_link").add(".first_link").addClass("no_more "+t):p.children(".previous_link").add(".first_link").removeClass("no_more "+t)}var k;d=a.extend({item_container_id:".content",items_per_page:10,nav_panel_id:".page_navigation",nav_info_id:".info_text",num_page_links_to_display:20,start_page:0,wrap_around:!1,nav_label_first:"First",nav_label_prev:"Prev",nav_label_next:"Next",nav_label_last:"Last",nav_order:["first","prev","num","next",
"last"],nav_label_info:"Showing {0}-{1} of {2} results",show_first_last:!0,abort_on_small_lists:!1,jquery_ui:!1,jquery_ui_active:"ui-state-highlight",jquery_ui_default:"ui-state-default",jquery_ui_disabled:"ui-state-disabled"},d);var m,l,n,p,g,u=d.jquery_ui?d.jquery_ui_default:"",r=d.jquery_ui?d.jquery_ui_active:"",t=d.jquery_ui?d.jquery_ui_disabled:"";return this.each(function(){l=a(this);m=a(this).find(d.item_container_id);n=l.find(d.item_container_id).children();if(d.abort_on_small_lists&&d.items_per_page>=
n.size())return l;k=l;k.data("current_page",0);k.data("items_per_page",d.items_per_page);for(var t=m.children().size(),t=Math.ceil(t/d.items_per_page),x=d.show_first_last?'<a class="first_link '+u+'" href="">'+d.nav_label_first+"</a>":"",q=d.show_first_last?'<a class="last_link '+u+'" href="">'+d.nav_label_last+"</a>":"",B="",w=0;w<d.nav_order.length;w++)switch(d.nav_order[w]){case "first":B+=x;break;case "last":B+=q;break;case "next":B+='<a class="next_link '+u+'" href="">'+d.nav_label_next+"</a>";
break;case "prev":B+='<a class="previous_link '+u+'" href="">'+d.nav_label_prev+"</a>";break;case "num":for(var B=B+'<span class="ellipse less">...</span>',H=0;t>H;)B+='<a class="page_link '+u+'" href="" longdesc="'+H+'">'+(H+1)+"</a>",H++;B+='<span class="ellipse more">...</span>'}p=l.find(d.nav_panel_id);p.html(B).each(function(){a(this).find(".page_link:first").addClass("first");a(this).find(".page_link:last").addClass("last")});p.children(".ellipse").hide();p.find(".previous_link").next().next().addClass("active_page "+
r);n.hide();n.slice(0,k.data("items_per_page")).show();g=l.find(d.nav_panel_id+":first").children(".page_link").size();d.num_page_links_to_display=Math.min(d.num_page_links_to_display,g);p.children(".page_link").hide();p.each(function(){a(this).children(".page_link").slice(0,d.num_page_links_to_display).show()});l.find(".first_link").click(function(b){b.preventDefault();e(a(this),0);c(0)});l.find(".last_link").click(function(d){d.preventDefault();d=g-1;b(a(this),d);c(d)});l.find(".previous_link").click(function(b){b.preventDefault();
b=a(this);new_page=parseInt(k.data("current_page"))-1;1==a(b).siblings(".active_page").prev(".page_link").length?(e(b,new_page),c(new_page)):d.wrap_around&&c(g-1)});l.find(".next_link").click(function(e){e.preventDefault();e=a(this);new_page=parseInt(k.data("current_page"))+1;1==a(e).siblings(".active_page").next(".page_link").length?(b(e,new_page),c(new_page)):d.wrap_around&&c(0)});l.find(".page_link").click(function(b){b.preventDefault();c(a(this).attr("longdesc"))});c(parseInt(d.start_page));f();
d.wrap_around||h()})}})(jQuery);function MarkerClusterer(a,d,c){this.extend(MarkerClusterer,google.maps.OverlayView);this.map_=a;this.markers_=[];this.clusters_=[];this.sizes=[53,56,66,78,90];this.styles_=[];this.ready_=!1;c=c||{};this.gridSize_=c.gridSize||60;this.minClusterSize_=c.minimumClusterSize||2;this.maxZoom_=c.maxZoom||null;this.styles_=c.styles||[];this.imagePath_=c.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_=c.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_=!0;void 0!=c.zoomOnClick&&
(this.zoomOnClick_=c.zoomOnClick);this.averageCenter_=!1;void 0!=c.averageCenter&&(this.averageCenter_=c.averageCenter);this.setupStyles_();this.setMap(a);this.prevZoom_=this.map_.getZoom();var b=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var a=b.map_.getZoom(),c=b.map_.minZoom||0,d=Math.min(b.map_.maxZoom||100,b.map_.mapTypes[b.map_.getMapTypeId()].maxZoom),a=Math.min(Math.max(a,c),d);b.prevZoom_!=a&&(b.prevZoom_=a,b.resetViewport())});google.maps.event.addListener(this.map_,
"idle",function(){b.redraw()});d&&(d.length||Object.keys(d).length)&&this.addMarkers(d,!1)}MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m";MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png";MarkerClusterer.prototype.extend=function(a,d){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[d])};MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)};
MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var a=0,d;d=this.sizes[a];a++)this.styles_.push({url:this.imagePath_+(a+1)+"."+this.imageExtension_,height:d,width:d})};MarkerClusterer.prototype.fitMapToMarkers=function(){for(var a=this.getMarkers(),d=new google.maps.LatLngBounds,c=0,b;b=a[c];c++)d.extend(b.getPosition());this.map_.fitBounds(d)};MarkerClusterer.prototype.setStyles=function(a){this.styles_=a};
MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};
MarkerClusterer.prototype.calculator_=function(a,d){for(var c=0,b=a.length,e=b;0!==e;)e=parseInt(e/10,10),c++;c=Math.min(c,d);return{text:b,index:c}};MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.addMarkers=function(a,d){if(a.length)for(var c=0,b;b=a[c];c++)this.pushMarkerTo_(b);else if(Object.keys(a).length)for(b in a)this.pushMarkerTo_(a[b]);d||this.redraw()};
MarkerClusterer.prototype.pushMarkerTo_=function(a){a.isAdded=!1;if(a.draggable){var d=this;google.maps.event.addListener(a,"dragend",function(){a.isAdded=!1;d.repaint()})}this.markers_.push(a)};MarkerClusterer.prototype.addMarker=function(a,d){this.pushMarkerTo_(a);d||this.redraw()};
MarkerClusterer.prototype.removeMarker_=function(a){var d=-1;if(this.markers_.indexOf)d=this.markers_.indexOf(a);else for(var c=0,b;b=this.markers_[c];c++)if(b==a){d=c;break}if(-1==d)return!1;a.setMap(null);this.markers_.splice(d,1);return!0};MarkerClusterer.prototype.removeMarker=function(a,d){var c=this.removeMarker_(a);return!d&&c?(this.resetViewport(),this.redraw(),!0):!1};
MarkerClusterer.prototype.removeMarkers=function(a,d){for(var c=!1,b=0,e;e=a[b];b++)e=this.removeMarker_(e),c=c||e;if(!d&&c)return this.resetViewport(),this.redraw(),!0};MarkerClusterer.prototype.setReady_=function(a){this.ready_||(this.ready_=a,this.createClusters_())};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.getMap=function(){return this.map_};MarkerClusterer.prototype.setMap=function(a){this.map_=a};
MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a};MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinClusterSize=function(a){this.minClusterSize_=a};
MarkerClusterer.prototype.getExtendedBounds=function(a){var d=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),b=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),c=d.fromLatLngToDivPixel(c);c.x+=this.gridSize_;c.y-=this.gridSize_;b=d.fromLatLngToDivPixel(b);b.x-=this.gridSize_;b.y+=this.gridSize_;c=d.fromDivPixelToLatLng(c);d=d.fromDivPixelToLatLng(b);a.extend(c);a.extend(d);return a};
MarkerClusterer.prototype.isMarkerInBounds_=function(a,d){return d.contains(a.getPosition())};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0);this.markers_=[]};MarkerClusterer.prototype.resetViewport=function(a){for(var d=0,c;c=this.clusters_[d];d++)c.remove();for(d=0;c=this.markers_[d];d++)c.isAdded=!1,a&&c.setMap(null);this.clusters_=[]};
MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_.length=0;this.resetViewport();this.redraw();window.setTimeout(function(){for(var d=0,c;c=a[d];d++)c.remove()},0)};MarkerClusterer.prototype.redraw=function(){this.createClusters_()};
MarkerClusterer.prototype.distanceBetweenPoints_=function(a,d){if(!a||!d)return 0;var c=(d.lat()-a.lat())*Math.PI/180,b=(d.lng()-a.lng())*Math.PI/180,c=Math.sin(c/2)*Math.sin(c/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(d.lat()*Math.PI/180)*Math.sin(b/2)*Math.sin(b/2);return 12742*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))};
MarkerClusterer.prototype.addToClosestCluster_=function(a){var d=4E4,c=null;a.getPosition();for(var b=0,e;e=this.clusters_[b];b++){var f=e.getCenter();f&&(f=this.distanceBetweenPoints_(f,a.getPosition()),f<d&&(d=f,c=e))}c&&c.isMarkerInClusterBounds(a)?c.addMarker(a):(e=new Cluster(this),e.addMarker(a),this.clusters_.push(e))};
MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var a=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),a=this.getExtendedBounds(a),d=0,c;c=this.markers_[d];d++)!c.isAdded&&this.isMarkerInBounds_(c,a)&&this.addToClosestCluster_(c)};
function Cluster(a){this.markerClusterer_=a;this.map_=a.getMap();this.gridSize_=a.getGridSize();this.minClusterSize_=a.getMinClusterSize();this.averageCenter_=a.isAverageCenter();this.center_=null;this.markers_=[];this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,a.getStyles(),a.getGridSize())}Cluster.prototype.isMarkerAlreadyAdded=function(a){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(a);for(var d=0,c;c=this.markers_[d];d++)if(c==a)return!0;return!1};
Cluster.prototype.addMarker=function(a){if(this.isMarkerAlreadyAdded(a))return!1;if(!this.center_)this.center_=a.getPosition(),this.calculateBounds_();else if(this.averageCenter_){var d=this.markers_.length+1,c=(this.center_.lat()*(d-1)+a.getPosition().lat())/d,d=(this.center_.lng()*(d-1)+a.getPosition().lng())/d;this.center_=new google.maps.LatLng(c,d);this.calculateBounds_()}a.isAdded=!0;this.markers_.push(a);c=this.markers_.length;c<this.minClusterSize_&&a.getMap()!=this.map_&&a.setMap(this.map_);
if(c==this.minClusterSize_)for(d=0;d<c;d++)this.markers_[d].setMap(null);c>=this.minClusterSize_&&a.setMap(null);this.updateIcon();return!0};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){for(var a=new google.maps.LatLngBounds(this.center_,this.center_),d=this.getMarkers(),c=0,b;b=d[c];c++)a.extend(b.getPosition());return a};Cluster.prototype.remove=function(){this.clusterIcon_.remove();this.markers_.length=0;delete this.markers_};
Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)};Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())};Cluster.prototype.getMap=function(){return this.map_};
Cluster.prototype.updateIcon=function(){var a=this.map_.getZoom(),d=this.markerClusterer_.getMaxZoom();if(d&&a>d)for(a=0;d=this.markers_[a];a++)d.setMap(this.map_);else this.markers_.length<this.minClusterSize_?this.clusterIcon_.hide():(a=this.markerClusterer_.getStyles().length,a=this.markerClusterer_.getCalculator()(this.markers_,a),this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(a),this.clusterIcon_.show())};
function ClusterIcon(a,d,c){a.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_=d;this.padding_=c||0;this.cluster_=a;this.center_=null;this.map_=a.getMap();this.sums_=this.div_=null;this.visible_=!1;this.setMap(this.map_)}ClusterIcon.prototype.triggerClusterClick=function(){var a=this.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"clusterclick",this.cluster_);a.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())};
ClusterIcon.prototype.onAdd=function(){this.div_=document.createElement("DIV");if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var d=this;google.maps.event.addDomListener(this.div_,"click",function(){d.triggerClusterClick()})};
ClusterIcon.prototype.getPosFromLatLng_=function(a){a=this.getProjection().fromLatLngToDivPixel(a);a.x-=parseInt(this.width_/2,10);a.y-=parseInt(this.height_/2,10);return a};ClusterIcon.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px";this.div_.style.left=a.x+"px"}};ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none");this.visible_=!1};
ClusterIcon.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.style.display=""}this.visible_=!0};ClusterIcon.prototype.remove=function(){this.setMap(null)};ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)};
ClusterIcon.prototype.setSums=function(a){this.sums_=a;this.text_=a.text;this.index_=a.index;this.div_&&(this.div_.innerHTML=a.text);this.useStyle()};ClusterIcon.prototype.useStyle=function(){var a=Math.max(0,this.sums_.index-1),a=Math.min(this.styles_.length-1,a),a=this.styles_[a];this.url_=a.url;this.height_=a.height;this.width_=a.width;this.textColor_=a.textColor;this.anchor_=a.anchor;this.textSize_=a.textSize;this.backgroundPosition_=a.backgroundPosition};
ClusterIcon.prototype.setCenter=function(a){this.center_=a};
ClusterIcon.prototype.createCss=function(a){var d=[];d.push("background-image:url("+this.url_+");");d.push("background-position:"+(this.backgroundPosition_?this.backgroundPosition_:"0 0")+";");"object"===typeof this.anchor_?("number"===typeof this.anchor_[0]&&0<this.anchor_[0]&&this.anchor_[0]<this.height_?d.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):d.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"===typeof this.anchor_[1]&&
0<this.anchor_[1]&&this.anchor_[1]<this.width_?d.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):d.push("width:"+this.width_+"px; text-align:center;")):d.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");d.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+(this.textColor_?this.textColor_:"black")+"; position:absolute; font-size:"+(this.textSize_?this.textSize_:11)+"px; font-family:Arial,sans-serif; font-weight:bold");
return d.join("")};window.MarkerClusterer=MarkerClusterer;MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker;MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers;MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers;MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers;MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator;MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize;
MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds;MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap;MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers;MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom;MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles;MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters;
MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers;MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw;MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker;MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers;MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport;MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint;MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator;
MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize;MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom;MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd;MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw;Cluster.prototype.getCenter=Cluster.prototype.getCenter;Cluster.prototype.getSize=Cluster.prototype.getSize;Cluster.prototype.getMarkers=Cluster.prototype.getMarkers;ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd;
ClusterIcon.prototype.draw=ClusterIcon.prototype.draw;ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove;Object.keys=Object.keys||function(a){var d=[],c;for(c in a)a.hasOwnProperty(c)&&d.push(c);return d};(function(a){function d(){}function c(a,b){return void 0!==a?a:b}function b(a){function b(){}b.prototype=z.prototype;a.prototype=new b}function e(a,b){var c=a.length,d;for(d=0;d<c;d++)b.call(this,a[d],d)}function f(a,b){var c=[],d=a.length,e;for(e=0;e<d;e++)c.push(b.call(this,a[e],e));return c}function h(){var b=new a.Deferred;setTimeout(function(){b.resolve()},0);return b.promise()}function k(){return!!navigator.userAgent.match(/(ipod|iphone|ipad)/ig)}function m(){}function l(){this.e()}function n(a){a=
a||{};this.m=c(a.w,F);this.l=c(a.u,"both");this.e()}function p(b,c){var d=b.m;if(c!==b.c){if(b.c){b.B();var e=b.c;d.ea(e).done(function(){b.S(e)})}b.c=c;if(b.c){b.V();b.ia&&u(b);var f=b.a,g=b.c.a,h=f.find("> *");0===h.length?f.append(g):g.insertBefore(h.first());d.ta(b.c).done(function(){a(b).trigger("vnbx_content_show",[b,b.c])})}}}function g(a){a.ia={width:!0===a.l||"both"===a.l||"horizontal"===a.l?(window.innerWidth||document.documentElement.clientWidth)-100:Number.MAX_VALUE,height:!0===a.l||"both"===
a.l||"vertical"===a.l?(window.innerHeight||document.documentElement.clientHeight)-100:Number.MAX_VALUE};a.c&&u(a)}function u(a){var b=a.ia;a.c.Z(Math.max(b.width,200),Math.max(b.height,150))}function r(a){a=a||{};this.d=new n({w:a.w,u:a.u});this.e();this.g()}function t(b,c){var d=b.d.a,e=d.width(),f=d.height();d.width(c.width);d.height(c.height);var g=a(window),h=b.a,l=window.innerWidth||document.documentElement.clientWidth,k=window.innerHeight||document.documentElement.clientHeight,l=Math.round(g.scrollLeft()+
(l-h.outerWidth())/2),g=Math.max(Math.round(g.scrollTop()+(k-h.outerHeight())/2),0);d.width(e);d.height(f);return{left:l,top:g}}function z(a){a=a||{};this.wa=this.R=!1;this.sa=a.path;this.Ha=c(a.title,"");this.e()}function x(b,c){var d=b.a;b.R=!0;b.wa=c;d.removeClass("vnbx-loading");c||d.addClass("vnbx-error");a(b).trigger("vnbx_complete",c)}function q(a){z.call(this,a)}function B(a){z.call(this,a)}function w(a){a=a||{};this.Da=a.K;this.Ca=a.J;z.call(this,a)}function H(a){a=a||{};this.s=c(a.Ia,1);
this.v=c(a.loop,!1);O(this,c(a.page,0))}function O(b,c){var d=b.i,e=b.s,e=Math.min(Math.max(c,0),e-1);b.i=e;d!==e&&a(b).trigger("vnbx_change")}function D(a){this.A=a.t;this.W=c(a.disabled,!1);this.e()}function G(a,b){var c=a.a;a.W=b;a.W?c.addClass("vnbx-disabled"):c.removeClass("vnbx-disabled")}function M(a){this.A=a.t;this.e()}function C(a){if(!a.ba||0===a.ba.length)throw new m;this.U=!1;this.N=a.ba;this.m=c(a.w,F);this.Fa=a.Ea;this.Ga=a.Ba;this.O=a.ya;this.l=a.u;this.Q=a.Aa;this.za={K:a.K,J:a.J,
type:a.type};this.k=new H({loop:a.loop,Ia:this.N.length});this.e()}function E(b){b.p=f(b.N,function(c){c=a(c);var d=b.za,e=L[d.type];if(!e)throw new m;return e(c,d)});var c=new q;fa(b,c)}function K(a){p(a.f.d,null);a.p&&(e(a.p,function(a){a.b()}),a.p=null)}function N(b){var c=a(window),d=a(document);c.on("resize",a.proxy(b.I,b));c.on("scroll",a.proxy(b.ra,b));d.on("keyup",a.proxy(b.la,b))}function U(b){var c=a(window),d=a(document);c.off("resize",b.I,b);c.off("scroll",b.ra,b);d.off("keyup",b.la,b)}
function fa(a,b){var c=a.f.d,d=a.f.d.c;d&&d.R&&d===b||(a.B(),p(c,b),a.V(),a.ca.a.text(b.Ha),b.load());c.C()}function aa(a){var b=a.k;a.Y.a.text(String(b.i+1)+" of "+String(b.s));G(a.L,!(b.v||0<b.i));G(a.D,!(b.v||b.i<b.s-1));fa(a,a.p[a.k.i])}function X(a){a.ha&&clearTimeout(a.ha);a.ha=setTimeout(function(){a.Fa&&a.m.T(a.f)},300)}var y,Q={va:function(a){return a.a.show().promise()},ga:function(a){return a.a.hide()},ua:function(a){Q.T(a);return a.a.show().promise()},fa:function(a){return a.a.hide()},
T:function(a){var b=a.d,c=b.q(),d=t(a,c);b.a.css({width:c.width,height:c.height});a.a.css({left:d.left,top:d.top});return h()},ta:function(a){return a.a.show().promise()},ea:function(a){return a.a.hide().promise()}},F={va:function(a){return a.a.fadeIn(200).promise()},ga:function(a){return a.a.fadeOut(300).promise()},xa:function(b,c,d,e){var f=b.d.a;f.stop();c=f.animate({width:c.width,height:c.height},e);b=b.a;b.stop();d=b.animate({left:d.left,top:d.top},e);return a.when(c,d)},ua:function(a){var b=
a.d,c=b.q(),d=t(a,c);b.a.css({width:c.width,height:c.height});a.a.css({left:d.left,top:d.top});return h()},fa:function(){return h()},T:function(a){var b=a.d.q(),c=t(a,b);return F.xa(a,b,c,300)},ta:function(a){return a.a.fadeIn(200).promise()},ea:function(a){return a.a.fadeOut(300).promise()}},A={none:Q,"default":F};y=l.prototype;y.e=function(){var b=a("<div>");b.addClass("vnbx-mask");this.a=b;this.g()};y.b=function(){this.h();this.a=null};y.g=function(){a(window).on("resize",a.proxy(this.I,this));
this.a.on("click",a.proxy(this.o,this))};y.h=function(){a(window).off("resize",this.I);this.a.off("click",this.o)};y.C=function(){var b=this.a;b.width("");b.height("");var c=a(window),d=a(document),e=Math.max(d.width(),c.width()),c=Math.max(d.height(),c.height());b.width(e);b.height(c)};y.I=function(){this.C()};y.o=function(){a(this).trigger("vnbx_click")};y=n.prototype;y.e=function(){var b=a("<div>");b.addClass("vnbx-container");this.a=b;this.g()};y.b=function(){this.h();this.a=null};y.g=function(){};
y.h=function(){this.B()};y.V=function(){a(this.c).on("vnbx_complete",a.proxy(this.F,this))};y.B=function(){var b=this.c;b&&a(b).off("vnbx_complete",this.F)};y.q=function(){var a=this.c,b={width:0,height:0};a&&(b=a.q());return{width:Math.max(b.width,200),height:Math.max(b.height,150)}};y.C=function(){var a=this.c,b=a.q();a.a.css({marginLeft:-Math.round(b.width/2),marginTop:-Math.round(b.height/2)})};y.F=function(){this.C()};y.S=function(b){a(this).trigger("vnbx_content_hide",[this,b])};y=r.prototype;
y.e=function(){var b=a("<div>");b.addClass("vnbx-frame");this.a=b;this.a.append(this.d.a)};y.b=function(){this.d.b();this.d=null;this.h();this.a=null};y.g=function(){this.a.on("click",a.proxy(this.o,this))};y.h=function(){this.a.off("click",this.o)};y.o=function(a){a.stopPropagation()};y=z.prototype;y.e=function(){var b=a("<div>");b.addClass("vnbx-content");this.a=b;this.$();this.g()};y.$=d;y.g=d;y.h=d;y.b=function(){this.h();this.a.remove();this.a=null};y.aa=function(){return!1};y.q=function(){var a=
this.a;return{width:a.width(),height:a.height()}};y.Z=function(a,b){this.a.css({maxWidth:a,maxHeight:b})};y.load=function(){this.a.addClass("vnbx-loading");this.R?x(this,this.wa):this.X()};y.X=d;y.unload=function(){this.da();this.R=!1};y.da=d;b(q);q.prototype.e=function(){z.prototype.e.call(this);this.a.addClass("vnbx-empty")};q.prototype.load=function(){var b=this;setTimeout(function(){a(b).trigger("vnbx_complete",!0)},0)};b(B);y=B.prototype;y.$=function(){var b=a("<img>");this.a.append(b);this.r=
b};y.b=function(){z.prototype.b.call(this);this.r=null};y.g=function(){var b=this.r;b.on("load",a.proxy(this.H,this));b.on("error",a.proxy(this.G,this))};y.h=function(){var a=this.r;a.off("load",this.H);a.off("error",this.G)};y.Z=function(a,b){this.r.css({maxWidth:a,maxHeight:b})};y.X=function(){this.r.attr("src",this.sa)};y.da=function(){this.r.attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==")};y.H=function(){"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="!==
this.r.attr("src")&&x(this,!0)};y.G=function(){x(this,!1)};b(w);y=w.prototype;y.$=function(){var b=a("<iframe>");b.attr("frameborder",0);this.a.append(b);this.j=b};y.b=function(){z.prototype.b.call(this);this.j=null};y.aa=function(){return!0};y.g=function(){var b=this.j;b.on("load",a.proxy(this.H,this));b.on("error",a.proxy(this.G,this))};y.h=function(){var a=this.j;a.off("load",this.H);a.off("error",this.G)};y.q=function(){var a=k()?this.a:this.j;return{width:a.width(),height:a.height()}};y.Z=function(a,
b){(k()?this.a:this.j).css({maxWidth:a,maxHeight:b})};y.X=function(){this.j.attr("src",this.sa)};y.da=function(){this.j.attr("src","about:blank");var a=k()?this.a:this.j;a.width("");a.height("")};y.H=function(){var a=this.j.attr("src");a&&"about:blank"!==a&&(a=k()?this.a:this.j,a.width(this.Da),a.height(this.Ca),x(this,!0))};y.G=function(){x(this,!1)};var L={image:function(a){return new B({path:a.attr("href"),title:a.attr("title")})},iframe:function(a,b){return new w({path:a.attr("href"),K:b.K,J:b.J,
title:a.attr("title")})}};H.prototype.next=function(){var b=this.s,c=this.i,d=c+1;d>b-1&&(d=this.v?0:b-1);this.i=d;c!==d&&a(this).trigger("vnbx_change")};H.prototype.M=function(){var b=this.s,c=this.i,d=c-1;0>d&&(d=this.v?b-1:0);this.i=d;c!==d&&a(this).trigger("vnbx_change")};y=D.prototype;y.e=function(){var b=a("<div>");b.addClass("vnbx-button");this.A&&b.addClass(this.A);b.attr("ontouchstart","void(0)");this.a=b;this.g()};y.b=function(){this.a=null};y.g=function(){this.a.on("click",a.proxy(this.o,
this))};y.h=function(){this.a.off("click",this.o)};y.o=function(b){b.stopPropagation();this.W||a(this).trigger("vnbx_click")};M.prototype.e=function(){var b=a("<div>");b.addClass("vnbx-label");this.A&&b.addClass(this.A);this.a=b};M.prototype.b=function(){this.a=null};y=C.prototype;y.e=function(){var b=new l,c=b.a;c.addClass("vnbx");c.hide();a("body").append(c);this.n=b;b=this.n.a;k()&&b.addClass("vnbx-ios");this.O&&b.addClass("vnbx-close-button-enabled");this.Q&&1<this.k.s&&b.addClass("vnbx-group");
var d=new r({w:this.m,u:this.l}),b=d.a;this.f=d;c.append(b);this.ca=c=new M({t:"vnbx-title"});b.append(c.a);this.Y=c=new M({t:"vnbx-pager"});b.append(c.a);this.L=c=new D({t:"vnbx-prev"});b.append(c.a);this.D=c=new D({t:"vnbx-next"});b.append(c.a);c=new D({t:"vnbx-close"});this.O||c.a.hide();this.P=c;b.append(c.a);this.g();E(this)};y.b=function(){U(this);this.h();K(this);this.ca.b();this.ca=null;this.Y.b();this.Y=null;this.P.b();this.P=null;this.L.b();this.L=null;this.D.b();this.D=null;this.f.b();
this.f=null;this.n.a.remove();this.n.b();this.n=null};y.g=function(){this.N.on("click",a.proxy(this.qa,this));a(this.n).on("vnbx_click",a.proxy(this.ma,this));a(this.f.d).on("vnbx_content_hide",a.proxy(this.S,this));a(this.k).on("vnbx_change",a.proxy(this.oa,this));a(this.P).on("vnbx_click",a.proxy(this.ja,this));a(this.L).on("vnbx_click",a.proxy(this.pa,this));a(this.D).on("vnbx_click",a.proxy(this.na,this))};y.h=function(){this.N.off("click",this.qa);a(this.n).off("vnbx_click",this.ma);a(this.f.d).off("vnbx_content_hide",
this.S);a(this.k).off("vnbx_change",this.oa);a(this.P).off("vnbx_click",this.ja);a(this.L).off("vnbx_click",this.pa);a(this.D).off("vnbx_click",this.na);this.B();this.c=null};y.V=function(){var b=this.f.d.c;a(b).on("vnbx_complete",a.proxy(this.F,this));b.a.on("click",a.proxy(this.ka,this))};y.B=function(){var b=this.f.d.c;b&&(a(b).off("complete",this.F),b.a.off("click",this.ka))};y.show=function(b){var d=this,e=d.m;if(d.U)return h();d.U=!0;null===d.p&&E(d);N(d);g(d.f.d);var f=d.n;f.C();var f=e.va(f),
e=e.ua(d.f),l=d.k;b=c(b,0);var k=b!==l.i;O(l,b);k||aa(d);return a.when(f,e).then(function(){a(d).trigger("vnbx_show")})};y.hide=function(){var b=this;return b.U?a.when(b.m.fa(b.f),b.m.ga(b.n)).then(function(){U(b);b.U=!1;e(b.p,function(a){a.aa()&&a.unload()});a(b).trigger("vnbx_hide")}):h()};y.M=function(){this.Q&&this.k.M()};y.next=function(){this.Q&&this.k.next()};y.I=function(){X(this)};y.ra=function(){X(this)};y.la=function(a){if(this.Ga)switch(a.keyCode){case 27:this.hide();break;case 37:this.M();
break;case 39:this.next()}};y.qa=function(a){var b=this.N.index(a.delegateTarget);0>b||(a.preventDefault(),this.show(b))};y.oa=function(){aa(this)};y.ma=function(){this.O||this.hide()};y.ja=function(){this.O&&this.hide()};y.pa=function(){this.M()};y.na=function(){this.next()};y.F=function(b,c){this.m.T(this.f);var d=b.target,e;a:{e=this.p;var f=e.length,g;for(g=0;g<f;g++)if(e[g]===d){e=g;break a}e=-1}0<=e&&a(this).trigger("vnbx_load",[c,d,e])};y.ka=function(a){var b=this.k;a.stopPropagation();this.Q?
b.v||b.i<b.s-1?this.next():this.hide():this.hide()};y.S=function(a,b,c){c.aa()&&c.unload()};var I={animation:"default",closeButton:!1,adjustToWindow:"both",keyboard:!0,loop:!1,preferredHeight:600,preferredWidth:800,repositionOnScroll:!1,type:"image",grouping:!0};a.fn.Ja=function(b){var c={};a.extend(c,I);a.extend(c,b);b=a(this);return new C({w:A[c.animation]||F,ya:c.closeButton,u:c.adjustToWindow,Ba:c.keyboard,loop:c.loop,J:c.preferredHeight,K:c.preferredWidth,Ea:c.repositionOnScroll,ba:b,type:c.type,
Aa:c.grouping})};a.fn.vanillabox=a.fn.Ja;C.prototype.dispose=C.prototype.b;C.prototype.hide=C.prototype.hide;C.prototype.next=C.prototype.next;C.prototype.previous=C.prototype.M;C.prototype.show=C.prototype.show})(jQuery);(function(){(function(a){var d=this||(0,eval)("this"),c=d.document,b=d.navigator,e=d.jQuery,f=d.JSON;(function(a){"function"===typeof define&&define.amd?define(["exports","require"],a):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?a(module.exports||exports):a(d.ko={})})(function(h,k){function m(a,b){return null===a||typeof a in u?a===b:!1}function l(b,c){var d;return function(){d||(d=setTimeout(function(){d=a;b()},c))}}function n(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function p(a,b,c,d){g.d[a]={init:function(a,e,f,h,l){var k,n;g.w(function(){var f=g.a.c(e()),h=!c!==!f,q=!n;if(q||b||h!==k)q&&g.Z.oa()&&(n=g.a.la(g.e.childNodes(a),!0)),h?(q||g.e.T(a,g.a.la(n)),g.Ja(d?d(l,f):l,a)):g.e.ma(a),k=h},null,{q:a});return{controlsDescendantBindings:!0}}};g.h.ka[a]=!1;g.e.R[a]=!0}var g="undefined"!==typeof h?h:{};g.b=function(a,b){for(var c=a.split("."),d=g,e=0;e<c.length-1;e++)d=d[c[e]];d[c[c.length-1]]=b};g.D=function(a,b,c){a[b]=c};g.version="3.3.0";
g.b("version",g.version);g.a=function(){function h(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function l(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function k(a,b){a.__proto__=b;return a}function n(a,b,c,d){var e=a[b].match(u)||[];g.a.o(c.match(u),function(a){g.a.ga(e,a,d)});a[b]=e.join(" ")}var m={__proto__:[]}instanceof Array,D={},t={};D[b&&/Firefox\/2/i.test(b.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];D.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");
h(D,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)t[b[c]]=a});var p={propertychange:!0},C=c&&function(){for(var b=3,d=c.createElement("div"),e=d.getElementsByTagName("i");d.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i></i><![endif]--\x3e",e[0];);return 4<b?b:a}(),u=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},m:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,
b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},vb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},ya:function(a,b){var c=g.a.m(a,b);0<c?a.splice(c,1):0===c&&a.shift()},wb:function(a){a=a||[];for(var b=[],c=0,d=a.length;c<d;c++)0>g.a.m(b,a[c])&&b.push(a[c]);return b},Ka:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},xa:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);
return c},ia:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},ga:function(a,b,c){var d=g.a.m(g.a.cb(a),b);0>d?c&&a.push(b):c||a.splice(d,1)},za:m,extend:l,Fa:k,Ga:m?k:l,A:h,pa:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},Ra:function(a){for(;a.firstChild;)g.removeNode(a.firstChild)},Jb:function(a){a=g.a.O(a);for(var b=(a[0]&&a[0].ownerDocument||c).createElement("div"),d=0,e=a.length;d<
e;d++)b.appendChild(g.S(a[d]));return b},la:function(a,b){for(var c=0,d=a.length,e=[];c<d;c++){var f=a[c].cloneNode(!0);e.push(b?g.S(f):f)}return e},T:function(a,b){g.a.Ra(a);if(b)for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])},Qb:function(a,b){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=c[0],e=d.parentNode,f=0,h=b.length;f<h;f++)e.insertBefore(b[f],d);f=0;for(h=c.length;f<h;f++)g.removeNode(c[f])}},na:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==
b;)a.splice(0,1);if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},Sb:function(a,b){7>C?a.setAttribute("selected",b):a.selected=b},ib:function(b){return null===b||b===a?"":b.trim?b.trim():b.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},jc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?
a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Qa:function(a){return g.a.jc(a,a.ownerDocument.documentElement)},tb:function(a){return!!g.a.vb(a,g.a.Qa)},v:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(a,b,c){var d=C&&p[b];if(!d&&e)e(a).bind(b,c);else if(d||"function"!=typeof a.addEventListener)if("undefined"!=typeof a.attachEvent){var f=function(b){c.call(a,b)},h="on"+b;a.attachEvent(h,f);g.a.C.fa(a,
function(){a.detachEvent(h,f)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else a.addEventListener(b,c,!1)},qa:function(a,b){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var f;"input"===g.a.v(a)&&a.type&&"click"==b.toLowerCase()?(f=a.type,f="checkbox"==f||"radio"==f):f=!1;if(e&&!f)e(a).trigger(b);else if("function"==typeof c.createEvent)if("function"==typeof a.dispatchEvent)f=c.createEvent(t[b]||"HTMLEvents"),f.initEvent(b,
!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(f);else throw Error("The supplied element doesn't support dispatchEvent");else if(f&&a.click)a.click();else if("undefined"!=typeof a.fireEvent)a.fireEvent("on"+b);else throw Error("Browser doesn't support triggering events");},c:function(a){return g.F(a)?a():a},cb:function(a){return g.F(a)?a.B():a},Ia:function(a,b,c){var d;b&&("object"===typeof a.classList?(d=a.classList[c?"add":"remove"],g.a.o(b.match(u),function(b){d.call(a.classList,b)})):"string"===
typeof a.className.baseVal?n(a.className,"baseVal",b,c):n(a,"className",b,c))},Ha:function(b,c){var d=g.a.c(c);if(null===d||d===a)d="";var e=g.e.firstChild(b);!e||3!=e.nodeType||g.e.nextSibling(e)?g.e.T(b,[b.ownerDocument.createTextNode(d)]):e.data=d;g.a.mc(b)},Rb:function(a,b){a.name=b;if(7>=C)try{a.mergeAttributes(c.createElement("<input name='"+a.name+"'/>"),!1)}catch(d){}},mc:function(a){9<=C&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},kc:function(a){if(C){var b=a.style.width;
a.style.width=0;a.style.width=b}},Bc:function(a,b){a=g.a.c(a);b=g.a.c(b);for(var c=[],d=a;d<=b;d++)c.push(d);return c},O:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Hc:6===C,Ic:7===C,M:C,Db:function(a,b){for(var c=g.a.O(a.getElementsByTagName("input")).concat(g.a.O(a.getElementsByTagName("textarea"))),d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},e=[],f=c.length-1;0<=f;f--)d(c[f])&&e.push(c[f]);return e},yc:function(a){return"string"==
typeof a&&(a=g.a.ib(a))?f&&f.parse?f.parse(a):(new Function("return "+a))():null},jb:function(a,b,c){if(!f||!f.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return f.stringify(g.a.c(a),b,c)},zc:function(a,b,d){d=d||{};var e=d.params||{},f=d.includeFields||this.Bb,l=a;if("object"==typeof a&&"form"===g.a.v(a))for(var l=a.action,
k=f.length-1;0<=k;k--)for(var n=g.a.Db(a,f[k]),m=n.length-1;0<=m;m--)e[n[m].name]=n[m].value;b=g.a.c(b);var D=c.createElement("form");D.style.display="none";D.action=l;D.method="post";for(var w in b)a=c.createElement("input"),a.type="hidden",a.name=w,a.value=g.a.jb(g.a.c(b[w])),D.appendChild(a);h(e,function(a,b){var d=c.createElement("input");d.type="hidden";d.name=a;d.value=b;D.appendChild(d)});c.body.appendChild(D);d.submitter?d.submitter(D):D.submit();setTimeout(function(){D.parentNode.removeChild(D)},
0)}}}();g.b("utils",g.a);g.b("utils.arrayForEach",g.a.o);g.b("utils.arrayFirst",g.a.vb);g.b("utils.arrayFilter",g.a.xa);g.b("utils.arrayGetDistinctValues",g.a.wb);g.b("utils.arrayIndexOf",g.a.m);g.b("utils.arrayMap",g.a.Ka);g.b("utils.arrayPushAll",g.a.ia);g.b("utils.arrayRemoveItem",g.a.ya);g.b("utils.extend",g.a.extend);g.b("utils.fieldsIncludedWithJsonPost",g.a.Bb);g.b("utils.getFormFields",g.a.Db);g.b("utils.peekObservable",g.a.cb);g.b("utils.postJson",g.a.zc);g.b("utils.parseJson",g.a.yc);g.b("utils.registerEventHandler",
g.a.n);g.b("utils.stringifyJson",g.a.jb);g.b("utils.range",g.a.Bc);g.b("utils.toggleDomNodeCssClass",g.a.Ia);g.b("utils.triggerEvent",g.a.qa);g.b("utils.unwrapObservable",g.a.c);g.b("utils.objectForEach",g.a.A);g.b("utils.addOrRemoveItem",g.a.ga);g.b("utils.setTextContent",g.a.Ha);g.b("unwrap",g.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=
c.slice(0);d.push.apply(d,arguments);return b.apply(a,d)}});g.a.f=new function(){function b(f,g){var h=f[d];if(!h||"null"===h||!e[h]){if(!g)return a;h=f[d]="ko"+c++;e[h]={}}return e[h]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=b(c,!1);return e===a?a:e[d]},set:function(c,d,e){if(e!==a||b(c,!1)!==a)b(c,!0)[d]=e},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},I:function(){return c++ +d}}};g.b("utils.domData",g.a.f);g.b("utils.domData.clear",g.a.f.clear);
g.a.C=new function(){function b(c,e){var f=g.a.f.get(c,d);f===a&&e&&(f=[],g.a.f.set(c,d,f));return f}function c(a){var d=b(a,!1);if(d)for(var d=d.slice(0),e=0;e<d.length;e++)d[e](a);g.a.f.clear(a);g.a.C.cleanExternalData(a);if(h[a.nodeType])for(d=a.firstChild;a=d;)d=a.nextSibling,8===a.nodeType&&c(a)}var d=g.a.f.I(),f={1:!0,8:!0,9:!0},h={1:!0,9:!0};return{fa:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},Pb:function(c,e){var f=b(c,!1);f&&(g.a.ya(f,
e),0==f.length&&g.a.f.set(c,d,a))},S:function(a){if(f[a.nodeType]&&(c(a),h[a.nodeType])){var b=[];g.a.ia(b,a.getElementsByTagName("*"));for(var d=0,e=b.length;d<e;d++)c(b[d])}return a},removeNode:function(a){g.S(a);a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(a){e&&"function"==typeof e.cleanData&&e.cleanData([a])}}};g.S=g.a.C.S;g.removeNode=g.a.C.removeNode;g.b("cleanNode",g.S);g.b("removeNode",g.removeNode);g.b("utils.domNodeDisposal",g.a.C);g.b("utils.domNodeDisposal.addDisposeCallback",
g.a.C.fa);g.b("utils.domNodeDisposal.removeDisposeCallback",g.a.C.Pb);(function(){g.a.ca=function(a,b){var f;if(e)if(e.parseHTML)f=e.parseHTML(a,b)||[];else{if((f=e.clean([a],b))&&f[0]){for(var h=f[0];h.parentNode&&11!==h.parentNode.nodeType;)h=h.parentNode;h.parentNode&&h.parentNode.removeChild(h)}}else{(h=b)||(h=c);f=h.parentWindow||h.defaultView||d;var l=g.a.ib(a).toLowerCase(),h=h.createElement("div"),l=l.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!l.indexOf("<tr")&&[2,"<table><tbody>",
"</tbody></table>"]||(!l.indexOf("<td")||!l.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],k="ignored<div>"+l[1]+a+l[2]+"</div>";for("function"==typeof f.innerShiv?h.appendChild(f.innerShiv(k)):h.innerHTML=k;l[0]--;)h=h.lastChild;f=g.a.O(h.lastChild.childNodes)}return f};g.a.gb=function(b,c){g.a.Ra(b);c=g.a.c(c);if(null!==c&&c!==a)if("string"!=typeof c&&(c=c.toString()),e)e(b).html(c);else for(var d=g.a.ca(c,b.ownerDocument),f=0;f<d.length;f++)b.appendChild(d[f])}})();
g.b("utils.parseHtmlFragment",g.a.ca);g.b("utils.setHtml",g.a.gb);g.H=function(){function b(a,c){if(a)if(8==a.nodeType){var d=g.H.Lb(a.nodeValue);null!=d&&c.push({ic:a,wc:d})}else if(1==a.nodeType)for(var d=0,e=a.childNodes,f=e.length;d<f;d++)b(e[d],c)}var c={};return{$a:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);
c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Wb:function(b,d){var e=c[b];if(e===a)throw Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return e.apply(null,d||[]),!0}finally{delete c[b]}},Xb:function(a,c){var d=[];b(a,d);for(var e=0,f=d.length;e<f;e++){var h=d[e].ic,l=[h];c&&g.a.ia(l,c);g.H.Wb(d[e].wc,l);h.nodeValue="";h.parentNode&&h.parentNode.removeChild(h)}},Lb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();g.b("memoization",g.H);
g.b("memoization.memoize",g.H.$a);g.b("memoization.unmemoize",g.H.Wb);g.b("memoization.parseMemoText",g.H.Lb);g.b("memoization.unmemoizeDomNodeAndDescendants",g.H.Xb);g.Sa={throttle:function(a,b){a.throttleEvaluation=b;var c=null;return g.j({read:a,write:function(d){clearTimeout(c);c=setTimeout(function(){a(d)},b)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?n:l;a.Za(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer=
"always"==b?null:m}};var u={undefined:1,"boolean":1,number:1,string:1};g.b("extenders",g.Sa);g.Ub=function(a,b,c){this.da=a;this.La=b;this.hc=c;this.Gb=!1;g.D(this,"dispose",this.p)};g.Ub.prototype.p=function(){this.Gb=!0;this.hc()};g.Q=function(){g.a.Ga(this,g.Q.fn);this.G={};this.rb=1};var r={U:function(a,b,c){var d=this;c=c||"change";var e=new g.Ub(d,b?a.bind(b):a,function(){g.a.ya(d.G[c],e);d.ua&&d.ua(c)});d.ja&&d.ja(c);d.G[c]||(d.G[c]=[]);d.G[c].push(e);return e},notifySubscribers:function(a,
b){b=b||"change";"change"===b&&this.Yb();if(this.Ba(b))try{g.k.xb();for(var c=this.G[b].slice(0),d=0,e;e=c[d];++d)e.Gb||e.La(a)}finally{g.k.end()}},Aa:function(){return this.rb},pc:function(a){return this.Aa()!==a},Yb:function(){++this.rb},Za:function(a){var b=this,c=g.F(b),d,e,f;b.ta||(b.ta=b.notifySubscribers,b.notifySubscribers=function(a,c){c&&"change"!==c?"beforeChange"===c?b.pb(a):b.ta(a,c):b.qb(a)});var h=a(function(){c&&f===b&&(f=b());d=!1;b.Wa(e,f)&&b.ta(e=f)});b.qb=function(a){d=!0;f=a;
h()};b.pb=function(a){d||(e=a,b.ta(a,"beforeChange"))}},Ba:function(a){return this.G[a]&&this.G[a].length},nc:function(a){if(a)return this.G[a]&&this.G[a].length||0;var b=0;g.a.A(this.G,function(a,c){b+=c.length});return b},Wa:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(a){var b=this;a&&g.a.A(a,function(a,c){var d=g.Sa[a];"function"==typeof d&&(b=d(b,c)||b)});return b}};g.D(r,"subscribe",r.U);g.D(r,"extend",r.extend);g.D(r,"getSubscriptionsCount",r.nc);
g.a.za&&g.a.Fa(r,Function.prototype);g.Q.fn=r;g.Hb=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers};g.b("subscribable",g.Q);g.b("isSubscribable",g.Hb);g.Z=g.k=function(){function a(b){c.push(d);d=b}function b(){d=c.pop()}var c=[],d,e=0;return{xb:a,end:b,Ob:function(a){if(d){if(!g.Hb(a))throw Error("Only subscribable things can act as dependencies");d.La(a,a.ac||(a.ac=++e))}},u:function(c,d,e){try{return a(),c.apply(d,e||[])}finally{b()}},oa:function(){if(d)return d.w.oa()},
Ca:function(){if(d)return d.Ca}}}();g.b("computedContext",g.Z);g.b("computedContext.getDependenciesCount",g.Z.oa);g.b("computedContext.isInitial",g.Z.Ca);g.b("computedContext.isSleeping",g.Z.Jc);g.b("ignoreDependencies",g.Gc=g.k.u);g.r=function(a){function b(){if(0<arguments.length)return b.Wa(c,arguments[0])&&(b.X(),c=arguments[0],b.W()),this;g.k.Ob(b);return c}var c=a;g.Q.call(b);g.a.Ga(b,g.r.fn);b.B=function(){return c};b.W=function(){b.notifySubscribers(c)};b.X=function(){b.notifySubscribers(c,
"beforeChange")};g.D(b,"peek",b.B);g.D(b,"valueHasMutated",b.W);g.D(b,"valueWillMutate",b.X);return b};g.r.fn={equalityComparer:m};var t=g.r.Ac="__ko_proto__";g.r.fn[t]=g.r;g.a.za&&g.a.Fa(g.r.fn,g.Q.fn);g.Ta=function(b,c){return null===b||b===a||b[t]===a?!1:b[t]===c?!0:g.Ta(b[t],c)};g.F=function(a){return g.Ta(a,g.r)};g.Da=function(a){return"function"==typeof a&&a[t]===g.r||"function"==typeof a&&a[t]===g.j&&a.qc?!0:!1};g.b("observable",g.r);g.b("isObservable",g.F);g.b("isWriteableObservable",g.Da);
g.b("isWritableObservable",g.Da);g.ba=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=g.r(a);g.a.Ga(a,g.ba.fn);return a.extend({trackArrayChanges:!0})};g.ba.fn={remove:function(a){for(var b=this.B(),c=[],d="function"!=typeof a||g.F(a)?function(b){return b===a}:a,e=0;e<b.length;e++){var f=b[e];d(f)&&(0===c.length&&this.X(),c.push(f),b.splice(e,1),e--)}c.length&&this.W();return c},
removeAll:function(b){if(b===a){var c=this.B(),d=c.slice(0);this.X();c.splice(0,c.length);this.W();return d}return b?this.remove(function(a){return 0<=g.a.m(b,a)}):[]},destroy:function(a){var b=this.B(),c="function"!=typeof a||g.F(a)?function(b){return b===a}:a;this.X();for(var d=b.length-1;0<=d;d--)c(b[d])&&(b[d]._destroy=!0);this.W()},destroyAll:function(b){return b===a?this.destroy(function(){return!0}):b?this.destroy(function(a){return 0<=g.a.m(b,a)}):[]},indexOf:function(a){var b=this();return g.a.m(b,
a)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.X(),this.B()[c]=b,this.W())}};g.a.o("pop push reverse shift sort splice unshift".split(" "),function(a){g.ba.fn[a]=function(){var b=this.B();this.X();this.yb(b,a,arguments);b=b[a].apply(b,arguments);this.W();return b}});g.a.o(["slice"],function(a){g.ba.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});g.a.za&&g.a.Fa(g.ba.fn,g.r.fn);g.b("observableArray",g.ba);g.Sa.trackArrayChanges=function(a){function b(){if(!c){c=!0;var h=
a.notifySubscribers;a.notifySubscribers=function(a,b){b&&"change"!==b||++f;return h.apply(this,arguments)};var l=[].concat(a.B()||[]);d=null;e=a.U(function(b){b=[].concat(b||[]);if(a.Ba("arrayChange")){var c;if(!d||1<f)d=g.a.Ma(l,b,{sparse:!0});c=d}l=b;d=null;f=0;c&&c.length&&a.notifySubscribers(c,"arrayChange")})}}if(!a.yb){var c=!1,d=null,e,f=0,h=a.ja,l=a.ua;a.ja=function(c){h&&h.call(a,c);"arrayChange"===c&&b()};a.ua=function(b){l&&l.call(a,b);"arrayChange"!==b||a.Ba("arrayChange")||(e.p(),c=!1)};
a.yb=function(a,b,e){function h(a,b,c){return l[l.length]={status:a,value:b,index:c}}if(c&&!f){var l=[],k=a.length,n=e.length,m=0;switch(b){case "push":m=k;case "unshift":for(b=0;b<n;b++)h("added",e[b],m+b);break;case "pop":m=k-1;case "shift":k&&h("deleted",a[m],m);break;case "splice":b=Math.min(Math.max(0,0>e[0]?k+e[0]:e[0]),k);for(var k=1===n?k:Math.min(b+(e[1]||0),k),n=b+n-2,m=Math.max(k,n),q=[],t=[],p=2;b<m;++b,++p)b<k&&t.push(h("deleted",a[b],b)),b<n&&q.push(h("added",e[p],b));g.a.Cb(t,q);break;
default:return}d=l}}}};g.w=g.j=function(b,c,d){function e(a,b,c){if(Q&&b===n)throw Error("A 'pure' computed must not be called recursively");P[a]=c;c.sa=R++;c.ea=b.Aa()}function f(){var a,b;for(a in P)if(P.hasOwnProperty(a)&&(b=P[a],b.da.pc(b.ea)))return!0}function h(){!F&&P&&g.a.A(P,function(a,b){b.p&&b.p()});P=null;R=0;z=!0;F=u=!1}function l(){var a=n.throttleEvaluation;a&&0<=a?(clearTimeout(da),da=setTimeout(function(){k(!0)},a)):n.nb?n.nb():k(!0)}function k(b){if(!r&&!z){if(J&&J()){if(!x){S();
return}}else x=!1;r=!0;try{var d=P,f=R,h=Q?a:!R;g.k.xb({La:function(a,b){z||(f&&d[b]?(e(b,a,d[b]),delete d[b],--f):P[b]||e(b,a,F?{da:a}:a.U(l)))},w:n,Ca:h});P={};R=0;try{var m=c?y.call(c):y()}finally{g.k.end(),f&&!F&&g.a.A(d,function(a,b){b.p&&b.p()}),u=!1}n.Wa(p,m)&&(F||n.notifySubscribers(p,"beforeChange"),p=m,F?n.Yb():b&&n.notifySubscribers(p,void 0));h&&n.notifySubscribers(p,"awake")}finally{r=!1}R||S()}}function n(){if(0<arguments.length){if("function"===typeof A)A.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}g.k.Ob(n);(u||F&&f())&&k();return p}function m(){(u&&!R||F&&f())&&k();return p}function t(){return u||0<R}var p,u=!0,r=!1,x=!1,z=!1,y=b,Q=!1,F=!1;y&&"object"==typeof y?(d=y,y=d.read):(d=d||{},y||(y=d.read));if("function"!=typeof y)throw Error("Pass a function that returns the value of the ko.computed");var A=d.write,L=d.disposeWhenNodeIsRemoved||d.q||null,I=d.disposeWhen||d.Pa,J=I,S=h,P={},R=0,da=null;c||(c=d.owner);g.Q.call(n);g.a.Ga(n,g.j.fn);n.B=m;n.oa=function(){return R};n.qc="function"===
typeof A;n.p=function(){S()};n.$=t;var ga=n.Za;n.Za=function(a){ga.call(n,a);n.nb=function(){n.pb(p);u=!0;n.qb(n)}};d.pure?(F=Q=!0,n.ja=function(a){if(!z&&F&&"change"==a){F=!1;if(u||f())P=null,R=0,u=!0,k();else{var b=[];g.a.A(P,function(a,c){b[c.sa]=a});g.a.o(b,function(a,b){var c=P[a],d=c.da.U(l);d.sa=b;d.ea=c.ea;P[a]=d})}z||n.notifySubscribers(p,"awake")}},n.ua=function(b){z||"change"!=b||n.Ba("change")||(g.a.A(P,function(a,b){b.p&&(P[a]={da:b.da,sa:b.sa,ea:b.ea},b.p())}),F=!0,n.notifySubscribers(a,
"asleep"))},n.bc=n.Aa,n.Aa=function(){F&&(u||f())&&k();return n.bc()}):d.deferEvaluation&&(n.ja=function(a){"change"!=a&&"beforeChange"!=a||m()});g.D(n,"peek",n.B);g.D(n,"dispose",n.p);g.D(n,"isActive",n.$);g.D(n,"getDependenciesCount",n.oa);L&&(x=!0,L.nodeType&&(J=function(){return!g.a.Qa(L)||I&&I()}));F||d.deferEvaluation||k();L&&t()&&L.nodeType&&(S=function(){g.a.C.Pb(L,S);h()},g.a.C.fa(L,S));return n};g.sc=function(a){return g.Ta(a,g.j)};r=g.r.Ac;g.j[r]=g.r;g.j.fn={equalityComparer:m};g.j.fn[r]=
g.j;g.a.za&&g.a.Fa(g.j.fn,g.Q.fn);g.b("dependentObservable",g.j);g.b("computed",g.j);g.b("isComputed",g.sc);g.Nb=function(a,b){if("function"===typeof a)return g.w(a,b,{pure:!0});a=g.a.extend({},a);a.pure=!0;return g.w(a,b)};g.b("pureComputed",g.Nb);(function(){function b(e,f,g){g=g||new d;e=f(e);if("object"!=typeof e||null===e||e===a||e instanceof Date||e instanceof String||e instanceof Number||e instanceof Boolean)return e;var h=e instanceof Array?[]:{};g.save(e,h);c(e,function(c){var d=f(e[c]);
switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var l=g.get(d);h[c]=l!==a?l:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var d=0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.mb=[]}g.Vb=function(a){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(a,function(a){for(var b=0;g.F(a)&&10>b;b++)a=
a();return a})};g.toJSON=function(a,b,c){a=g.Vb(a);return g.a.jb(a,b,c)};d.prototype={save:function(a,b){var c=g.a.m(this.keys,a);0<=c?this.mb[c]=b:(this.keys.push(a),this.mb.push(b))},get:function(b){b=g.a.m(this.keys,b);return 0<=b?this.mb[b]:a}}})();g.b("toJS",g.Vb);g.b("toJSON",g.toJSON);(function(){g.i={s:function(b){switch(g.a.v(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?g.a.f.get(b,g.d.options.ab):7>=g.a.M?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?
b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?g.i.s(b.options[b.selectedIndex]):a;default:return b.value}},Y:function(b,c,d){switch(g.a.v(b)){case "option":switch(typeof c){case "string":g.a.f.set(b,g.d.options.ab,a);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:g.a.f.set(b,g.d.options.ab,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=a;for(var e=-1,f=0,h=b.options.length,
l;f<h;++f)if(l=g.i.s(b.options[f]),l==c||""==l&&c===a){e=f;break}if(d||0<=e||c===a&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===a)c="";b.value=c}}}})();g.b("selectExtensions",g.i);g.b("selectExtensions.readValue",g.i.s);g.b("selectExtensions.writeValue",g.i.Y);g.h=function(){function a(b){b=g.a.ib(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],h=b.match(d),l,k=[],n=0;if(h){h.push(",");for(var m=0,t;t=h[m];++m){var q=t.charCodeAt(0);if(44===q){if(0>=n){c.push(l&&k.length?{key:l,
value:k.join("")}:{unknown:l||k.join("")});l=n=0;k=[];continue}}else if(58===q){if(!n&&!l&&1===k.length){l=k.pop();continue}}else 47===q&&m&&1<t.length?(q=h[m-1].match(e))&&!f[q[0]]&&(b=b.substr(b.indexOf(t)+1),h=b.match(d),h.push(","),m=-1,t="/"):40===q||123===q||91===q?++n:41===q||125===q||93===q?--n:l||k.length||34!==q&&39!==q||(t=t.slice(1,-1));k.push(t)}}return c}var b=["true","false","null","undefined"],c=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,d=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]",
"g"),e=/[\])"'A-Za-z0-9_$]+$/,f={"in":1,"return":1,"typeof":1},h={};return{ka:[],V:h,bb:a,Ea:function(d,e){function f(a,d){var e;if(!m){var t=g.getBindingHandler(a);if(t&&t.preprocess&&!(d=t.preprocess(d,a,f)))return;if(t=h[a])e=d,0<=g.a.m(b,e)?e=!1:(t=e.match(c),e=null===t?!1:t[1]?"Object("+t[1]+")"+t[2]:e),t=e;t&&k.push("'"+a+"':function(_z){"+e+"=_z}")}n&&(d="function(){return "+d+" }");l.push("'"+a+"':"+d)}e=e||{};var l=[],k=[],n=e.valueAccessors,m=e.bindingParams,t="string"===typeof d?a(d):d;
g.a.o(t,function(a){f(a.key||a.unknown,a.value)});k.length&&f("_ko_property_writers","{"+k.join(",")+" }");return l.join(",")},vc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},ra:function(a,b,c,d,e){if(a&&g.F(a))!g.Da(a)||e&&a.B()===d||a(d);else if((a=b.get("_ko_property_writers"))&&a[c])a[c](d)}}}();g.b("expressionRewriting",g.h);g.b("expressionRewriting.bindingRewriteValidators",g.h.ka);g.b("expressionRewriting.parseObjectLiteral",g.h.bb);g.b("expressionRewriting.preProcessBindings",
g.h.Ea);g.b("expressionRewriting._twoWayBindings",g.h.V);g.b("jsonExpressionRewriting",g.h);g.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",g.h.Ea);(function(){function a(b){return 8==b.nodeType&&h.test(f?b.text:b.nodeValue)}function b(a){return 8==a.nodeType&&l.test(f?a.text:a.nodeValue)}function d(c,e){for(var f=c,g=1,h=[];f=f.nextSibling;){if(b(f)&&(g--,0===g))return h;h.push(f);a(f)&&g++}if(!e)throw Error("Cannot find closing comment tag to match: "+c.nodeValue);return null}function e(a,
b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=c&&"\x3c!--test--\x3e"===c.createComment("test").text,h=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,l=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,k={ul:!0,ol:!0};g.e={R:{},childNodes:function(b){return a(b)?d(b):b.childNodes},ma:function(b){if(a(b)){b=g.e.childNodes(b);for(var c=0,d=b.length;c<d;c++)g.removeNode(b[c])}else g.a.Ra(b)},T:function(b,c){if(a(b)){g.e.ma(b);for(var d=b.nextSibling,
e=0,f=c.length;e<f;e++)d.parentNode.insertBefore(c[e],d)}else g.a.T(b,c)},Mb:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},Fb:function(b,c,d){d?a(b)?b.parentNode.insertBefore(c,d.nextSibling):d.nextSibling?b.insertBefore(c,d.nextSibling):b.appendChild(c):g.e.Mb(b,c)},firstChild:function(c){return a(c)?!c.nextSibling||b(c.nextSibling)?null:c.nextSibling:c.firstChild},nextSibling:function(c){a(c)&&(c=e(c));return c.nextSibling&&
b(c.nextSibling)?null:c.nextSibling},oc:a,Fc:function(a){return(a=(f?a.text:a.nodeValue).match(h))?a[1]:null},Kb:function(c){if(k[g.a.v(c)]){var d=c.firstChild;if(d){do if(1===d.nodeType){var f;f=d.firstChild;var h=null;if(f){do if(h)h.push(f);else if(a(f)){var l=e(f,!0);l?f=l:h=[f]}else b(f)&&(h=[f]);while(f=f.nextSibling)}if(f=h)for(h=d.nextSibling,l=0;l<f.length;l++)h?c.insertBefore(f[l],h):c.appendChild(f[l])}while(d=d.nextSibling)}}}}})();g.b("virtualElements",g.e);g.b("virtualElements.allowedBindings",
g.e.R);g.b("virtualElements.emptyNode",g.e.ma);g.b("virtualElements.insertAfter",g.e.Fb);g.b("virtualElements.prepend",g.e.Mb);g.b("virtualElements.setDomNodeChildren",g.e.T);(function(){g.L=function(){this.ec={}};g.a.extend(g.L.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||g.g.getComponentNameForNode(a);case 8:return g.e.oc(a);default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b),c=c?this.parseBindingsString(c,
b,a):null;return g.g.sb(c,a,b,!1)},getBindingAccessors:function(a,b){var c=this.getBindingsString(a,b),c=c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null;return g.g.sb(c,a,b,!0)},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return g.e.Fc(a);default:return null}},parseBindingsString:function(a,b,c,d){try{var e=this.ec,f=a+(d&&d.valueAccessors||""),h;if(!(h=e[f])){var l,k="with($context){with($data||{}){return{"+g.h.Ea(a,d)+"}}}";l=new Function("$context",
"$element",k);h=e[f]=l}return h(b,c)}catch(n){throw n.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+n.message,n;}}});g.L.instance=new g.L})();g.b("bindingProvider",g.L);(function(){function b(a){return function(){return a}}function c(a){return a()}function f(a){return g.a.pa(g.k.u(a),function(b,c){return function(){return a()[c]}})}function h(a,c,d){return"function"===typeof a?f(a.bind(null,c,d)):g.a.pa(a,b)}function l(a,b){return f(this.getBindings.bind(this,a,b))}function k(a,
b,c){var d,e=g.e.firstChild(b),f=g.L.instance,h=f.preprocessNode;if(h){for(;d=e;)e=g.e.nextSibling(d),h.call(f,d);e=g.e.firstChild(b)}for(;d=e;)e=g.e.nextSibling(d),n(a,d,c)}function n(a,b,c){var d=!0,e=1===b.nodeType;e&&g.e.Kb(b);if(e&&c||g.L.instance.nodeHasBindings(b))d=t(b,null,a,c).shouldBindDescendants;d&&!u[g.a.v(b)]&&k(a,b,!e)}function m(a){var b=[],c={},d=[];g.a.A(a,function F(e){if(!c[e]){var f=g.getBindingHandler(e);f&&(f.after&&(d.push(e),g.a.o(f.after,function(b){if(a[b]){if(-1!==g.a.m(d,
b))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));F(b)}}),d.length--),b.push({key:e,Eb:f}));c[e]=!0}});return b}function t(b,d,e,f){var h=g.a.f.get(b,r);if(!d){if(h)throw Error("You cannot apply bindings multiple times to the same element.");g.a.f.set(b,r,!0)}!h&&f&&g.Tb(b,e);var k;if(d&&"function"!==typeof d)k=d;else{var n=g.L.instance,p=n.getBindingAccessors||l,q=g.j(function(){(k=d?d(e,b):p.call(n,b,e))&&e.K&&e.K();return k},null,{q:b});
k&&q.$()||(q=null)}var D;if(k){var u=q?function(a){return function(){return c(q()[a])}}:function(a){return k[a]},w=function(){return g.a.pa(q?q():k,c)};w.get=function(a){return k[a]&&c(u(a))};w.has=function(a){return a in k};f=m(k);g.a.o(f,function(c){var d=c.Eb.init,f=c.Eb.update,h=c.key;if(8===b.nodeType&&!g.e.R[h])throw Error("The binding '"+h+"' cannot be used with virtual elements");try{"function"==typeof d&&g.k.u(function(){var c=d(b,u(h),w,e.$data,e);if(c&&c.controlsDescendantBindings){if(D!==
a)throw Error("Multiple bindings ("+D+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");D=h}}),"function"==typeof f&&g.j(function(){f(b,u(h),w,e.$data,e)},null,{q:b})}catch(l){throw l.message='Unable to process binding "'+h+": "+k[h]+'"\nMessage: '+l.message,l;}})}return{shouldBindDescendants:D===a}}function p(a){return a&&a instanceof g.N?a:new g.N(a)}g.d={};var u={script:!0,textarea:!0};g.getBindingHandler=function(a){return g.d[a]};
g.N=function(b,c,d,e){var f=this,h="function"==typeof b&&!g.F(b),l,k=g.j(function(){var a=h?b():b,l=g.a.c(a);c?(c.K&&c.K(),g.a.extend(f,c),k&&(f.K=k)):(f.$parents=[],f.$root=l,f.ko=g);f.$rawData=a;f.$data=l;d&&(f[d]=l);e&&e(f,c,l);return f.$data},null,{Pa:function(){return l&&!g.a.tb(l)},q:!0});k.$()&&(f.K=k,k.equalityComparer=null,l=[],k.Zb=function(b){l.push(b);g.a.C.fa(b,function(b){g.a.ya(l,b);l.length||(k.p(),f.K=k=a)})})};g.N.prototype.createChildContext=function(a,b,c){return new g.N(a,this,
b,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);c&&c(a)})};g.N.prototype.extend=function(a){return new g.N(this.K||this.$data,this,null,function(b,c){b.$rawData=c.$rawData;g.a.extend(b,"function"==typeof a?a():a)})};var r=g.a.f.I(),z=g.a.f.I();g.Tb=function(a,b){if(2==arguments.length)g.a.f.set(a,z,b),b.K&&b.K.Zb(a);else return g.a.f.get(a,z)};g.va=function(a,b,c){1===a.nodeType&&g.e.Kb(a);return t(a,b,p(c),!0)};g.cc=function(a,
b,c){c=p(c);return g.va(a,h(b,c,a),c)};g.Ja=function(a,b){1!==b.nodeType&&8!==b.nodeType||k(p(a),b,!0)};g.ub=function(a,b){!e&&d.jQuery&&(e=d.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||d.document.body;n(p(a),b,!0)};g.Oa=function(b){switch(b.nodeType){case 1:case 8:var c=g.Tb(b);if(c)return c;if(b.parentNode)return g.Oa(b.parentNode)}return a};g.gc=function(b){return(b=g.Oa(b))?
b.$data:a};g.b("bindingHandlers",g.d);g.b("applyBindings",g.ub);g.b("applyBindingsToDescendants",g.Ja);g.b("applyBindingAccessorsToNode",g.va);g.b("applyBindingsToNode",g.cc);g.b("contextFor",g.Oa);g.b("dataFor",g.gc)})();(function(a){function b(d,h){var l=e.hasOwnProperty(d)?e[d]:a,k;l?l.U(h):(l=e[d]=new g.Q,l.U(h),c(d,function(a,b){var c=!(!b||!b.synchronous);f[d]={definition:a,tc:c};delete e[d];k||c?l.notifySubscribers(a):setTimeout(function(){l.notifySubscribers(a)},0)}),k=!0)}function c(a,b){d("getConfig",
[a],function(c){c?d("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function d(b,c,e,f){f||(f=g.g.loaders.slice(0));var h=f.shift();if(h){var l=h[b];if(l){var k=!1;if(l.apply(h,c.concat(function(a){k?e(null):null!==a?e(a):d(b,c,e,f)}))!==a&&(k=!0,!h.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else d(b,c,e,f)}else e(null)}var e={},f={};g.g={get:function(c,d){var e=f.hasOwnProperty(c)?f[c]:
a;e?e.tc?g.k.u(function(){d(e.definition)}):setTimeout(function(){d(e.definition)},0):b(c,d)},zb:function(a){delete f[a]},ob:d};g.g.loaders=[];g.b("components",g.g);g.b("components.get",g.g.get);g.b("components.clearCachedDefinition",g.g.zb)})();(function(){function a(b,c,d,e){function f(){0===--k&&e(l)}var l={},k=2,n=d.template;d=d.viewModel;n?h(c,n,function(a){g.g.ob("loadTemplate",[b,a],function(a){l.template=a;f()})}):f();d?h(c,d,function(a){g.g.ob("loadViewModel",[b,a],function(a){l[m]=a;f()})}):
f()}function b(a,c,d){if("function"===typeof c)d(function(a){return new c(a)});else if("function"===typeof c[m])d(c[m]);else if("instance"in c){var e=c.instance;d(function(){return e})}else"viewModel"in c?b(a,c.viewModel,d):a("Unknown viewModel value: "+c)}function e(a){switch(g.a.v(a)){case "script":return g.a.ca(a.text);case "textarea":return g.a.ca(a.value);case "template":if(f(a.content))return g.a.la(a.content.childNodes)}return g.a.la(a.childNodes)}function f(a){return d.DocumentFragment?a instanceof
DocumentFragment:a&&11===a.nodeType}function h(a,b,c){"string"===typeof b.require?k||d.require?(k||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function l(a){return function(b){throw Error("Component '"+a+"': "+b);}}var n={};g.g.register=function(a,b){if(!b)throw Error("Invalid configuration for "+a);if(g.g.Xa(a))throw Error("Component "+a+" is already registered");n[a]=b};g.g.Xa=function(a){return a in n};g.g.Ec=function(a){delete n[a];g.g.zb(a)};g.g.Ab={getConfig:function(a,
b){b(n.hasOwnProperty(a)?n[a]:null)},loadComponent:function(b,c,d){var e=l(b);h(e,c,function(c){a(b,e,c,d)})},loadTemplate:function(a,b,h){a=l(a);if("string"===typeof b)h(g.a.ca(b));else if(b instanceof Array)h(b);else if(f(b))h(g.a.O(b.childNodes));else if(b.element)if(b=b.element,d.HTMLElement?b instanceof HTMLElement:b&&b.tagName&&1===b.nodeType)h(e(b));else if("string"===typeof b){var k=c.getElementById(b);k?h(e(k)):a("Cannot find element with ID "+b)}else a("Unknown element type: "+b);else a("Unknown template value: "+
b)},loadViewModel:function(a,c,d){b(l(a),c,d)}};var m="createViewModel";g.b("components.register",g.g.register);g.b("components.isRegistered",g.g.Xa);g.b("components.unregister",g.g.Ec);g.b("components.defaultLoader",g.g.Ab);g.g.loaders.push(g.g.Ab);g.g.$b=n})();(function(){function a(c,d){var e=c.getAttribute("params");if(e){var e=b.parseBindingsString(e,d,c,{valueAccessors:!0,bindingParams:!0}),e=g.a.pa(e,function(a){return g.w(a,null,{q:c})}),f=g.a.pa(e,function(a){var b=a.B();return a.$()?g.w({read:function(){return g.a.c(a())},
write:g.Da(b)&&function(b){a()(b)},q:c}):b});f.hasOwnProperty("$raw")||(f.$raw=e);return f}return{$raw:{}}}g.g.getComponentNameForNode=function(a){a=g.a.v(a);return g.g.Xa(a)&&a};g.g.sb=function(b,c,d,e){if(1===c.nodeType){var f=g.g.getComponentNameForNode(c);if(f){b=b||{};if(b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var h={name:f,params:a(c,d)};b.component=e?function(){return h}:h}}return b};var b=new g.L;9>g.a.M&&(g.g.register=function(a){return function(b){c.createElement(b);
return a.apply(this,arguments)}}(g.g.register),c.createDocumentFragment=function(a){return function(){var b=a(),c=g.g.$b,d;for(d in c)c.hasOwnProperty(d)&&b.createElement(d);return b}}(c.createDocumentFragment))})();(function(a){function b(a,c,d){c=c.template;if(!c)throw Error("Component '"+a+"' has no template");a=g.a.la(c);g.e.T(d,a)}function c(a,b,d,e){var f=a.createViewModel;return f?f.call(a,e,{element:b,templateNodes:d}):e}var d=0;g.d.component={init:function(e,f,h,l,k){function n(){var a=m&&
m.dispose;"function"===typeof a&&a.call(m);t=null}var m,t,p=g.a.O(g.e.childNodes(e));g.a.C.fa(e,n);g.w(function(){var h=g.a.c(f()),l,u;"string"===typeof h?l=h:(l=g.a.c(h.name),u=g.a.c(h.params));if(!l)throw Error("No component name specified");var M=t=++d;g.g.get(l,function(d){if(t===M){n();if(!d)throw Error("Unknown component '"+l+"'");b(l,d,e);var f=c(d,e,p,u);d=k.createChildContext(f,a,function(a){a.$component=f;a.$componentTemplateNodes=p});m=f;g.Ja(d,e)}})},null,{q:e});return{controlsDescendantBindings:!0}}};
g.e.R.component=!0})();var z={"class":"className","for":"htmlFor"};g.d.attr={update:function(b,c){var d=g.a.c(c())||{};g.a.A(d,function(c,d){d=g.a.c(d);var e=!1===d||null===d||d===a;e&&b.removeAttribute(c);8>=g.a.M&&c in z?(c=z[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&g.a.Rb(b,e?"":d.toString())})}};(function(){g.d.checked={after:["value","attr"],init:function(b,c,d){function e(){var a=b.checked,f=t?h():a;if(!g.Z.Ca()&&(!k||a)){var l=g.k.u(c);n?m!==f?(a&&(g.a.ga(l,
f,!0),g.a.ga(l,m,!1)),m=f):g.a.ga(l,f,a):g.h.ra(l,d,"checked",f,!0)}}function f(){var a=g.a.c(c());b.checked=n?0<=g.a.m(a,h()):l?a:h()===a}var h=g.Nb(function(){return d.has("checkedValue")?g.a.c(d.get("checkedValue")):d.has("value")?g.a.c(d.get("value")):b.value}),l="checkbox"==b.type,k="radio"==b.type;if(l||k){var n=l&&g.a.c(c())instanceof Array,m=n?h():a,t=k||n;k&&!b.name&&g.d.uniqueName.init(b,function(){return!0});g.w(e,null,{q:b});g.a.n(b,"click",e);g.w(f,null,{q:b})}}};g.h.V.checked=!0;g.d.checkedValue=
{update:function(a,b){a.value=g.a.c(b())}}})();g.d.css={update:function(a,b){var c=g.a.c(b());null!==c&&"object"==typeof c?g.a.A(c,function(b,c){c=g.a.c(c);g.a.Ia(a,b,c)}):(c=String(c||""),g.a.Ia(a,a.__ko__cssValue,!1),a.__ko__cssValue=c,g.a.Ia(a,c,!0))}};g.d.enable={update:function(a,b){var c=g.a.c(b());c&&a.disabled?a.removeAttribute("disabled"):c||a.disabled||(a.disabled=!0)}};g.d.disable={update:function(a,b){g.d.enable.update(a,function(){return!g.a.c(b())})}};g.d.event={init:function(a,b,c,
d,e){var f=b()||{};g.a.A(f,function(f){"string"==typeof f&&g.a.n(a,f,function(a){var h,l=b()[f];if(l){try{var k=g.a.O(arguments);d=e.$data;k.unshift(d);h=l.apply(d,k)}finally{!0!==h&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}!1===c.get(f+"Bubble")&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())}})})}};g.d.foreach={Ib:function(a){return function(){var b=a(),c=g.a.cb(b);if(!c||"number"==typeof c.length)return{foreach:b,templateEngine:g.P.Va};g.a.c(b);return{foreach:c.data,as:c.as,
includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:g.P.Va}}},init:function(a,b){return g.d.template.init(a,g.d.foreach.Ib(b))},update:function(a,b,c,d,e){return g.d.template.update(a,g.d.foreach.Ib(b),c,d,e)}};g.h.ka.foreach=!1;g.e.R.foreach=!0;g.d.hasfocus={init:function(a,b,c){function d(e){a.__ko_hasfocusUpdating=!0;var f=a.ownerDocument;if("activeElement"in f){var h;try{h=f.activeElement}catch(l){h=
f.body}e=h===a}f=b();g.h.ra(f,c,"hasfocus",e,!0);a.__ko_hasfocusLastValue=e;a.__ko_hasfocusUpdating=!1}var e=d.bind(null,!0),f=d.bind(null,!1);g.a.n(a,"focus",e);g.a.n(a,"focusin",e);g.a.n(a,"blur",f);g.a.n(a,"focusout",f)},update:function(a,b){var c=!!g.a.c(b());a.__ko_hasfocusUpdating||a.__ko_hasfocusLastValue===c||(c?a.focus():a.blur(),g.k.u(g.a.qa,null,[a,c?"focusin":"focusout"]))}};g.h.V.hasfocus=!0;g.d.hasFocus=g.d.hasfocus;g.h.V.hasFocus=!0;g.d.html={init:function(){return{controlsDescendantBindings:!0}},
update:function(a,b){g.a.gb(a,b())}};p("if");p("ifnot",!1,!0);p("with",!0,!1,function(a,b){return a.createChildContext(b)});var x={};g.d.options={init:function(a){if("select"!==g.a.v(a))throw Error("options binding applies only to SELECT elements");for(;0<a.length;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return g.a.xa(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(a,c){if(r&&
m)g.i.Y(b,g.a.c(d.get("value")),!0);else if(u.length){var e=0<=g.a.m(u,g.i.s(c[0]));g.a.Sb(c[0],e);r&&!e&&g.k.u(g.a.qa,null,[b,"change"])}}var l=b.multiple,k=0!=b.length&&l?b.scrollTop:null,n=g.a.c(c()),m=d.get("valueAllowUnset")&&d.has("value"),t=d.get("optionsIncludeDestroyed");c={};var p,u=[];m||(l?u=g.a.Ka(e(),g.i.s):0<=b.selectedIndex&&u.push(g.i.s(b.options[b.selectedIndex])));n&&("undefined"==typeof n.length&&(n=[n]),p=g.a.xa(n,function(b){return t||b===a||null===b||!g.a.c(b._destroy)}),d.has("optionsCaption")&&
(n=g.a.c(d.get("optionsCaption")),null!==n&&n!==a&&p.unshift(x)));var r=!1;c.beforeRemove=function(a){b.removeChild(a)};n=h;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(n=function(b,c){h(0,c);g.k.u(d.get("optionsAfterRender"),null,[c[0],b!==x?b:a])});g.a.fb(b,p,function(c,e,h){h.length&&(u=!m&&h[0].selected?[g.i.s(h[0])]:[],r=!0);e=b.ownerDocument.createElement("option");c===x?(g.a.Ha(e,d.get("optionsCaption")),g.i.Y(e,a)):(h=f(c,d.get("optionsValue"),c),g.i.Y(e,g.a.c(h)),
c=f(c,d.get("optionsText"),h),g.a.Ha(e,c));return[e]},c,n);g.k.u(function(){m?g.i.Y(b,g.a.c(d.get("value")),!0):(l?u.length&&e().length<u.length:u.length&&0<=b.selectedIndex?g.i.s(b.options[b.selectedIndex])!==u[0]:u.length||0<=b.selectedIndex)&&g.a.qa(b,"change")});g.a.kc(b);k&&20<Math.abs(k-b.scrollTop)&&(b.scrollTop=k)}};g.d.options.ab=g.a.f.I();g.d.selectedOptions={after:["options","foreach"],init:function(a,b,c){g.a.n(a,"change",function(){var d=b(),e=[];g.a.o(a.getElementsByTagName("option"),
function(a){a.selected&&e.push(g.i.s(a))});g.h.ra(d,c,"selectedOptions",e)})},update:function(a,b){if("select"!=g.a.v(a))throw Error("values binding applies only to SELECT elements");var c=g.a.c(b());c&&"number"==typeof c.length&&g.a.o(a.getElementsByTagName("option"),function(a){var b=0<=g.a.m(c,g.i.s(a));g.a.Sb(a,b)})}};g.h.V.selectedOptions=!0;g.d.style={update:function(b,c){var d=g.a.c(c()||{});g.a.A(d,function(c,d){d=g.a.c(d);if(null===d||d===a||!1===d)d="";b.style[c]=d})}};g.d.submit={init:function(a,
b,c,d,e){if("function"!=typeof b())throw Error("The value for a submit binding must be a function");g.a.n(a,"submit",function(c){var d,f=b();try{d=f.call(e.$data,a)}finally{!0!==d&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}})}};g.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){g.a.Ha(a,b())}};g.e.R.text=!0;(function(){if(d&&d.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=d.opera&&d.opera.version&&parseInt(d.opera.version()),e=d.navigator.userAgent,
f=b(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),h=b(e.match(/Firefox\/([^ ]*)/));if(10>g.a.M)var l=g.a.f.I(),k=g.a.f.I(),n=function(a){var b=this.activeElement;(b=b&&g.a.f.get(b,k))&&b(a)},m=function(a,b){var c=a.ownerDocument;g.a.f.get(c,l)||(g.a.f.set(c,l,!0),g.a.n(c,"selectionchange",n));g.a.f.set(a,k,b)};g.d.textInput={init:function(b,d,e){function l(a,c){g.a.n(b,a,c)}function k(){var c=g.a.c(d());if(null===c||c===a)c="";D!==a&&c===D?setTimeout(k,4):b.value!==c&&(p=c,b.value=c)}function n(){u||
(D=b.value,u=setTimeout(t,4))}function t(){clearTimeout(u);D=u=a;var c=b.value;p!==c&&(p=c,g.h.ra(d(),e,"textInput",c))}var p=b.value,u,D;10>g.a.M?(l("propertychange",function(a){"value"===a.propertyName&&t()}),8==g.a.M&&(l("keyup",t),l("keydown",t)),8<=g.a.M&&(m(b,t),l("dragend",n))):(l("input",t),5>f&&"textarea"===g.a.v(b)?(l("keydown",n),l("paste",n),l("cut",n)):11>c?l("keydown",n):4>h&&(l("DOMAutoComplete",t),l("dragdrop",t),l("drop",t)));l("change",t);g.w(k,null,{q:b})}};g.h.V.textInput=!0;g.d.textinput=
{preprocess:function(a,b,c){c("textInput",a)}}})();g.d.uniqueName={init:function(a,b){if(b()){var c="ko_unique_"+ ++g.d.uniqueName.fc;g.a.Rb(a,c)}}};g.d.uniqueName.fc=0;g.d.value={after:["options","foreach"],init:function(a,b,c){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var d=["change"],e=c.get("valueUpdate"),f=!1,h=null;e&&("string"==typeof e&&(e=[e]),g.a.ia(d,e),d=g.a.wb(d));var l=function(){h=null;f=!1;var d=b(),e=g.i.s(a);g.h.ra(d,c,"value",e)};!g.a.M||"input"!=
a.tagName.toLowerCase()||"text"!=a.type||"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=g.a.m(d,"propertychange")||(g.a.n(a,"propertychange",function(){f=!0}),g.a.n(a,"focus",function(){f=!1}),g.a.n(a,"blur",function(){f&&l()}));g.a.o(d,function(b){var c=l;g.a.Dc(b,"after")&&(c=function(){h=g.i.s(a);setTimeout(l,0)},b=b.substring(5));g.a.n(a,b,c)});var k=function(){var d=g.a.c(b()),e=g.i.s(a);if(null!==h&&d===h)setTimeout(k,0);else if(d!==e)if("select"===g.a.v(a)){var f=c.get("valueAllowUnset"),
e=function(){g.i.Y(a,d,f)};e();f||d===g.i.s(a)?setTimeout(e,0):g.k.u(g.a.qa,null,[a,"change"])}else g.i.Y(a,d)};g.w(k,null,{q:a})}else g.va(a,{checkedValue:b})},update:function(){}};g.h.V.value=!0;g.d.visible={update:function(a,b){var c=g.a.c(b()),d="none"!=a.style.display;c&&!d?a.style.display="":!c&&d&&(a.style.display="none")}};(function(a){g.d[a]={init:function(b,c,d,e,f){return g.d.event.init.call(this,b,function(){var b={};b[a]=c();return b},d,e,f)}}})("click");g.J=function(){};g.J.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};g.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};g.J.prototype.makeTemplateSource=function(a,b){if("string"==typeof a){b=b||c;var d=b.getElementById(a);if(!d)throw Error("Cannot find template with ID "+a);return new g.t.l(d)}if(1==a.nodeType||8==a.nodeType)return new g.t.ha(a);throw Error("Unknown template type: "+a);};g.J.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,
d);return this.renderTemplateSource(a,b,c,d)};g.J.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};g.J.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};g.b("templateEngine",g.J);g.kb=function(){function a(b,c,d,e){b=g.h.bb(b);for(var f=g.h.ka,h=0;h<b.length;h++){var l=b[h].key;if(f.hasOwnProperty(l)){var k=f[l];if("function"===typeof k){if(l=
k(b[h].value))throw Error(l);}else if(!k)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+g.h.Ea(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return e.createJavaScriptEvaluatorBlock(d)+c}var b=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,c=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(a,
b,c){b.isTemplateRewritten(a,c)||b.rewriteTemplate(a,function(a){return g.kb.xc(a,b)},c)},xc:function(d,e){return d.replace(b,function(b,c,d,f,g){return a(g,c,d,e)}).replace(c,function(b,c){return a(c,"\x3c!-- ko --\x3e","#comment",e)})},dc:function(a,b){return g.H.$a(function(c,d){var e=c.nextSibling;e&&e.nodeName.toLowerCase()===b&&g.va(e,a,d)})}}}();g.b("__tr_ambtns",g.kb.dc);(function(){g.t={};g.t.l=function(a){this.l=a};g.t.l.prototype.text=function(){var a=g.a.v(this.l),a="script"===a?"text":
"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.l[a];var b=arguments[0];"innerHTML"===a?g.a.gb(this.l,b):this.l[a]=b};var b=g.a.f.I()+"_";g.t.l.prototype.data=function(a){if(1===arguments.length)return g.a.f.get(this.l,b+a);g.a.f.set(this.l,b+a,arguments[1])};var c=g.a.f.I();g.t.ha=function(a){this.l=a};g.t.ha.prototype=new g.t.l;g.t.ha.prototype.text=function(){if(0==arguments.length){var b=g.a.f.get(this.l,c)||{};b.lb===a&&b.Na&&(b.lb=b.Na.innerHTML);return b.lb}g.a.f.set(this.l,
c,{lb:arguments[0]})};g.t.l.prototype.nodes=function(){if(0==arguments.length)return(g.a.f.get(this.l,c)||{}).Na;g.a.f.set(this.l,c,{Na:arguments[0]})};g.b("templateSources",g.t);g.b("templateSources.domElement",g.t.l);g.b("templateSources.anonymousTemplate",g.t.ha)})();(function(){function b(a,c,d){var e;for(c=g.e.nextSibling(c);a&&(e=a)!==c;)a=g.e.nextSibling(e),d(e,a)}function c(a,d){if(a.length){var e=a[0],f=a[a.length-1],h=e.parentNode,l=g.L.instance,k=l.preprocessNode;if(k){b(e,f,function(a,
b){var c=a.previousSibling,d=k.call(l,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});a.length=0;if(!e)return;e===f?a.push(e):(a.push(e,f),g.a.na(a,h))}b(e,f,function(a){1!==a.nodeType&&8!==a.nodeType||g.ub(d,a)});b(e,f,function(a){1!==a.nodeType&&8!==a.nodeType||g.H.Xb(a,[d])});g.a.na(a,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(a,b,f,l,k){k=k||{};var n=(a&&d(a)||f||{}).ownerDocument,m=k.templateEngine||h;g.kb.lc(f,m,n);f=m.renderTemplate(f,l,k,n);if("number"!=
typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(b){case "replaceChildren":g.e.T(a,f);n=!0;break;case "replaceNode":g.a.Qb(a,f);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+b);}n&&(c(f,l),k.afterRender&&g.k.u(k.afterRender,null,[f,l.$data]));return f}function f(a,b,c){return g.F(a)?a():"function"===typeof a?a(b,c):a}var h;g.hb=function(b){if(b!=a&&!(b instanceof g.J))throw Error("templateEngine must inherit from ko.templateEngine");
h=b};g.eb=function(b,c,l,k,n){l=l||{};if((l.templateEngine||h)==a)throw Error("Set a template engine before calling renderTemplate");n=n||"replaceChildren";if(k){var m=d(k);return g.j(function(){var a=c&&c instanceof g.N?c:new g.N(g.a.c(c)),h=f(b,a.$data,a),a=e(k,n,h,a,l);"replaceNode"==n&&(k=a,m=d(k))},null,{Pa:function(){return!m||!g.a.Qa(m)},q:m&&"replaceNode"==n?m.parentNode:m})}return g.H.$a(function(a){g.eb(b,c,l,a,"replaceNode")})};g.Cc=function(b,d,h,l,k){function n(a,b){c(b,t);h.afterRender&&
h.afterRender(b,a);t=null}function m(a,c){t=k.createChildContext(a,h.as,function(a){a.$index=c});var d=f(b,a,t);return e(null,"ignoreTargetNode",d,t,h)}var t;return g.j(function(){var b=g.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=g.a.xa(b,function(b){return h.includeDestroyed||b===a||null===b||!g.a.c(b._destroy)});g.k.u(g.a.fb,null,[l,b,m,h,n])},null,{q:l})};var l=g.a.f.I();g.d.template={init:function(a,b){var c=g.a.c(b());if("string"==typeof c||c.name)g.e.ma(a);else{if("nodes"in c){if(c=
c.nodes||[],g.F(c))throw Error('The "nodes" option must be a plain, non-observable array.');}else c=g.e.childNodes(a);c=g.a.Jb(c);(new g.t.ha(a)).nodes(c)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var h=c(),k;c=g.a.c(h);d=!0;e=null;"string"==typeof c?c={}:(h=c.name,"if"in c&&(d=g.a.c(c["if"])),d&&"ifnot"in c&&(d=!g.a.c(c.ifnot)),k=g.a.c(c.data));"foreach"in c?e=g.Cc(h||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(k,c.as):f,e=g.eb(h||b,f,c,b)):g.e.ma(b);f=
e;(k=g.a.f.get(b,l))&&"function"==typeof k.p&&k.p();g.a.f.set(b,l,f&&f.$()?f:a)}};g.h.ka.template=function(a){a=g.h.bb(a);return 1==a.length&&a[0].unknown||g.h.vc(a,"name")?null:"This template engine does not support anonymous templates nested within its templates"};g.e.R.template=!0})();g.b("setTemplateEngine",g.hb);g.b("renderTemplate",g.eb);g.a.Cb=function(a,b,c){if(a.length&&b.length){var d,e,f,g,h;for(d=e=0;(!c||d<c)&&(g=a[e]);++e){for(f=0;h=b[f];++f)if(g.value===h.value){g.moved=h.index;h.moved=
g.index;b.splice(f,1);d=f=0;break}d+=f}}};g.a.Ma=function(){function a(b,c,d,e,f){var h=Math.min,l=Math.max,k=[],n,m=b.length,t,p=c.length,u=p-m||1,r=m+p+1,q,z,x;for(n=0;n<=m;n++)for(z=q,k.push(q=[]),x=h(p,n+u),t=l(0,n-1);t<=x;t++)q[t]=t?n?b[n-1]===c[t-1]?z[t-1]:h(z[t]||r,q[t-1]||r)+1:t+1:n+1;h=[];l=[];u=[];n=m;for(t=p;n||t;)p=k[n][t]-1,t&&p===k[n][t-1]?l.push(h[h.length]={status:d,value:c[--t],index:t}):n&&p===k[n-1][t]?u.push(h[h.length]={status:e,value:b[--n],index:n}):(--t,--n,f.sparse||h.push({status:"retained",
value:c[t]}));g.a.Cb(l,u,10*m);return h.reverse()}return function(b,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};b=b||[];c=c||[];return b.length<=c.length?a(b,c,"added","deleted",d):a(c,b,"deleted","added",d)}}();g.b("utils.compareArrays",g.a.Ma);(function(){function b(c,d,e,f,h){var l=[],k=g.j(function(){var a=d(e,h,g.a.na(l,c))||[];0<l.length&&(g.a.Qb(l,a),f&&g.k.u(f,null,[e,a,h]));l.length=0;g.a.ia(l,a)},null,{q:c,Pa:function(){return!g.a.tb(l)}});return{aa:l,j:k.$()?k:a}}var c=g.a.f.I();
g.a.fb=function(d,e,f,h,l){function k(a,b){A=t[b];x!==b&&(F[a]=A);A.Ua(x++);g.a.na(A.aa,d);r.push(A);Q.push(A)}function n(a,b){if(a)for(var c=0,d=b.length;c<d;c++)b[c]&&g.a.o(b[c].aa,function(d){a(d,c,b[c].wa)})}e=e||[];h=h||{};var m=g.a.f.get(d,c)===a,t=g.a.f.get(d,c)||[],p=g.a.Ka(t,function(a){return a.wa}),u=g.a.Ma(p,e,h.dontLimitMoves),r=[],z=0,x=0,y=[],Q=[];e=[];for(var F=[],p=[],A,L=0,I,J;I=u[L];L++)switch(J=I.moved,I.status){case "deleted":J===a&&(A=t[z],A.j&&A.j.p(),y.push.apply(y,g.a.na(A.aa,
d)),h.beforeRemove&&(e[L]=A,Q.push(A)));z++;break;case "retained":k(L,z++);break;case "added":J!==a?k(L,J):(A={wa:I.value,Ua:g.r(x++)},r.push(A),Q.push(A),m||(p[L]=A))}n(h.beforeMove,F);g.a.o(y,h.beforeRemove?g.S:g.removeNode);for(var L=0,m=g.e.firstChild(d),S;A=Q[L];L++){A.aa||g.a.extend(A,b(d,f,A.wa,l,A.Ua));for(z=0;u=A.aa[z];m=u.nextSibling,S=u,z++)u!==m&&g.e.Fb(d,u,S);!A.rc&&l&&(l(A.wa,A.aa,A.Ua),A.rc=!0)}n(h.beforeRemove,e);n(h.afterMove,F);n(h.afterAdd,p);g.a.f.set(d,c,r)}})();g.b("utils.setDomNodeChildrenFromArrayMapping",
g.a.fb);g.P=function(){this.allowTemplateRewriting=!1};g.P.prototype=new g.J;g.P.prototype.renderTemplateSource=function(a,b,c,d){if(b=(9>g.a.M?0:a.nodes)?a.nodes():null)return g.a.O(b.cloneNode(!0).childNodes);a=a.text();return g.a.ca(a,d)};g.P.Va=new g.P;g.hb(g.P.Va);g.b("nativeTemplateEngine",g.P);(function(){g.Ya=function(){var a=this.uc=function(){if(!e||!e.tmpl)return 0;try{if(0<=e.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,
d,f,g){g=g||c;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=e.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[d.$data];d=e.extend({koBindingContext:d},f.templateOptions);d=e.tmpl(h,b,d);d.appendTo(g.createElement("div"));e.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,b){c.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(e.tmpl.tag.ko_code={open:"__.push($1 || '');"},e.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};g.Ya.prototype=new g.J;var a=new g.Ya;0<a.uc&&g.hb(a);g.b("jqueryTmplTemplateEngine",g.Ya)})()})})()})();!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.validation={})}(function(a,d){function c(a){var b="max"===a;return function(c,d){if(e.utils.isEmptyVal(c))return!0;var f,g;void 0===d.typeAttr?(g="text",f=d):(g=d.typeAttr,f=d.value);isNaN(f)||f instanceof Date||(g="number");var h,l,k;switch(g.toLowerCase()){case "week":if(h=/^(\d{4})-W(\d{2})$/,l=c.match(h),
null===l)throw Error("Invalid value for "+a+" attribute for week input.  Should look like '2000-W33' http://www.w3.org/TR/html-markup/input.week.html#input.week.attrs.min");return k=f.match(h),k?b?l[1]<k[1]||l[1]===k[1]&&l[2]<=k[2]:l[1]>k[1]||l[1]===k[1]&&l[2]>=k[2]:!1;case "month":if(h=/^(\d{4})-(\d{2})$/,l=c.match(h),null===l)throw Error("Invalid value for "+a+" attribute for month input.  Should look like '2000-03' http://www.w3.org/TR/html-markup/input.month.html#input.month.attrs.min");return k=
f.match(h),k?b?l[1]<k[1]||l[1]===k[1]&&l[2]<=k[2]:l[1]>k[1]||l[1]===k[1]&&l[2]>=k[2]:!1;case "number":case "range":return b?!isNaN(c)&&parseFloat(c)<=parseFloat(f):!isNaN(c)&&parseFloat(c)>=parseFloat(f);default:return b?f>=c:c>=f}}}function b(a,b,c){a.isValidating(!0);var d=function(d){var f=!1,g="";return a.__valid__()?(d.message?(f=d.isValid,g=d.message):f=d,f||(a.error(e.formatMessage(g||c.message||b.message,h(c.params),a)),a.__valid__(f)),void a.isValidating(!1)):void a.isValidating(!1)};e.utils.async(function(){b.validator(a(),
void 0===c.params?!0:h(c.params),d)})}if("undefined"==typeof a)throw Error("Knockout is required, please ensure it is loaded before loading this validation plug-in");a.validation=d;var e=a.validation,f=a.utils,h=f.unwrapObservable,k=f.arrayForEach,m=f.extend,l={registerExtenders:!0,messagesOnModified:!0,errorsAsTitle:!0,errorsAsTitleOnModified:!1,messageTemplate:null,insertMessages:!0,parseInputAttributes:!1,writeInputAttributes:!1,decorateInputElement:!1,decorateElementOnModified:!0,errorClass:null,
errorElementClass:"validationElement",errorMessageClass:"validationMessage",allowHtmlMessages:!1,grouping:{deep:!1,observable:!0,live:!1},validate:{}},n=m({},l);n.html5Attributes=["required","pattern","min","max","step"];n.html5InputTypes=["email","number","date"];n.reset=function(){m(n,l)};e.configuration=n;e.utils=function(){var a=(new Date).getTime(),b={};return{isArray:function(a){return a.isArray||"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return null!==a&&"object"==
typeof a},isNumber:function(a){return!isNaN(a)},isObservableArray:function(a){return!!a&&"function"==typeof a.remove&&"function"==typeof a.removeAll&&"function"==typeof a.destroy&&"function"==typeof a.destroyAll&&"function"==typeof a.indexOf&&"function"==typeof a.replace},values:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},getValue:function(a){return"function"==typeof a?a():a},hasAttribute:function(a,b){return null!==a.getAttribute(b)},getAttribute:function(a,b){return a.getAttribute(b)},
setAttribute:function(a,b,c){return a.setAttribute(b,c)},isValidatable:function(a){return!!(a&&a.rules&&a.isValid&&a.isModified)},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},newId:function(){return a+=1},getConfigOptions:function(a){return e.utils.contextFor(a)||e.configuration},setDomData:function(a,c){var d=a.__ko_validation__;d||(a.__ko_validation__=d=e.utils.newId());b[d]=c},getDomData:function(a){return(a=a.__ko_validation__)?b[a]:void 0},contextFor:function(a){switch(a.nodeType){case 1:case 8:var b=
e.utils.getDomData(a);if(b)return b;if(a.parentNode)return e.utils.contextFor(a.parentNode)}},isEmptyVal:function(a){return void 0===a?!0:null===a?!0:""===a?!0:void 0},getOriginalElementTitle:function(a){var b=e.utils.getAttribute(a,"data-orig-title"),c=a.title;return e.utils.hasAttribute(a,"data-orig-title")?b:c},async:function(a){window.setImmediate?window.setImmediate(a):window.setTimeout(a,0)},forEach:function(a,b){if(e.utils.isArray(a))return k(a,b);for(var c in a)a.hasOwnProperty(c)&&b(a[c],
c)}}}();var p=function(){function b(a){k(a.subscriptions,function(a){a.dispose()});a.subscriptions=[]}function c(a){a.options.deep&&(k(a.flagged,function(a){delete a.__kv_traversed}),a.flagged.length=0);a.options.live||b(a)}function d(a,e){e.validatables=[];b(e);g(a,e);c(e)}function g(b,c,d){var e=[],f=b.peek?b.peek():b;!0!==b.__kv_traversed&&(c.options.deep&&(b.__kv_traversed=!0,c.flagged.push(b)),d=void 0!==d?d:c.options.deep?1:-1,a.isObservable(b)&&(b.errors||u.isValidatable(b)||b.extend({validatable:!0}),
c.validatables.push(b),c.options.live&&u.isObservableArray(b)&&c.subscriptions.push(b.subscribe(function(){c.graphMonitor.valueHasMutated()}))),f&&!f._destroy&&(u.isArray(f)?e=f:u.isObject(f)&&(e=u.values(f))),0!==d&&u.forEach(e,function(b){!b||b.nodeType||a.isComputed(b)&&!b.rules||g(b,c,d+1)}))}function l(a){var b=[];return k(a,function(a){u.isValidatable(a)&&!a.isValid()&&b.push(a.error.peek())}),b}var n=0,p=e.configuration,u=e.utils;return{init:function(a,b){0<n&&!b||(a=a||{},a.errorElementClass=
a.errorElementClass||a.errorClass||p.errorElementClass,a.errorMessageClass=a.errorMessageClass||a.errorClass||p.errorMessageClass,m(p,a),p.registerExtenders&&e.registerExtenders(),n=1)},reset:e.configuration.reset,group:function(b,c){c=m(m({},p.grouping),c);var e={options:c,graphMonitor:a.observable(),flagged:[],subscriptions:[],validatables:[]},g=null;return g=c.observable?a.computed(function(){return e.graphMonitor(),d(b,e),l(e.validatables)}):function(){return d(b,e),l(e.validatables)},g.showAllMessages=
function(a){void 0===a&&(a=!0);g.forEach(function(b){u.isValidatable(b)&&b.isModified(a)})},g.isAnyMessageShown=function(){return!!g.find(function(a){return u.isValidatable(a)&&!a.isValid()&&a.isModified()})},g.filter=function(a){return a=a||function(){return!0},g(),f.arrayFilter(e.validatables,a)},g.find=function(a){return a=a||function(){return!0},g(),f.arrayFirst(e.validatables,a)},g.forEach=function(a){a=a||function(){};g();k(e.validatables,a)},g.map=function(a){return a=a||function(a){return a},
g(),f.arrayMap(e.validatables,a)},g._updateState=function(a){if(!u.isObject(a))throw Error("An object is required.");return b=a,c.observable?void e.graphMonitor.valueHasMutated():(d(a,e),l(e.validatables))},g},formatMessage:function(a,b,c){if(u.isObject(b)&&b.typeAttr&&(b=b.value),"function"==typeof a)return a(b,c);var d=h(b);return null==d&&(d=[]),u.isArray(d)||(d=[d]),a.replace(/{(\d+)}/gi,function(a,b){return"undefined"!=typeof d[b]?d[b]:a})},addRule:function(a,b){a.extend({validatable:!0});return!!f.arrayFirst(a.rules(),
function(a){return a.rule&&a.rule===b.rule})||a.rules.push(b),a},addAnonymousRule:function(a,b){void 0===b.message&&(b.message="Error");b.onlyIf&&(b.condition=b.onlyIf);e.addRule(a,b)},addExtender:function(b){a.extenders[b]=function(a,c){return c&&(c.message||c.onlyIf)?e.addRule(a,{rule:b,message:c.message,params:u.isEmptyVal(c.params)?!0:c.params,condition:c.onlyIf}):e.addRule(a,{rule:b,params:c})}},registerExtenders:function(){if(p.registerExtenders)for(var b in e.rules)e.rules.hasOwnProperty(b)&&
(a.extenders[b]||e.addExtender(b))},insertValidationMessage:function(a){var b=document.createElement("SPAN");return b.className=u.getConfigOptions(a).errorMessageClass,u.insertAfter(a,b),b},parseInputValidationAttributes:function(a,b){k(e.configuration.html5Attributes,function(c){if(u.hasAttribute(a,c)){var d=a.getAttribute(c)||!0;if("min"===c||"max"===c){var f=a.getAttribute("type");"undefined"!=typeof f&&f||(f="text");d={typeAttr:f,value:d}}e.addRule(b(),{rule:c,params:d})}});var c=a.getAttribute("type");
k(e.configuration.html5InputTypes,function(a){a===c&&e.addRule(b(),{rule:"date"===a?"dateISO":a,params:!0})})},writeInputValidationAttributes:function(b,c){var d=c();if(d&&d.rules){var g=d.rules();k(e.configuration.html5Attributes,function(c){var d=f.arrayFirst(g,function(a){return a.rule&&a.rule.toLowerCase()===c.toLowerCase()});d&&a.computed({read:function(){var e=a.unwrap(d.params);"pattern"===d.rule&&e instanceof RegExp&&(e=e.source);b.setAttribute(c,e)},disposeWhenNodeIsRemoved:b})});g=null}},
makeBindingHandlerValidatable:function(b){var c=a.bindingHandlers[b].init;a.bindingHandlers[b].init=function(b,d,e,f,g){return c(b,d,e,f,g),a.bindingHandlers.validationCore.init(b,d,e,f,g)}},setRules:function(b,c){var d=function(b,c){if(b&&c)for(var f in c)if(c.hasOwnProperty(f)){var g=c[f];if(b[f]){var l=b[f],k=h(l),n={},m={},t;for(t in g)g.hasOwnProperty(t)&&(e.rules[t]?n[t]=g[t]:m[t]=g[t]);if(a.isObservable(l)&&l.extend(n),k&&u.isArray(k))for(g=0;g<k.length;g++)d(k[g],m);else d(k,m)}}};d(b,c)}}}();
m(a.validation,p);e.rules={};e.rules.required={validator:function(a,b){var c;return void 0===a||null===a?!b:(c=a,"string"==typeof a&&(c=String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")),b?0<(c+"").length:!0)},message:"This field is required."};e.rules.min={validator:c("min"),message:"Please enter a value greater than or equal to {0}."};e.rules.max={validator:c("max"),message:"Please enter a value less than or equal to {0}."};e.rules.minLength={validator:function(a,b){return e.utils.isEmptyVal(a)?
!0:(e.utils.isNumber(a)?""+a:a).length>=b},message:"Please enter at least {0} characters."};e.rules.maxLength={validator:function(a,b){return e.utils.isEmptyVal(a)?!0:(e.utils.isNumber(a)?""+a:a).length<=b},message:"Please enter no more than {0} characters."};e.rules.pattern={validator:function(a,b){return e.utils.isEmptyVal(a)||null!==a.toString().match(b)},message:"Please check this value."};e.rules.step={validator:function(a,b){if(e.utils.isEmptyVal(a)||"any"===b)return!0;var c=100*a%(100*b);return 1E-5>
Math.abs(c)||1E-5>Math.abs(1-c)},message:"The value must increment by {0}."};e.rules.email={validator:function(a,b){return b?e.utils.isEmptyVal(a)||b&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a):
!0},message:"Please enter a proper email address."};e.rules.date={validator:function(a,b){return b?e.utils.isEmptyVal(a)||b&&!/Invalid|NaN/.test(new Date(a)):!0},message:"Please enter a proper date."};e.rules.dateISO={validator:function(a,b){return b?e.utils.isEmptyVal(a)||b&&/^\d{4}[-/](?:0?[1-9]|1[012])[-/](?:0?[1-9]|[12][0-9]|3[01])$/.test(a):!0},message:"Please enter a proper date."};e.rules.number={validator:function(a,b){return b?e.utils.isEmptyVal(a)||b&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a):
!0},message:"Please enter a number."};e.rules.digit={validator:function(a,b){return b?e.utils.isEmptyVal(a)||b&&/^\d+$/.test(a):!0},message:"Please enter a digit."};e.rules.phoneUS={validator:function(a,b){return b?e.utils.isEmptyVal(a)?!0:"string"!=typeof a?!1:(a=a.replace(/\s+/g,""),b&&9<a.length&&a.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)):!0},message:"Please specify a valid phone number."};e.rules.equal={validator:function(a,b){return a===e.utils.getValue(b)},message:"Values must equal."};
e.rules.notEqual={validator:function(a,b){return a!==e.utils.getValue(b)},message:"Please choose another value."};e.rules.unique={validator:function(a,b){var c=e.utils.getValue(b.collection),d=e.utils.getValue(b.externalValue),g=0;return a&&c?(f.arrayFilter(c,function(c){a===(b.valueAccessor?b.valueAccessor(c):c)&&g++}),(d?1:2)>g):!0},message:"Please make sure the value is unique."};e.registerExtenders();a.bindingHandlers.validationCore=function(){return{init:function(b,c){var d=e.utils.getConfigOptions(b),
f=c();if(d.parseInputAttributes&&e.utils.async(function(){e.parseInputValidationAttributes(b,c)}),d.insertMessages&&e.utils.isValidatable(f)){var g=e.insertValidationMessage(b);d.messageTemplate?a.renderTemplate(d.messageTemplate,{field:f},null,g,"replaceNode"):a.applyBindingsToNode(g,{validationMessage:f})}d.writeInputAttributes&&e.utils.isValidatable(f)&&e.writeInputValidationAttributes(b,c);d.decorateInputElement&&e.utils.isValidatable(f)&&a.applyBindingsToNode(b,{validationElement:f})}}}();e.makeBindingHandlerValidatable("value");
e.makeBindingHandlerValidatable("checked");a.bindingHandlers.textInput&&e.makeBindingHandlerValidatable("textInput");e.makeBindingHandlerValidatable("selectedOptions");a.bindingHandlers.validationMessage={update:function(b,c){var d=c(),g=e.utils.getConfigOptions(b),l=(h(d),!1),k=!1;if(null===d||"undefined"==typeof d)throw Error("Cannot bind validationMessage to undefined value. data-bind expression: "+b.getAttribute("data-bind"));var l=d.isModified&&d.isModified(),k=d.isValid&&d.isValid(),n=null;
g.messagesOnModified&&!l||(n=k?null:d.error);d=!g.messagesOnModified||l?!k:!1;l="none"!==b.style.display;g.allowHtmlMessages?f.setHtml(b,n):a.bindingHandlers.text.update(b,function(){return n});l&&!d?b.style.display="none":!l&&d&&(b.style.display="")}};a.bindingHandlers.validationElement={update:function(b,c,d){var f=c(),g=e.utils.getConfigOptions(b),l=(h(f),!1),k=!1;if(null===f||"undefined"==typeof f)throw Error("Cannot bind validationElement to undefined value. data-bind expression: "+b.getAttribute("data-bind"));
l=f.isModified&&f.isModified();k=f.isValid&&f.isValid();a.bindingHandlers.css.update(b,function(){var a={};return a[g.errorElementClass]=!g.decorateElementOnModified||l?!k:!1,a},d);g.errorsAsTitle&&a.bindingHandlers.attr.update(b,function(){var a=!g.errorsAsTitleOnModified||l,c=e.utils.getOriginalElementTitle(b);return a&&!k?{title:f.error,"data-orig-title":c}:!a||k?{title:c,"data-orig-title":null}:void 0})}};a.bindingHandlers.validationOptions=function(){return{init:function(a,b){var c=h(b());if(c){var d=
m({},e.configuration);m(d,c);e.utils.setDomData(a,d)}}}}();a.extenders.validation=function(a,b){return k(e.utils.isArray(b)?b:[b],function(b){e.addAnonymousRule(a,b)}),a};a.extenders.validatable=function(b,c){if(e.utils.isObject(c)||(c={enable:c}),"enable"in c||(c.enable=!0),c.enable&&!e.utils.isValidatable(b)){var d=e.configuration.validate||{},d={throttleEvaluation:c.throttle||d.throttle};b.error=a.observable(null);b.rules=a.observableArray();b.isValidating=a.observable(!1);b.__valid__=a.observable(!0);
b.isModified=a.observable(!1);b.isValid=a.computed(b.__valid__);b.setError=function(a){var c=b.error.peek(),d=b.__valid__.peek();b.error(a);b.__valid__(!1);c===a||d||b.isValid.notifySubscribers()};b.clearError=function(){return b.error(null),b.__valid__(!0),b};var f=b.subscribe(function(){b.isModified(!0)}),g=a.computed(m({read:function(){b();b.rules();return e.validateObservable(b),!0}},d));m(g,d);b._disposeValidation=function(){b.isValid.dispose();b.rules.removeAll();f.dispose();g.dispose();delete b.rules;
delete b.error;delete b.isValid;delete b.isValidating;delete b.__valid__;delete b.isModified;delete b.setError;delete b.clearError;delete b._disposeValidation}}else!1===c.enable&&b._disposeValidation&&b._disposeValidation();return b};e.validateObservable=function(a){for(var c,d,f=0,g=a.rules(),l=g.length;l>f;f++)if(d=g[f],!d.condition||d.condition())if(c=d.rule?e.rules[d.rule]:d,c.async||d.async)b(a,c,d);else{var k=a,n=c,m=d;if(!n.validator(k(),void 0===m.params?!0:h(m.params))&&(k.setError(e.formatMessage(m.message||
n.message,h(m.params),k)),!0))return!1}return a.clearError(),!0};var g,u={};e.defineLocale=function(a,b){return a&&b?(u[a.toLowerCase()]=b,b):null};e.locale=function(a){if(a){if(a=a.toLowerCase(),!u.hasOwnProperty(a))throw Error("Localization "+a+" has not been loaded.");e.localize(u[a]);g=a}return g};e.localize=function(a){var b=e.rules,c;for(c in a)b.hasOwnProperty(c)&&(b[c].message=a[c])};(function(){var a={},b=e.rules,c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c].message);e.defineLocale("en-us",
a)})();g="en-us";a.applyBindingsWithValidation=function(b,c,d){var f,g=document.body;c&&c.nodeType?(g=c,f=d):f=c;e.init();f&&(f=m(m({},e.configuration),f),e.utils.setDomData(g,f));a.applyBindings(b,g)};var r=a.applyBindings;a.applyBindings=function(a,b){e.init();r(a,b)};a.validatedObservable=function(b,c){if(!c&&!e.utils.isObject(b))return a.observable(b).extend({validatable:!0});var d=a.observable(b);return d.errors=e.group(e.utils.isObject(b)?b:{},c),d.isValid=a.observable(0===d.errors().length),
a.isObservable(d.errors)?d.errors.subscribe(function(a){d.isValid(0===a.length)}):a.computed(d.errors).subscribe(function(a){d.isValid(0===a.length)}),d.subscribe(function(a){e.utils.isObject(a)||(a={});d.errors._updateState(a);d.isValid(0===d.errors().length)}),d}});!function(a,d,c,b){function e(a,b,c){return setTimeout(n(a,c),b)}function f(a,b,c){return Array.isArray(a)?(h(a,c[b],c),!0):!1}function h(a,c,d){var e;if(a)if(a.forEach)a.forEach(c,d);else if(a.length!==b)for(e=0;e<a.length;)c.call(d,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e,a)}function k(a,c,d){for(var e=Object.keys(c),f=0;f<e.length;)(!d||d&&a[e[f]]===b)&&(a[e[f]]=c[e[f]]),f++;return a}function m(a,b){return k(a,b,!0)}function l(a,b,c){var d=b.prototype;b=a.prototype=Object.create(d);
b.constructor=a;b._super=d;c&&k(b,c)}function n(a,b){return function(){return a.apply(b,arguments)}}function p(a,c){return typeof a==za?a.apply(c?c[0]||b:b,c):a}function g(a,b,c){h(t(b),function(b){a.addEventListener(b,c,!1)})}function u(a,b,c){h(t(b),function(b){a.removeEventListener(b,c,!1)})}function r(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function t(a){return a.trim().split(/\s+/g)}function z(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==
b||!c&&a[d]===b)return d;d++}return-1}function x(a){return Array.prototype.slice.call(a,0)}function q(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];0>z(e,g)&&d.push(a[f]);e[f]=g;f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function B(a,c){for(var d,e,f=c[0].toUpperCase()+c.slice(1),g=0;g<ya.length;){if(d=ya[g],e=d?d+f:c,e in a)return e;g++}return b}function w(a){a=a.ownerDocument;return a.defaultView||a.parentWindow}function H(a,b){var c=this;this.manager=
a;this.callback=b;this.element=a.element;this.target=a.options.inputTarget;this.domHandler=function(b){p(a.options.enable,[a])&&c.handler(b)};this.init()}function O(a){var b=a.options.inputClass;return new (b?b:Ja?U:Ka?aa:Aa?y:N)(a,D)}function D(a,c,d){var e=d.pointers.length,f=d.changedPointers.length,g=c&V&&0===e-f,e=c&(T|W)&&0===e-f;d.isFirst=!!g;d.isFinal=!!e;g&&(a.session={});d.eventType=c;c=a.session;g=d.pointers;e=g.length;c.firstInput||(c.firstInput=G(d));1<e&&!c.firstMultiple?c.firstMultiple=
G(d):1===e&&(c.firstMultiple=!1);var f=c.firstInput,h=(e=c.firstMultiple)?e.center:f.center,l=d.center=M(g);d.timeStamp=va();d.deltaTime=d.timeStamp-f.timeStamp;d.angle=K(h,l);d.distance=E(h,l);var f=d.center,h=c.offsetDelta||{},l=c.prevDelta||{},k=c.prevInput||{};(d.eventType===V||k.eventType===T)&&(l=c.prevDelta={x:k.deltaX||0,y:k.deltaY||0},h=c.offsetDelta={x:f.x,y:f.y});d.deltaX=l.x+(f.x-h.x);d.deltaY=l.y+(f.y-h.y);d.offsetDirection=C(d.deltaX,d.deltaY);e?(f=e.pointers,f=E(g[0],g[1],qa)/E(f[0],
f[1],qa)):f=1;d.scale=f;e?(e=e.pointers,g=K(g[1],g[0],qa)-K(e[1],e[0],qa)):g=0;d.rotation=g;h=c.lastInterval||d;g=d.timeStamp-h.timeStamp;d.eventType!=W&&(g>La||h.velocity===b)?(f=h.deltaX-d.deltaX,h=h.deltaY-d.deltaY,l=f/g||0,k=h/g||0,g=l,e=k,l=ha(l)>ha(k)?l:k,f=C(f,h),c.lastInterval=d):(l=h.velocity,g=h.velocityX,e=h.velocityY,f=h.direction);d.velocity=l;d.velocityX=g;d.velocityY=e;d.direction=f;c=a.element;r(d.srcEvent.target,c)&&(c=d.srcEvent.target);d.target=c;a.emit("hammer.input",d);a.recognize(d);
a.session.prevInput=d}function G(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:ea(a.pointers[c].clientX),clientY:ea(a.pointers[c].clientY)},c++;return{timeStamp:va(),pointers:b,center:M(b),deltaX:a.deltaX,deltaY:a.deltaY}}function M(a){var b=a.length;if(1===b)return{x:ea(a[0].clientX),y:ea(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:ea(c/b),y:ea(d/b)}}function C(a,b){return a===b?ra:ha(a)>=ha(b)?0<a?ia:ja:0<b?ka:la}function E(a,b,c){c||(c=Ba);var d=
b[c[0]]-a[c[0]];a=b[c[1]]-a[c[1]];return Math.sqrt(d*d+a*a)}function K(a,b,c){c||(c=Ba);return 180*Math.atan2(b[c[1]]-a[c[1]],b[c[0]]-a[c[0]])/Math.PI}function N(){this.evEl=Ma;this.evWin=Na;this.allow=!0;this.pressed=!1;H.apply(this,arguments)}function U(){this.evEl=Ca;this.evWin=Da;H.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function fa(){this.evTarget=Oa;this.evWin=Pa;this.started=!1;H.apply(this,arguments)}function aa(){this.evTarget=Qa;this.targetIds={};H.apply(this,
arguments)}function X(a,b){var c=x(a.touches),d=this.targetIds;if(b&(V|ba)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f=x(a.changedTouches),g=[],h=this.target;if(e=c.filter(function(a){return r(a.target,h)}),b===V)for(c=0;c<e.length;)d[e[c].identifier]=!0,c++;for(c=0;c<f.length;)d[f[c].identifier]&&g.push(f[c]),b&(T|W)&&delete d[f[c].identifier],c++;return g.length?[q(e.concat(g),"identifier",!0),g]:void 0}function y(){H.apply(this,arguments);var a=n(this.handler,this);this.touch=new aa(this.manager,
a);this.mouse=new N(this.manager,a)}function Q(a,b){this.manager=a;this.set(b)}function F(a){if(-1<a.indexOf(ma))return ma;var b=-1<a.indexOf(na),c=-1<a.indexOf(oa);return b&&c?na+" "+oa:b||c?b?na:oa:-1<a.indexOf(wa)?wa:Ea}function A(a){this.id=Ra++;this.manager=null;this.options=m(a||{},this.defaults);a=this.options.enable;this.options.enable=a===b?!0:a;this.state=sa;this.simultaneous={};this.requireFail=[]}function L(a){return a==la?"down":a==ka?"up":a==ia?"left":a==ja?"right":""}function I(a,b){var c=
b.manager;return c?c.get(a):a}function J(){A.apply(this,arguments)}function S(){J.apply(this,arguments);this.pY=this.pX=null}function P(){J.apply(this,arguments)}function R(){A.apply(this,arguments);this._input=this._timer=null}function da(){J.apply(this,arguments)}function ga(){J.apply(this,arguments)}function pa(){A.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function Z(a,c){c=c||{};var d=c.recognizers;return c.recognizers=d===b?Z.defaults.preset:d,
new ua(a,c)}function ua(a,b){b=b||{};this.options=m(b,Z.defaults);this.options.inputTarget=this.options.inputTarget||a;this.handlers={};this.session={};this.recognizers=[];this.element=a;this.input=O(this);this.touchAction=new Q(this,this.options.touchAction);xa(this,!0);h(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]);a[3]&&b.requireFailure(a[3])},this)}function xa(a,b){var c=a.element;h(a.options.cssProps,function(a,d){c.style[B(c.style,d)]=b?a:""})}function Ia(a,
b){var c=d.createEvent("Event");c.initEvent(a,!0,!0);c.gesture=b;b.target.dispatchEvent(c)}var ya=" webkit moz MS ms o".split(" "),Ha=d.createElement("div"),za="function",ea=Math.round,ha=Math.abs,va=Date.now,Ra=1,ta=/mobile|tablet|ip(ad|hone|od)|android/i,Aa="ontouchstart"in a,Ja=B(a,"PointerEvent")!==b,Ka=Aa&&ta.test(navigator.userAgent),La=25,V=1,ba=2,T=4,W=8,ra=1,ia=2,ja=4,ka=8,la=16,Y=ia|ja,ca=ka|la,ta=Y|ca,Ba=["x","y"],qa=["clientX","clientY"];H.prototype={handler:function(){},init:function(){this.evEl&&
g(this.element,this.evEl,this.domHandler);this.evTarget&&g(this.target,this.evTarget,this.domHandler);this.evWin&&g(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&u(this.element,this.evEl,this.domHandler);this.evTarget&&u(this.target,this.evTarget,this.domHandler);this.evWin&&u(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:V,mousemove:ba,mouseup:T},Ma="mousedown",Na="mousemove mouseup";l(N,H,{handler:function(a){var b=Sa[a.type];b&V&&0===a.button&&(this.pressed=
!0);b&ba&&1!==a.which&&(b=T);this.pressed&&this.allow&&(b&T&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:"mouse",srcEvent:a}))}});var Ta={pointerdown:V,pointermove:ba,pointerup:T,pointercancel:W,pointerout:W},Ua={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ca="pointerdown",Da="pointermove pointerup pointercancel";a.MSPointerEvent&&(Ca="MSPointerDown",Da="MSPointerMove MSPointerUp MSPointerCancel");l(U,H,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",
""),d=Ta[d],e=Ua[a.pointerType]||a.pointerType,f="touch"==e,g=z(b,a.pointerId,"pointerId");d&V&&(0===a.button||f)?0>g&&(b.push(a),g=b.length-1):d&(T|W)&&(c=!0);0>g||(b[g]=a,this.callback(this.manager,d,{pointers:b,changedPointers:[a],pointerType:e,srcEvent:a}),c&&b.splice(g,1))}});var Va={touchstart:V,touchmove:ba,touchend:T,touchcancel:W},Oa="touchstart",Pa="touchstart touchmove touchend touchcancel";l(fa,H,{handler:function(a){var b=Va[a.type];if(b===V&&(this.started=!0),this.started){var c,d=x(a.touches);
c=x(a.changedTouches);c=(b&(T|W)&&(d=q(d.concat(c),"identifier",!0)),[d,c]);b&(T|W)&&0===c[0].length-c[1].length&&(this.started=!1);this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}}});var Wa={touchstart:V,touchmove:ba,touchend:T,touchcancel:W},Qa="touchstart touchmove touchend touchcancel";l(aa,H,{handler:function(a){var b=Wa[a.type],c=X.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}});
l(y,H,{handler:function(a,b,c){var d="mouse"==c.pointerType;if("touch"==c.pointerType)this.mouse.allow=!1;else if(d&&!this.mouse.allow)return;b&(T|W)&&(this.mouse.allow=!0);this.callback(a,b,c)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var Fa=B(Ha.style,"touchAction"),Ga=Fa!==b,Ea="auto",wa="manipulation",ma="none",na="pan-x",oa="pan-y";Q.prototype={set:function(a){"compute"==a&&(a=this.compute());Ga&&(this.manager.element.style[Fa]=a);this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},
compute:function(){var a=[];return h(this.manager.recognizers,function(b){p(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),F(a.join(" "))},preventDefaults:function(a){if(!Ga){var b=a.srcEvent;a=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var c=this.actions,d=-1<c.indexOf(ma),e=-1<c.indexOf(oa),c=-1<c.indexOf(na);return d||e&&a&Y||c&&a&ca?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0;a.preventDefault()}};var sa=
1;A.prototype={defaults:{},set:function(a){return k(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=I(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=I(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=
I(a,this),-1===z(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=I(a,this);a=z(this.requireFail,a);return-1<a&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(e){c.manager.emit(c.options.event+(e?d&16?"cancel":d&8?"end":d&4?"move":d&2?"start":"":""),a)}var c=this,d=this.state;8>d&&
b(!0);b();8<=d&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|sa)))return!1;a++}return!0},recognize:function(a){a=k({},a);return p(this.options.enable,[this,a])?(this.state&56&&(this.state=sa),this.state=this.process(a),void(this.state&30&&this.tryEmit(a))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},reset:function(){}};l(J,A,{defaults:{pointers:1},
attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&6;a=this.attrTest(a);return d&&(c&W||!a)?b|16:d||a?c&T?b|8:b&2?b|4:2:32}});l(S,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:ta},getTouchAction:function(){var a=this.options.direction,b=[];return a&Y&&b.push(oa),a&ca&&b.push(na),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||
(b.direction&Y?(e=0===f?ra:0>f?ia:ja,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?ra:0>g?ka:la,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return J.prototype.attrTest.call(this,a)&&(this.state&2||!(this.state&2)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;this.pY=a.deltaY;var b=L(a.direction);b&&this.manager.emit(this.options.event+b,a);this._super.emit.call(this,a)}});l(P,J,{defaults:{event:"pinch",threshold:0,pointers:2},
getTouchAction:function(){return[ma]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&2)},emit:function(a){(this._super.emit.call(this,a),1!==a.scale)&&this.manager.emit(this.options.event+(1>a.scale?"in":"out"),a)}});l(R,A,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ea]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>
b.time;if(this._input=a,!d||!c||a.eventType&(T|W)&&!f)this.reset();else if(a.eventType&V)this.reset(),this._timer=e(function(){this.state=8;this.tryEmit()},b.time,this);else if(a.eventType&T)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){8===this.state&&(a&&a.eventType&T?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=va(),this.manager.emit(this.options.event,this._input)))}});l(da,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ma]},
attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&2)}});l(ga,J,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Y|ca,pointers:1},getTouchAction:function(){return S.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Y|ca)?b=a.velocity:c&Y?b=a.velocityX:c&ca&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&ha(b)>this.options.velocity&&
a.eventType&T},emit:function(a){var b=L(a.direction);b&&this.manager.emit(this.options.event+b,a);this.manager.emit(this.options.event,a)}});l(pa,A,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[wa]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&V&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=T)return this.failTimeout();
c=this.pTime?a.timeStamp-this.pTime<b.interval:!0;d=!this.pCenter||E(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp;this.pCenter=a.center;d&&c?this.count+=1:this.count=1;this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=e(function(){this.state=8;this.tryEmit()},b.interval,this),2):8}return 32},failTimeout:function(){return this._timer=e(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==
this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});Z.VERSION="2.0.4";Z.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[da,{enable:!1}],[P,{enable:!1},["rotate"]],[ga,{direction:Y}],[S,{direction:Y},["swipe"]],[pa],[pa,{event:"doubletap",taps:2},["tap"]],[R]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ua.prototype=
{set:function(a){return k(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&8)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],2===b.stopped||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),
!e&&c.state&14&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof A)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(z(b,a),1),this.touchAction.update(),this},
on:function(a,b){var c=this.handlers;return h(t(a),function(a){c[a]=c[a]||[];c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return h(t(a),function(a){b?c[a].splice(z(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&Ia(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a;b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&xa(this,!1);this.handlers={};this.session=
{};this.input.destroy();this.element=null}};k(Z,{INPUT_START:V,INPUT_MOVE:ba,INPUT_END:T,INPUT_CANCEL:W,STATE_POSSIBLE:sa,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:ra,DIRECTION_LEFT:ia,DIRECTION_RIGHT:ja,DIRECTION_UP:ka,DIRECTION_DOWN:la,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:ca,DIRECTION_ALL:ta,Manager:ua,Input:H,TouchAction:Q,TouchInput:aa,MouseInput:N,PointerEventInput:U,TouchMouseInput:y,SingleTouchInput:fa,Recognizer:A,
AttrRecognizer:J,Tap:pa,Pan:S,Swipe:ga,Pinch:P,Rotate:da,Press:R,on:g,off:u,each:h,merge:m,extend:k,inherit:l,bindFn:n,prefixed:B});typeof define==za&&define.amd?define(function(){return Z}):"undefined"!=typeof module&&module.exports?module.exports=Z:a[c]=Z}(window,document,"Hammer");(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){var d=window.Slick||{},d=function(){var c=0;return function(b,d){var f,h;this.defaults={accessibility:!0,appendArrows:a(b),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3E3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,
b){return'<button type="button" data-role="none">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1};this.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,
currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1};a.extend(this,this.initials);this.animProp=this.animType=this.activeBreakpoint=null;this.breakpoints=[];this.breakpointSettings=[];this.paused=this.cssTransitions=!1;this.positionProp=null;this.$slider=a(b);this.transitionType=this.transformType=
this.$slidesCache=null;this.windowWidth=0;this.windowTimer=null;this.originalSettings=this.options=a.extend({},this.defaults,d);if((f=this.options.responsive||null)&&-1<f.length){for(h in f)f.hasOwnProperty(h)&&(this.breakpoints.push(f[h].breakpoint),this.breakpointSettings[f[h].breakpoint]=f[h].settings);this.breakpoints.sort(function(a,b){return b-a})}this.autoPlay=a.proxy(this.autoPlay,this);this.autoPlayClear=a.proxy(this.autoPlayClear,this);this.changeSlide=a.proxy(this.changeSlide,this);this.selectHandler=
a.proxy(this.selectHandler,this);this.setPosition=a.proxy(this.setPosition,this);this.swipeHandler=a.proxy(this.swipeHandler,this);this.dragHandler=a.proxy(this.dragHandler,this);this.keyHandler=a.proxy(this.keyHandler,this);this.autoPlayIterator=a.proxy(this.autoPlayIterator,this);this.instanceUid=c++;this.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;this.init()}}();d.prototype.addSlide=function(c,b,d){if("boolean"===typeof b)d=b,b=null;else if(0>b||b>=this.slideCount)return!1;this.unload();"number"===typeof b?
0===b&&0===this.$slides.length?a(c).appendTo(this.$slideTrack):d?a(c).insertBefore(this.$slides.eq(b)):a(c).insertAfter(this.$slides.eq(b)):!0===d?a(c).prependTo(this.$slideTrack):a(c).appendTo(this.$slideTrack);this.$slides=this.$slideTrack.children(this.options.slide);this.$slideTrack.children(this.options.slide).detach();this.$slideTrack.append(this.$slides);this.$slides.each(function(b,c){a(c).attr("index",b)});this.$slidesCache=this.$slides;this.reinit()};d.prototype.animateSlide=function(c,
b){var d={},f=this;!0===f.options.rtl&&!1===f.options.vertical&&(c=-c);!1===f.transformsEnabled?!1===f.options.vertical?f.$slideTrack.animate({left:c},f.options.speed,f.options.easing,b):f.$slideTrack.animate({top:c},f.options.speed,f.options.easing,b):!1===f.cssTransitions?a({animStart:f.currentLeft}).animate({animStart:c},{duration:f.options.speed,easing:f.options.easing,step:function(a){d[f.animType]=!1===f.options.vertical?"translate("+a+"px, 0px)":"translate(0px,"+a+"px)";f.$slideTrack.css(d)},
complete:function(){b&&b.call()}}):(f.applyTransition(),d[f.animType]=!1===f.options.vertical?"translate3d("+c+"px, 0px, 0px)":"translate3d(0px,"+c+"px, 0px)",f.$slideTrack.css(d),b&&setTimeout(function(){f.disableTransition();b.call()},f.options.speed))};d.prototype.applyTransition=function(a){var b={};b[this.transitionType]=!1===this.options.fade?this.transformType+" "+this.options.speed+"ms "+this.options.cssEase:"opacity "+this.options.speed+"ms "+this.options.cssEase;!1===this.options.fade?this.$slideTrack.css(b):
this.$slides.eq(a).css(b)};d.prototype.autoPlay=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer);this.slideCount>this.options.slidesToShow&&!0!==this.paused&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))};d.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)};d.prototype.autoPlayIterator=function(){var c=null!=this.options.asNavFor?a(this.options.asNavFor).getSlick():null;!1===this.options.infinite?1===this.direction?
(this.currentSlide+1===this.slideCount-1&&(this.direction=0),this.slideHandler(this.currentSlide+this.options.slidesToScroll),null!=c&&c.slideHandler(c.currentSlide+c.options.slidesToScroll)):(0===this.currentSlide-1&&(this.direction=1),this.slideHandler(this.currentSlide-this.options.slidesToScroll),null!=c&&c.slideHandler(c.currentSlide-c.options.slidesToScroll)):(this.slideHandler(this.currentSlide+this.options.slidesToScroll),null!=c&&c.slideHandler(c.currentSlide+c.options.slidesToScroll))};
d.prototype.buildArrows=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow=a(this.options.prevArrow),this.$nextArrow=a(this.options.nextArrow),this.htmlExpr.test(this.options.prevArrow)&&this.$prevArrow.appendTo(this.options.appendArrows),this.htmlExpr.test(this.options.nextArrow)&&this.$nextArrow.appendTo(this.options.appendArrows),!0!==this.options.infinite&&this.$prevArrow.addClass("slick-disabled"))};d.prototype.buildDots=function(){var c,b;if(!0===
this.options.dots&&this.slideCount>this.options.slidesToShow){b='<ul class="'+this.options.dotsClass+'">';for(c=0;c<=this.getDotCount();c+=1)b+="<li>"+this.options.customPaging.call(this,this,c)+"</li>";this.$dots=a(b+"</ul>").appendTo(this.$slider);this.$dots.find("li").first().addClass("slick-active")}};d.prototype.buildOut=function(){this.$slides=this.$slider.children(this.options.slide+":not(.slick-cloned)").addClass("slick-slide");this.slideCount=this.$slides.length;this.$slides.each(function(c,
b){a(b).attr("index",c)});this.$slidesCache=this.$slides;this.$slider.addClass("slick-slider");this.$slideTrack=0===this.slideCount?a('<div class="slick-track"/>').appendTo(this.$slider):this.$slides.wrapAll('<div class="slick-track"/>').parent();this.$list=this.$slideTrack.wrap('<div class="slick-list"/>').parent();this.$slideTrack.css("opacity",0);!0===this.options.centerMode&&(this.options.slidesToScroll=1,0===this.options.slidesToShow%2&&(this.options.slidesToShow=3));a("img[data-lazy]",this.$slider).not("[src]").addClass("slick-loading");
this.setupInfinite();this.buildArrows();this.buildDots();this.updateDots();!0===this.options.accessibility&&this.$list.prop("tabIndex",0);this.setSlideClasses("number"===typeof this.currentSlide?this.currentSlide:0);!0===this.options.draggable&&this.$list.addClass("draggable")};d.prototype.checkResponsive=function(){var c,b;if(this.originalSettings.responsive&&-1<this.originalSettings.responsive.length&&null!==this.originalSettings.responsive){b=null;for(c in this.breakpoints)this.breakpoints.hasOwnProperty(c)&&
a(window).width()<this.breakpoints[c]&&(b=this.breakpoints[c]);null!==b?null!==this.activeBreakpoint?b!==this.activeBreakpoint&&(this.activeBreakpoint=b,this.options=a.extend({},this.options,this.breakpointSettings[b]),this.refresh()):(this.activeBreakpoint=b,this.options=a.extend({},this.options,this.breakpointSettings[b]),this.refresh()):null!==this.activeBreakpoint&&(this.activeBreakpoint=null,this.options=a.extend({},this.options,this.originalSettings),this.refresh())}};d.prototype.changeSlide=
function(c){var b=a(c.target),d=null!=this.options.asNavFor?a(this.options.asNavFor).getSlick():null;b.is("a")&&c.preventDefault();switch(c.data.message){case "previous":this.slideCount>this.options.slidesToShow&&(this.slideHandler(this.currentSlide-this.options.slidesToScroll),null!=d&&d.slideHandler(d.currentSlide-d.options.slidesToScroll));break;case "next":this.slideCount>this.options.slidesToShow&&(this.slideHandler(this.currentSlide+this.options.slidesToScroll),null!=d&&d.slideHandler(d.currentSlide+
d.options.slidesToScroll));break;case "index":c=a(c.target).parent().index()*this.options.slidesToScroll;this.slideHandler(c);null!=d&&d.slideHandler(c);break;default:return!1}};d.prototype.destroy=function(){this.autoPlayClear();this.touchObject={};a(".slick-cloned",this.$slider).remove();this.$dots&&this.$dots.remove();this.$prevArrow&&(this.$prevArrow.remove(),this.$nextArrow.remove());this.$slides.parent().hasClass("slick-track")&&this.$slides.unwrap().unwrap();this.$slides.removeClass("slick-slide slick-active slick-visible").removeAttr("style");
this.$slider.removeClass("slick-slider");this.$slider.removeClass("slick-initialized");this.$list.off(".slick");a(window).off(".slick-"+this.instanceUid);a(document).off(".slick-"+this.instanceUid)};d.prototype.disableTransition=function(a){var b={};b[this.transitionType]="";!1===this.options.fade?this.$slideTrack.css(b):this.$slides.eq(a).css(b)};d.prototype.fadeSlide=function(a,b){var d=this;!1===d.cssTransitions?(d.$slides.eq(a).css({zIndex:1E3}),d.$slides.eq(a).animate({opacity:1},d.options.speed,
d.options.easing,b)):(d.applyTransition(a),d.$slides.eq(a).css({opacity:1,zIndex:1E3}),b&&setTimeout(function(){d.disableTransition(a);b.call()},d.options.speed))};d.prototype.filterSlides=function(a){null!==a&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(a).appendTo(this.$slideTrack),this.reinit())};d.prototype.getCurrent=function(){return this.currentSlide};d.prototype.getDotCount=function(){var a=0,b=0,d=0,f;for(f=!0===this.options.infinite?this.slideCount+
this.options.slidesToShow-this.options.slidesToScroll:this.slideCount;a<f;)d++,b+=this.options.slidesToScroll,a=b+this.options.slidesToShow;return d};d.prototype.getLeft=function(a){var b,d=0;this.slideOffset=0;b=this.$slides.first().outerHeight();!0===this.options.infinite?(this.slideCount>this.options.slidesToShow&&(this.slideOffset=this.slideWidth*this.options.slidesToShow*-1,d=b*this.options.slidesToShow*-1),0!==this.slideCount%this.options.slidesToScroll&&a+this.options.slidesToScroll>this.slideCount&&
this.slideCount>this.options.slidesToShow&&(this.slideOffset=this.slideCount%this.options.slidesToShow*this.slideWidth*-1,d=this.slideCount%this.options.slidesToShow*b*-1)):0!==this.slideCount%this.options.slidesToShow&&a+this.options.slidesToScroll>this.slideCount&&this.slideCount>this.options.slidesToShow&&(this.slideOffset=this.options.slidesToShow*this.slideWidth-this.slideCount%this.options.slidesToShow*this.slideWidth,d=this.slideCount%this.options.slidesToShow*b);!0===this.options.centerMode&&
!0===this.options.infinite?this.slideOffset+=this.slideWidth*Math.floor(this.options.slidesToShow/2)-this.slideWidth:!0===this.options.centerMode&&(this.slideOffset+=this.slideWidth*Math.floor(this.options.slidesToShow/2));return!1===this.options.vertical?a*this.slideWidth*-1+this.slideOffset:a*b*-1+d};d.prototype.init=function(){a(this.$slider).hasClass("slick-initialized")||(a(this.$slider).addClass("slick-initialized"),this.buildOut(),this.setProps(),this.startLoad(),this.loadSlider(),this.initializeEvents(),
this.checkResponsive());null!==this.options.onInit&&this.options.onInit.call(this,this)};d.prototype.initArrowEvents=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.on("click.slick",{message:"previous"},this.changeSlide),this.$nextArrow.on("click.slick",{message:"next"},this.changeSlide))};d.prototype.initDotEvents=function(){if(!0===this.options.dots&&this.slideCount>this.options.slidesToShow)a("li",this.$dots).on("click.slick",{message:"index"},this.changeSlide);
if(!0===this.options.dots&&!0===this.options.pauseOnDotsHover&&!0===this.options.autoplay)a("li",this.$dots).on("mouseenter.slick",this.autoPlayClear).on("mouseleave.slick",this.autoPlay)};d.prototype.initializeEvents=function(){var c=this;c.initArrowEvents();c.initDotEvents();c.$list.on("touchstart.slick mousedown.slick",{action:"start"},c.swipeHandler);c.$list.on("touchmove.slick mousemove.slick",{action:"move"},c.swipeHandler);c.$list.on("touchend.slick mouseup.slick",{action:"end"},c.swipeHandler);
c.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},c.swipeHandler);!0===c.options.pauseOnHover&&!0===c.options.autoplay&&(c.$list.on("mouseenter.slick",c.autoPlayClear),c.$list.on("mouseleave.slick",c.autoPlay));if(!0===c.options.accessibility)c.$list.on("keydown.slick",c.keyHandler);if(!0===c.options.focusOnSelect)a(c.options.slide,c.$slideTrack).on("click.slick",c.selectHandler);a(window).on("orientationchange.slick.slick-"+c.instanceUid,function(){c.checkResponsive();c.setPosition()});
a(window).on("resize.slick.slick-"+c.instanceUid,function(){a(window).width()!==c.windowWidth&&(clearTimeout(c.windowDelay),c.windowDelay=window.setTimeout(function(){c.windowWidth=a(window).width();c.checkResponsive();c.setPosition()},50))});a(window).on("load.slick.slick-"+c.instanceUid,c.setPosition);a(document).on("ready.slick.slick-"+c.instanceUid,c.setPosition)};d.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show());
!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show();!0===this.options.autoplay&&this.autoPlay()};d.prototype.keyHandler=function(a){37===a.keyCode?this.changeSlide({data:{message:"previous"}}):39===a.keyCode&&this.changeSlide({data:{message:"next"}})};d.prototype.lazyLoad=function(){function c(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy")+"?"+(new Date).getTime();b.load(function(){b.animate({opacity:1},200)}).css({opacity:0}).attr("src",
c).removeAttr("data-lazy").removeClass("slick-loading")})}var b,d;!0===this.options.centerMode||!0===this.options.fade?(b=this.options.slidesToShow+this.currentSlide-1,d=b+this.options.slidesToShow+2):(b=this.options.infinite?this.options.slidesToShow+this.currentSlide:this.currentSlide,d=b+this.options.slidesToShow);b=this.$slider.find(".slick-slide").slice(b,d);c(b);1==this.slideCount?(b=this.$slider.find(".slick-slide"),c(b)):this.currentSlide>=this.slideCount-this.options.slidesToShow?(b=this.$slider.find(".slick-cloned").slice(0,
this.options.slidesToShow),c(b)):0===this.currentSlide&&(b=this.$slider.find(".slick-cloned").slice(-1*this.options.slidesToShow),c(b))};d.prototype.loadSlider=function(){this.setPosition();this.$slideTrack.css({opacity:1});this.$slider.removeClass("slick-loading");this.initUI();"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()};d.prototype.postSlide=function(a){null!==this.options.onAfterChange&&this.options.onAfterChange.call(this,this,a);this.animating=!1;this.setPosition();this.swipeLeft=
null;!0===this.options.autoplay&&!1===this.paused&&this.autoPlay()};d.prototype.progressiveLazyLoad=function(){var c=this,b;0<a("img[data-lazy]").length&&(b=a("img[data-lazy]",c.$slider).first(),b.attr("src",b.attr("data-lazy")).removeClass("slick-loading").load(function(){b.removeAttr("data-lazy");c.progressiveLazyLoad()}))};d.prototype.refresh=function(){var c=this.currentSlide;this.destroy();a.extend(this,this.initials);this.currentSlide=c;this.init()};d.prototype.reinit=function(){this.$slides=
this.$slideTrack.children(this.options.slide).addClass("slick-slide");this.slideCount=this.$slides.length;this.currentSlide>=this.slideCount&&0!==this.currentSlide&&(this.currentSlide-=this.options.slidesToScroll);this.setProps();this.setupInfinite();this.buildArrows();this.updateArrows();this.initArrowEvents();this.buildDots();this.updateDots();this.initDotEvents();if(!0===this.options.focusOnSelect)a(this.options.slide,this.$slideTrack).on("click.slick",this.selectHandler);this.setSlideClasses(0);
this.setPosition();null!==this.options.onReInit&&this.options.onReInit.call(this,this)};d.prototype.removeSlide=function(a,b){a="boolean"===typeof a?!0===a?0:this.slideCount-1:!0===b?--a:a;if(1>this.slideCount||0>a||a>this.slideCount-1)return!1;this.unload();this.$slideTrack.children(this.options.slide).eq(a).remove();this.$slides=this.$slideTrack.children(this.options.slide);this.$slideTrack.children(this.options.slide).detach();this.$slideTrack.append(this.$slides);this.$slidesCache=this.$slides;
this.reinit()};d.prototype.setCSS=function(a){var b={},d,f;!0===this.options.rtl&&(a=-a);d="left"==this.positionProp?a+"px":"0px";f="top"==this.positionProp?a+"px":"0px";b[this.positionProp]=a;!1!==this.transformsEnabled&&(b={},b[this.animType]=!1===this.cssTransitions?"translate("+d+", "+f+")":"translate3d("+d+", "+f+", 0px)");this.$slideTrack.css(b)};d.prototype.setDimensions=function(){!1===this.options.vertical?!0===this.options.centerMode&&this.$list.css({padding:"0px "+this.options.centerPadding}):
(this.$list.height(this.$slides.first().outerHeight(!0)*this.options.slidesToShow),!0===this.options.centerMode&&this.$list.css({padding:this.options.centerPadding+" 0px"}));this.listWidth=this.$list.width();this.listHeight=this.$list.height();!1===this.options.vertical?(this.slideWidth=Math.ceil(this.listWidth/this.options.slidesToShow),this.$slideTrack.width(Math.ceil(this.slideWidth*this.$slideTrack.children(".slick-slide").length))):(this.slideWidth=Math.ceil(this.listWidth),this.$slideTrack.height(Math.ceil(this.$slides.first().outerHeight(!0)*
this.$slideTrack.children(".slick-slide").length)));var a=this.$slides.first().outerWidth(!0)-this.$slides.first().width();this.$slideTrack.children(".slick-slide").width(this.slideWidth-a)};d.prototype.setFade=function(){var c=this,b;c.$slides.each(function(d,f){b=c.slideWidth*d*-1;a(f).css({position:"relative",left:b,top:0,zIndex:800,opacity:0})});c.$slides.eq(c.currentSlide).css({zIndex:900,opacity:1})};d.prototype.setPosition=function(){this.setDimensions();!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):
this.setFade()};d.prototype.setProps=function(){this.positionProp=!0===this.options.vertical?"top":"left";"top"===this.positionProp?this.$slider.addClass("slick-vertical"):this.$slider.removeClass("slick-vertical");void 0===document.body.style.WebkitTransition&&void 0===document.body.style.MozTransition&&void 0===document.body.style.msTransition||!0!==this.options.useCSS||(this.cssTransitions=!0);void 0!==document.body.style.MozTransform&&(this.animType="MozTransform",this.transformType="-moz-transform",
this.transitionType="MozTransition");void 0!==document.body.style.webkitTransform&&(this.animType="webkitTransform",this.transformType="-webkit-transform",this.transitionType="webkitTransition");void 0!==document.body.style.msTransform&&(this.animType="msTransform",this.transformType="-ms-transform",this.transitionType="msTransition");void 0!==document.body.style.transform&&(this.transformType=this.animType="transform",this.transitionType="transition");this.transformsEnabled=null!==this.animType};
d.prototype.setSlideClasses=function(a){var b,d,f;this.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center");d=this.$slider.find(".slick-slide");!0===this.options.centerMode?(b=Math.floor(this.options.slidesToShow/2),!0===this.options.infinite&&(a>=b&&a<=this.slideCount-1-b?this.$slides.slice(a-b,a+b+1).addClass("slick-active"):(f=this.options.slidesToShow+a,d.slice(f-b+1,f+b+2).addClass("slick-active")),0===a?d.eq(d.length-1-this.options.slidesToShow).addClass("slick-center"):
a===this.slideCount-1&&d.eq(this.options.slidesToShow).addClass("slick-center")),this.$slides.eq(a).addClass("slick-center")):0<=a&&a<=this.slideCount-this.options.slidesToShow?this.$slides.slice(a,a+this.options.slidesToShow).addClass("slick-active"):d.length<=this.options.slidesToShow?d.addClass("slick-active"):(b=this.slideCount%this.options.slidesToShow,f=!0===this.options.infinite?this.options.slidesToShow+a:a,this.options.slidesToShow==this.options.slidesToScroll&&this.slideCount-a<this.options.slidesToShow?
d.slice(f-(this.options.slidesToShow-b),f+b).addClass("slick-active"):d.slice(f,f+this.options.slidesToShow).addClass("slick-active"));"ondemand"===this.options.lazyLoad&&this.lazyLoad()};d.prototype.setupInfinite=function(){var c,b,d;if(!0===this.options.fade||!0===this.options.vertical)this.options.centerMode=!1;if(!0===this.options.infinite&&!1===this.options.fade&&(b=null,this.slideCount>this.options.slidesToShow)){d=!0===this.options.centerMode?this.options.slidesToShow+1:this.options.slidesToShow;
for(c=this.slideCount;c>this.slideCount-d;--c)b=c-1,a(this.$slides[b]).clone(!0).attr("id","").prependTo(this.$slideTrack).addClass("slick-cloned");for(c=0;c<d;c+=1)b=c,a(this.$slides[b]).clone(!0).attr("id","").appendTo(this.$slideTrack).addClass("slick-cloned");this.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}};d.prototype.selectHandler=function(c){var b=null!=this.options.asNavFor?a(this.options.asNavFor).getSlick():null;(c=parseInt(a(c.target).parent().attr("index")))||
(c=0);this.slideCount<=this.options.slidesToShow||(this.slideHandler(c),null==b||b.slideCount<=b.options.slidesToShow||b.slideHandler(c))};d.prototype.slideHandler=function(a){var b,d,f,h,k=null,m=this;if(!0===m.animating)return!1;b=a;k=m.getLeft(b);f=m.getLeft(m.currentSlide);h=0!==m.slideCount%m.options.slidesToScroll?m.options.slidesToScroll:0;m.currentLeft=null===m.swipeLeft?f:m.swipeLeft;if(!1===m.options.infinite&&!1===m.options.centerMode&&(0>a||a>m.slideCount-m.options.slidesToShow+h)||!1===
m.options.infinite&&!0===m.options.centerMode&&(0>a||a>m.slideCount-m.options.slidesToScroll))return!1===m.options.fade&&(b=m.currentSlide,m.animateSlide(f,function(){m.postSlide(b)})),!1;!0===m.options.autoplay&&clearInterval(m.autoPlayTimer);d=0>b?0!==m.slideCount%m.options.slidesToScroll?m.slideCount-m.slideCount%m.options.slidesToScroll:m.slideCount-m.options.slidesToScroll:b>m.slideCount-1?0:b;m.animating=!0;null!==m.options.onBeforeChange&&a!==m.currentSlide&&m.options.onBeforeChange.call(this,
m,m.currentSlide,d);m.currentSlide=d;m.setSlideClasses(m.currentSlide);m.updateDots();m.updateArrows();if(!0===m.options.fade)return m.fadeSlide(d,function(){m.postSlide(d)}),!1;m.animateSlide(k,function(){m.postSlide(d)})};d.prototype.startLoad=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.hide(),this.$nextArrow.hide());!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.hide();this.$slider.addClass("slick-loading")};d.prototype.swipeDirection=
function(){var a;a=Math.atan2(this.touchObject.startY-this.touchObject.curY,this.touchObject.startX-this.touchObject.curX);a=Math.round(180*a/Math.PI);0>a&&(a=360-Math.abs(a));return 45>=a&&0<=a||360>=a&&315<=a?"left":135<=a&&225>=a?"right":"vertical"};d.prototype.swipeEnd=function(c){var b=null!=this.options.asNavFor?a(this.options.asNavFor).getSlick():null;this.dragging=!1;if(void 0===this.touchObject.curX)return!1;if(this.touchObject.swipeLength>=this.touchObject.minSwipe)switch(a(c.target).on("click.slick",
function(b){b.stopImmediatePropagation();b.stopPropagation();b.preventDefault();a(b.target).off("click.slick")}),this.swipeDirection()){case "left":this.slideHandler(this.currentSlide+this.options.slidesToScroll);null!=b&&b.slideHandler(b.currentSlide+b.options.slidesToScroll);this.touchObject={};break;case "right":this.slideHandler(this.currentSlide-this.options.slidesToScroll),null!=b&&b.slideHandler(b.currentSlide-b.options.slidesToScroll),this.touchObject={}}else this.touchObject.startX!==this.touchObject.curX&&
(this.slideHandler(this.currentSlide),null!=b&&b.slideHandler(b.currentSlide),this.touchObject={})};d.prototype.swipeHandler=function(a){if(!(!1===this.options.swipe||"ontouchend"in document&&!1===this.options.swipe||!1===this.options.draggable||!1===this.options.draggable&&!a.originalEvent.touches))switch(this.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,this.touchObject.minSwipe=this.listWidth/this.options.touchThreshold,a.data.action){case "start":this.swipeStart(a);
break;case "move":this.swipeMove(a);break;case "end":this.swipeEnd(a)}};d.prototype.swipeMove=function(a){var b,d;d=void 0!==a.originalEvent?a.originalEvent.touches:null;b=this.getLeft(this.currentSlide);if(!this.dragging||d&&1!==d.length)return!1;this.touchObject.curX=void 0!==d?d[0].pageX:a.clientX;this.touchObject.curY=void 0!==d?d[0].pageY:a.clientY;this.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(this.touchObject.curX-this.touchObject.startX,2)));if("vertical"!==this.swipeDirection()){void 0!==
a.originalEvent&&4<this.touchObject.swipeLength&&a.preventDefault();a=this.touchObject.curX>this.touchObject.startX?1:-1;this.swipeLeft=!1===this.options.vertical?b+this.touchObject.swipeLength*a:b+this.touchObject.swipeLength*(this.$list.height()/this.listWidth)*a;if(!0===this.options.fade||!1===this.options.touchMove)return!1;if(!0===this.animating)return this.swipeLeft=null,!1;this.setCSS(this.swipeLeft)}};d.prototype.swipeStart=function(a){var b;if(1!==this.touchObject.fingerCount||this.slideCount<=
this.options.slidesToShow)return this.touchObject={},!1;void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(b=a.originalEvent.touches[0]);this.touchObject.startX=this.touchObject.curX=void 0!==b?b.pageX:a.clientX;this.touchObject.startY=this.touchObject.curY=void 0!==b?b.pageY:a.clientY;this.dragging=!0};d.prototype.unfilterSlides=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())};
d.prototype.unload=function(){a(".slick-cloned",this.$slider).remove();this.$dots&&this.$dots.remove();this.$prevArrow&&(this.$prevArrow.remove(),this.$nextArrow.remove());this.$slides.removeClass("slick-slide slick-active slick-visible").removeAttr("style")};d.prototype.updateArrows=function(){!0===this.options.arrows&&!0!==this.options.infinite&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.removeClass("slick-disabled"),this.$nextArrow.removeClass("slick-disabled"),0===this.currentSlide?
(this.$prevArrow.addClass("slick-disabled"),this.$nextArrow.removeClass("slick-disabled")):this.currentSlide>=this.slideCount-this.options.slidesToShow&&(this.$nextArrow.addClass("slick-disabled"),this.$prevArrow.removeClass("slick-disabled")))};d.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active"),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))};a.fn.slick=function(a){return this.each(function(b,
e){e.slick=new d(e,a)})};a.fn.slickAdd=function(a,b,d){return this.each(function(f,h){h.slick.addSlide(a,b,d)})};a.fn.slickCurrentSlide=function(){return this.get(0).slick.getCurrent()};a.fn.slickFilter=function(a){return this.each(function(b,d){d.slick.filterSlides(a)})};a.fn.slickGoTo=function(c){return this.each(function(b,d){var f=null!=d.slick.options.asNavFor?a(d.slick.options.asNavFor):null;null!=f&&f.slickGoTo(c);d.slick.slideHandler(c)})};a.fn.slickNext=function(){return this.each(function(a,
b){b.slick.changeSlide({data:{message:"next"}})})};a.fn.slickPause=function(){return this.each(function(a,b){b.slick.autoPlayClear();b.slick.paused=!0})};a.fn.slickPlay=function(){return this.each(function(a,b){b.slick.paused=!1;b.slick.autoPlay()})};a.fn.slickPrev=function(){return this.each(function(a,b){b.slick.changeSlide({data:{message:"previous"}})})};a.fn.slickRemove=function(a,b){return this.each(function(d,f){f.slick.removeSlide(a,b)})};a.fn.slickGetOption=function(a){return this.get(0).slick.options[a]};
a.fn.slickSetOption=function(a,b,d){return this.each(function(f,h){h.slick.options[a]=b;!0===d&&(h.slick.unload(),h.slick.reinit())})};a.fn.slickUnfilter=function(){return this.each(function(a,b){b.slick.unfilterSlides()})};a.fn.unslick=function(){return this.each(function(a,b){b.slick&&b.slick.destroy()})};a.fn.getSlick=function(){var a=null;this.each(function(b,d){a=d.slick});return a}});!function(a){function d(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,b=a.ui.mouse.prototype,e=b._mouseInit,f=b._mouseDestroy;b._touchStart=function(a){!c&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,this._touchMoved=
!1,d(a,"mouseover"),d(a,"mousemove"),d(a,"mousedown"))};b._touchMove=function(a){c&&(this._touchMoved=!0,d(a,"mousemove"))};b._touchEnd=function(a){c&&(d(a,"mouseup"),d(a,"mouseout"),this._touchMoved||d(a,"click"),c=!1)};b._mouseInit=function(){this.element.bind({touchstart:a.proxy(this,"_touchStart"),touchmove:a.proxy(this,"_touchMove"),touchend:a.proxy(this,"_touchEnd")});e.call(this)};b._mouseDestroy=function(){this.element.unbind({touchstart:a.proxy(this,"_touchStart"),touchmove:a.proxy(this,
"_touchMove"),touchend:a.proxy(this,"_touchEnd")});f.call(this)}}}(jQuery);!function(a){a.fn.selectOrDie=function(d){var c,b,e={customID:null,customClass:"",placeholder:null,placeholderOption:!1,prefix:null,cycle:!1,stripEmpty:!1,links:!1,linksExternal:!1,size:0,tabIndex:0,onChange:a.noop},f={},h=!1,k={initSoD:function(b){return f=a.extend({},e,b),this.each(function(){if(a(this).parent().hasClass("sod_select"))console.log("Select or Die: It looks like the SoD already exists");else{var b,c,d,e=a(this);c=e.data("custom-id")?e.data("custom-id"):f.customID;var h=e.data("custom-class")?
e.data("custom-class"):f.customClass,l=e.data("prefix")?e.data("prefix"):f.prefix,m=e.data("placeholder")?e.data("placeholder"):f.placeholder,x=e.data("placeholder-option")?e.data("placeholder-option"):f.placeholderOption,q=e.data("cycle")?e.data("cycle"):f.cycle,B=e.data("links")?e.data("links"):f.links,w=e.data("links-external")?e.data("links-external"):f.linksExternal,H=parseInt(e.data("size"))?e.data("size"):f.size,O=parseInt(e.data("tabindex"))?e.data("tabindex"):f.tabIndex?f.tabIndex:e.attr("tabindex")?
e.attr("tabindex"):f.tabIndex,D=e.data("strip-empty")?e.data("strip-empty"):f.stripEmpty,G=e.prop("title")?e.prop("title"):null,M=e.is(":disabled")?" disabled":"",C="",E=0;l&&(C='<span class="sod_prefix">'+l+"</span> ");b=a("<span/>",{id:c,"class":"sod_select "+h+M,title:G,tabindex:O,html:""+(m&&!l?'<span class="sod_label sod_placeholder">'+m+"</span>":'<span class="sod_label">'+C+"</span>"),"data-cycle":q,"data-links":B,"data-links-external":w,"data-placeholder":m,"data-placeholder-option":x,"data-prefix":l,
"data-filter":""}).insertAfter(this);k.isTouch()&&b.addClass("touch");c=a("<span/>",{"class":"sod_list_wrapper"}).appendTo(b);d=a("<span/>",{"class":"sod_list"}).appendTo(c);a("option, optgroup",e).each(function(c){var e=a(this);D&&!a.trim(e.text())?e.remove():0===c&&x&&!C?k.populateSoD(e,d,b,!0):k.populateSoD(e,d,b,!1)});H&&(c.show(),a(".sod_option:lt("+H+")",d).each(function(){E+=a(this).outerHeight()}),c.removeAttr("style"),d.css({"max-height":E}));e.appendTo(b);b.on("focusin",k.focusSod).on("click",
k.triggerSod).on("click",".sod_option",k.optionClick).on("mousemove",".sod_option",k.optionHover).on("keydown",k.keyboardUse);e.on("change",k.selectChange);a(document).on("click","label[for='"+e.attr("id")+"']",function(a){a.preventDefault();b.focus()})}})},populateSoD:function(b,c,d,e){var f=d.data("placeholder"),h=d.data("placeholder-option"),k=d.data("prefix"),m=d.find(".sod_label"),x=b.parent(),q=b.text(),B=b.val(),w=b.data("custom-id")?b.data("custom-id"):null,H=b.data("custom-class")?b.data("custom-class"):
"",O=b.is(":disabled")?" disabled ":"",D=b.is(":selected")?" selected active ":"",G=b.data("link")?" link ":"",M=b.data("link-external")?" linkexternal":"",C=b.prop("label");b.is("option")?(a("<span/>",{"class":"sod_option "+H+O+D+G+M,id:w,title:q,html:q,"data-value":B}).appendTo(c),e&&!k?(d.data("label",q),d.data("placeholder",q),b.prop("disabled",!0),c.find(".sod_option:last").addClass("is-placeholder disabled"),D&&m.addClass("sod_placeholder")):D&&f&&!h&&!k?d.data("label",f):D&&d.data("label",
q),(D&&!f||D&&h||D&&k)&&m.append(q),x.is("optgroup")&&(c.find(".sod_option:last").addClass("groupchild"),x.is(":disabled")&&c.find(".sod_option:last").addClass("disabled"))):a("<span/>",{"class":"sod_option optgroup "+O,title:C,html:C,"data-label":C}).appendTo(c)},focusSod:function(){var b=a(this);b.hasClass("disabled")?k.blurSod(b):(k.blurSod(a(".sod_select.focus").not(b)),b.addClass("focus"),a("html").on("click.sodBlur",function(){k.blurSod(b)}))},triggerSod:function(c){c.stopPropagation();c=a(this);
var d=c.find(".sod_list"),e=c.data("placeholder"),f=c.find(".active"),h=c.find(".selected");c.hasClass("disabled")||c.hasClass("open")||c.hasClass("touch")?(clearTimeout(b),c.removeClass("open"),e&&(c.find(".sod_label").get(0).lastChild.nodeValue=f.text())):(c.addClass("open"),e&&!c.data("prefix")&&c.find(".sod_label").addClass("sod_placeholder").html(e),k.listScroll(d,h),k.checkViewport(c,d))},keyboardUse:function(b){var d,e,f,m=a(this),r=m.find(".sod_list"),t=m.find(".sod_option"),z=m.find(".sod_label"),
x=m.data("cycle"),q=t.filter(".active");return 36<b.which&&41>b.which?(37===b.which||38===b.which?(e=q.prevAll(":not('.disabled, .optgroup')").first(),f=t.not(".disabled, .optgroup").last()):(39===b.which||40===b.which)&&(e=q.nextAll(":not('.disabled, .optgroup')").first(),f=t.not(".disabled, .optgroup").first()),!e.hasClass("sod_option")&&x&&(e=f),(e.hasClass("sod_option")||x)&&(q.removeClass("active"),e.addClass("active"),z.get(0).lastChild.nodeValue=e.text(),k.listScroll(r,e),m.hasClass("open")||
(h=!0)),!1):(13===b.which||32===b.which&&m.hasClass("open")&&(" "===m.data("filter")[0]||""===m.data("filter"))?(b.preventDefault(),q.click()):32!==b.which||m.hasClass("open")||" "!==m.data("filter")[0]&&""!==m.data("filter")?27===b.which&&k.blurSod(m):(b.preventDefault(),h=!1,m.click()),0!==b.which&&(clearTimeout(c),m.data("filter",m.data("filter")+String.fromCharCode(b.which)),d=t.filter(function(){return 0===a(this).text().toLowerCase().indexOf(m.data("filter").toLowerCase())}).not(".disabled, .optgroup").first(),
d.length&&(q.removeClass("active"),d.addClass("active"),k.listScroll(r,d),z.get(0).lastChild.nodeValue=d.text(),m.hasClass("open")||(h=!0)),c=setTimeout(function(){m.data("filter","")},500)),void 0)},optionHover:function(){var b=a(this);b.hasClass("disabled")||b.hasClass("optgroup")||b.siblings().removeClass("active").end().addClass("active")},optionClick:function(c){c.stopPropagation();c=a(this);var d=c.closest(".sod_select"),e=c.hasClass("disabled"),f=c.hasClass("optgroup"),h=d.find(".sod_option:not('.optgroup')").index(this);
d.hasClass("touch")||(e||f||(d.find(".selected, .sod_placeholder").removeClass("selected sod_placeholder"),c.addClass("selected"),d.find("select option")[h].selected=!0,d.find("select").change()),clearTimeout(b),d.removeClass("open"))},selectChange:function(){var b=a(this),c=b.find(":selected"),d=c.text(),b=b.closest(".sod_select");b.find(".sod_label").get(0).lastChild.nodeValue=d;b.data("label",d);f.onChange.call(this);!b.data("links")&&!c.data("link")||c.data("link-external")?(b.data("links-external")||
c.data("link-external"))&&window.open(c.val(),"_blank"):window.location.href=c.val()},blurSod:function(c){if(a("body").find(c).length){var d=c.data("label"),e=c.data("placeholder"),f=c.find(".active"),k=c.find(".selected"),m=!1;clearTimeout(b);h&&!f.hasClass("selected")?(f.click(),m=!0):f.hasClass("selected")||(f.removeClass("active"),k.addClass("active"));!m&&e?c.find(".sod_label").get(0).lastChild.nodeValue=k.text():m||(c.find(".sod_label").get(0).lastChild.nodeValue=d);h=!1;c.removeClass("open focus");
c.blur();a("html").off(".sodBlur")}},checkViewport:function(c,d){var e=c[0].getBoundingClientRect(),f=d.outerHeight();e.bottom+f+10>a(window).height()&&10<e.top-f?c.addClass("above"):c.removeClass("above");b=setTimeout(function(){k.checkViewport(c,d)},200)},listScroll:function(a,b){var c=a[0].getBoundingClientRect(),d=b[0].getBoundingClientRect();c.top>d.top?a.scrollTop(a.scrollTop()-c.top+d.top):c.bottom<d.bottom&&a.scrollTop(a.scrollTop()-c.bottom+d.bottom)},isTouch:function(){return"ontouchstart"in
window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}},m={destroy:function(){return this.each(function(){var b=a(this),c=b.parent();c.hasClass("sod_select")?(b.off("change"),c.find("span").remove(),b.unwrap()):console.log("Select or Die: There's no SoD to destroy")})},update:function(){return this.each(function(){var b=a(this),c=b.parent(),d=c.find(".sod_list:first");c.hasClass("sod_select")?(d.empty(),c.find(".sod_label").get(0).lastChild.nodeValue="",b.is(":disabled")&&c.addClass("disabled"),
a("option, optgroup",b).each(function(){k.populateSoD(a(this),d,c)})):console.log("Select or Die: There's no SoD to update")})},disable:function(b){return this.each(function(){var c=a(this),d=c.parent();d.hasClass("sod_select")?"undefined"!=typeof b?(d.find(".sod_list:first .sod_option[data-value='"+b+"']").addClass("disabled"),d.find(".sod_list:first .sod_option[data-label='"+b+"']").nextUntil(":not(.groupchild)").addClass("disabled"),a("option[value='"+b+"'], optgroup[label='"+b+"']",this).prop("disabled",
!0)):d.hasClass("sod_select")&&(d.addClass("disabled"),c.prop("disabled",!0)):console.log("Select or Die: There's no SoD to disable")})},enable:function(b){return this.each(function(){var c=a(this),d=c.parent();d.hasClass("sod_select")?"undefined"!=typeof b?(d.find(".sod_list:first .sod_option[data-value='"+b+"']").removeClass("disabled"),d.find(".sod_list:first .sod_option[data-label='"+b+"']").nextUntil(":not(.groupchild)").removeClass("disabled"),a("option[value='"+b+"'], optgroup[label='"+b+"']",
this).prop("disabled",!1)):d.hasClass("sod_select")&&(d.removeClass("disabled"),c.prop("disabled",!1)):console.log("Select or Die: There's no SoD to enable")})}};return m[d]?m[d].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof d&&d?(a.error('Select or Die: Oh no! No such method "'+d+'" for the SoD instance'),void 0):k.initSoD.apply(this,arguments)}}(jQuery);(function(a,d,c){d.infinitescroll=function(a,b,c){this.element=d(c);this._create(a,b)||(this.failed=!0)};d.infinitescroll.defaults={loading:{finished:c,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",
msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:c},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:c,binder:d(a),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:c,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:c,path:c,
prefill:!1,maxPage:c};d.infinitescroll.prototype={_binding:function(a){var b=this,d=b.options;d.v="2.0b2.120520";if(d.behavior&&this["_binding_"+d.behavior]!==c)this["_binding_"+d.behavior].call(this);else{if("bind"!==a&&"unbind"!==a)return this._debug("Binding value  "+a+" not valid"),!1;if("unbind"===a)this.options.binder.unbind("smartscroll.infscr."+b.options.infid);else this.options.binder[a]("smartscroll.infscr."+b.options.infid,function(){b.scroll()});this._debug("Binding",a)}},_create:function(b,
e){var k=d.extend(!0,{},d.infinitescroll.defaults,b);this.options=k;var m=d(a);if(!this._validate(b))return!1;var l=d(k.nextSelector).attr("href");if(!l)return this._debug("Navigation selector not found"),!1;k.path=k.path||this._determinepath(l);k.contentSelector=k.contentSelector||this.element;k.loading.selector=k.loading.selector||k.contentSelector;k.loading.msg=k.loading.msg||d('<div id="infscr-loading"><img alt="Loading..." src="'+k.loading.img+'" /><div>'+k.loading.msgText+"</div></div>");(new Image).src=
k.loading.img;k.pixelsFromNavToBottom===c&&(k.pixelsFromNavToBottom=d(document).height()-d(k.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+k.pixelsFromNavToBottom));var n=this;k.loading.start=k.loading.start||function(){d(k.navSelector).hide();k.loading.msg.appendTo(k.loading.selector).show(k.loading.speed,d.proxy(function(){this.beginAjax(k)},n))};k.loading.finished=k.loading.finished||function(){k.state.isBeyondMaxPage||k.loading.msg.fadeOut(k.loading.speed)};k.callback=function(a,
b,f){k.behavior&&a["_callback_"+k.behavior]!==c&&a["_callback_"+k.behavior].call(d(k.contentSelector)[0],b,f);e&&e.call(d(k.contentSelector)[0],b,k,f);k.prefill&&m.bind("resize.infinite-scroll",a._prefill)};b.debug&&(!Function.prototype.bind||"object"!==typeof console&&"function"!==typeof console||"object"!==typeof console.log||"log info warn error assert dir clear profile profileEnd".split(" ").forEach(function(a){console[a]=this.call(console[a],console)},Function.prototype.bind));this._setup();
k.prefill&&this._prefill();return!0},_prefill:function(){var b=this,c=d(a);this._prefill=function(){b.options.contentSelector.height()<=c.height()&&b.scroll();c.bind("resize.infinite-scroll",function(){b.options.contentSelector.height()<=c.height()&&(c.unbind("resize.infinite-scroll"),b.scroll())})};this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!==typeof console&&"function"===typeof console.log?1===Array.prototype.slice.call(arguments).length&&"string"===typeof Array.prototype.slice.call(arguments)[0]?
console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):Function.prototype.bind||"undefined"===typeof console||"object"!==typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(a){var b=this.options;if(b.behavior&&this["_determinepath_"+b.behavior]!==c)return this["_determinepath_"+b.behavior].call(this,a);if(b.pathParse)return this._debug("pathParse manual"),b.pathParse(a,
this.options.state.currPage+1);if(a.match(/^(.*?)\b2\b(.*?$)/))a=a.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(a.match(/^(.*?)2(.*?$)/)){if(a.match(/^(.*?page=)2(\/.*|$)/))return a=a.match(/^(.*?page=)2(\/.*|$)/).slice(1);a=a.match(/^(.*?)2(.*?$)/).slice(1)}else{if(a.match(/^(.*?page=)1(\/.*|$)/))return a=a.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");
b.state.isInvalidPage=!0}this._debug("determinePath",a);return a},_error:function(a){var b=this.options;b.behavior&&this["_error_"+b.behavior]!==c?this["_error_"+b.behavior].call(this,a):("destroy"!==a&&"end"!==a&&(a="unknown"),this._debug("Error",a),("end"===a||b.state.isBeyondMaxPage)&&this._showdonemsg(),b.state.isDone=!0,b.state.currPage=1,b.state.isPaused=!1,b.state.isBeyondMaxPage=!1,this._binding("unbind"))},_loadcallback:function(b,e,k){var m=this.options,l=this.options.callback,n=m.state.isDone?
"done":m.appendCallback?"append":"no-append";if(m.behavior&&this["_loadcallback_"+m.behavior]!==c)this["_loadcallback_"+m.behavior].call(this,b,e);else{switch(n){case "done":return this._showdonemsg(),!1;case "no-append":"html"===m.dataType&&(e=d("<div>"+e+"</div>").find(m.itemSelector));break;case "append":n=b.children();if(0===n.length)return this._error("end");for(e=document.createDocumentFragment();b[0].firstChild;)e.appendChild(b[0].firstChild);this._debug("contentSelector",d(m.contentSelector)[0]);
d(m.contentSelector)[0].appendChild(e);e=n.get()}m.loading.finished.call(d(m.contentSelector)[0],m);m.animate&&(b=d(a).scrollTop()+d(m.loading.msg).height()+m.extraScrollPx+"px",d("html,body").animate({scrollTop:b},800,function(){m.state.isDuringAjax=!1}));m.animate||(m.state.isDuringAjax=!1);l(this,e,k);m.prefill&&this._prefill()}},_nearbottom:function(){var b=this.options,e=0+d(document).height()-b.binder.scrollTop()-d(a).height();if(b.behavior&&this["_nearbottom_"+b.behavior]!==c)return this["_nearbottom_"+
b.behavior].call(this);this._debug("math:",e,b.pixelsFromNavToBottom);return e-b.bufferPx<b.pixelsFromNavToBottom},_pausing:function(a){var b=this.options;if(b.behavior&&this["_pausing_"+b.behavior]!==c)this["_pausing_"+b.behavior].call(this,a);else{"pause"!==a&&"resume"!==a&&null!==a&&this._debug("Invalid argument. Toggling pause value instead");switch(!a||"pause"!==a&&"resume"!==a?"toggle":a){case "pause":b.state.isPaused=!0;break;case "resume":b.state.isPaused=!1;break;case "toggle":b.state.isPaused=
!b.state.isPaused}this._debug("Paused",b.state.isPaused);return!1}},_setup:function(){var a=this.options;if(a.behavior&&this["_setup_"+a.behavior]!==c)this["_setup_"+a.behavior].call(this);else return this._binding("bind"),!1},_showdonemsg:function(){var a=this.options;a.behavior&&this["_showdonemsg_"+a.behavior]!==c?this["_showdonemsg_"+a.behavior].call(this):(a.loading.msg.find("img").hide().parent().find("div").html(a.loading.finishedMsg).animate({opacity:1},2E3,function(){d(this).parent().fadeOut(a.loading.speed)}),
a.errorCallback.call(d(a.contentSelector)[0],"done"))},_validate:function(a){for(var b in a)if(b.indexOf&&-1<b.indexOf("Selector")&&0===d(a[b]).length)return this._debug("Your "+b+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=!0;this.options.loading.finished();return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(a){var b=this,e=a.path,m,l,
n;a.state.currPage++;if(a.maxPage!=c&&a.state.currPage>a.maxPage)a.state.isBeyondMaxPage=!0,this.destroy();else switch(m=d(a.contentSelector).is("table, tbody")?d("<tbody/>"):d("<div/>"),l="function"===typeof e?e(a.state.currPage):e.join(a.state.currPage),b._debug("heading into ajax",l),e="html"===a.dataType||"json"===a.dataType?a.dataType:"html+callback",a.appendCallback&&"html"===a.dataType&&(e+="+callback"),e){case "html+callback":b._debug("Using HTML via .load() method");m.load(l+" "+a.itemSelector,
c,function(a){b._loadcallback(m,a,l)});break;case "html":b._debug("Using "+e.toUpperCase()+" via $.ajax() method");d.ajax({url:l,dataType:a.dataType,complete:function(a,c){(n="undefined"!==typeof a.isResolved?a.isResolved():"success"===c||"notmodified"===c)?b._loadcallback(m,a.responseText,l):b._error("end")}});break;case "json":b._debug("Using "+e.toUpperCase()+" via $.ajax() method"),d.ajax({dataType:"json",type:"GET",url:l,success:function(d,e,k){n="undefined"!==typeof k.isResolved?k.isResolved():
"success"===e||"notmodified"===e;a.appendCallback?a.template!==c?(d=a.template(d),m.append(d),n?b._loadcallback(m,d):b._error("end")):(b._debug("template must be defined."),b._error("end")):n?b._loadcallback(m,d,l):b._error("end")},error:function(){b._debug("JSON ajax request failed.");b._error("end")}})}},retrieve:function(a){a=a||null;var b=this.options;if(b.behavior&&this["retrieve_"+b.behavior]!==c)this["retrieve_"+b.behavior].call(this,a);else{if(b.state.isDestroyed)return this._debug("Instance is destroyed"),
!1;b.state.isDuringAjax=!0;b.loading.start.call(d(b.contentSelector)[0],b)}},scroll:function(){var a=this.options,b=a.state;a.behavior&&this["scroll_"+a.behavior]!==c?this["scroll_"+a.behavior].call(this):b.isDuringAjax||b.isInvalidPage||b.isDone||b.isDestroyed||b.isPaused||this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(a){d.isPlainObject(a)&&(this.options=d.extend(!0,this.options,a))}};d.fn.infinitescroll=function(a,
b){switch(typeof a){case "string":var c=Array.prototype.slice.call(arguments,1);this.each(function(){var b=d.data(this,"infinitescroll");if(!b||!d.isFunction(b[a])||"_"===a.charAt(0))return!1;b[a].apply(b,c)});break;case "object":this.each(function(){var c=d.data(this,"infinitescroll");c?c.update(a):(c=new d.infinitescroll(a,b,this),c.failed||d.data(this,"infinitescroll",c))})}return this};var b=d.event,e;b.special.smartscroll={setup:function(){d(this).bind("scroll",b.special.smartscroll.handler)},
teardown:function(){d(this).unbind("scroll",b.special.smartscroll.handler)},handler:function(a,b){var c=this,m=arguments;a.type="smartscroll";e&&clearTimeout(e);e=setTimeout(function(){d(c).trigger("smartscroll",m)},"execAsap"===b?0:100)}};d.fn.smartscroll=function(a){return a?this.bind("smartscroll",a):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);!function(a){a.extend(!0,a.ui.slider.prototype,{pips:function(d){function c(b){var c,d,e,f=[];d=0;if(r&&r.length){c=l.element.slider("values");d=a.map(c,function(a){return Math.abs(a-b)});e=Math.min.apply(Math,d);for(c=0;c<d.length;c++)d[c]===e&&f.push(c);d=f[0];for(c=0;c<f.length;c++)l._lastChangedValue===f[c]&&(d=f[c])}return d}function b(b){if(!l.option("disabled")){b=a(b).data("value");var d=c(b);r&&r.length?l.element.slider("values",d,b):l.element.slider("value",b);l._lastChangedValue=d}}function e(b){var c,
d;c=b;var e="ui-slider-pip",g="";"first"===b?c=0:"last"===b&&(c=t);var h=p+l.options.step*c,k=h.toString().replace(".","-");if(c="array"===a.type(x.labels)?x.labels[c]||"":"object"===a.type(x.labels)?"first"===b?x.labels.first||"":"last"===b?x.labels.last||"":"array"===a.type(x.labels.rest)?x.labels.rest[c-1]||"":h:h,"first"===b?(d="0%",e+=" ui-slider-pip-first",e+="label"===x.first?" ui-slider-pip-label":"",e+=!1===x.first?" ui-slider-pip-hide":""):"last"===b?(d="100%",e+=" ui-slider-pip-last",e+=
"label"===x.last?" ui-slider-pip-label":"",e+=!1===x.last?" ui-slider-pip-hide":""):(d=(100/t*b).toFixed(4)+"%",e+="label"===x.rest?" ui-slider-pip-label":"",e+=!1===x.rest?" ui-slider-pip-hide":""),e+=" ui-slider-pip-"+k,r&&r.length){for(f=0;f<r.length;f++)h===r[f]&&(e+=" ui-slider-pip-initial-"+(f+1),e+=" ui-slider-pip-selected-"+(f+1));l.options.range&&h>r[0]&&h<r[1]&&(e+=" ui-slider-pip-inrange")}else h===u&&(e+=" ui-slider-pip-initial",e+=" ui-slider-pip-selected");return g="horizontal"===l.options.orientation?
"left: "+d:"bottom: "+d,'<span class="'+e+'" style="'+g+'"><span class="ui-slider-line"></span><span class="ui-slider-label" data-value="'+h+'">'+x.formatLabel(c)+"</span></span>"}var f,h,k,m,l=this;h="";var n=a._data(l.element.get(0),"events").mousedown,p=l._valueMin(),g=l._valueMax(),u=l._value(),r=l._values(),t=(g-p)/l.options.step,z=l.element.find(".ui-slider-handle"),x={first:"label",last:"label",rest:"pip",labels:!1,prefix:"",suffix:"",step:100<t?Math.floor(.05*t):1,formatLabel:function(a){return this.prefix+
a+this.suffix}};a.extend(x,d);l.options.pipStep=x.step;l.element.addClass("ui-slider-pips").find(".ui-slider-pip").remove();var q={single:function(a){this.resetClasses();m.filter(".ui-slider-pip-"+this.classLabel(a)).addClass("ui-slider-pip-selected")},range:function(b){this.resetClasses();for(f=0;f<b.length;f++)m.filter(".ui-slider-pip-"+this.classLabel(b[f])).addClass("ui-slider-pip-selected-"+(f+1));l.options.range&&m.each(function(c,d){var e=a(d).children(".ui-slider-label").data("value");e>b[0]&&
e<b[1]&&a(d).addClass("ui-slider-pip-inrange")})},classLabel:function(a){return a.toString().replace(".","-")},resetClasses:function(){var a=/(^|\s*)(ui-slider-pip-selected|ui-slider-pip-inrange)(-{1,2}\d+|\s|$)/gi;m.removeClass(function(b,c){return(c.match(a)||[]).join(" ")})}};l.options.pipStep=Math.round(l.options.pipStep);h+=e("first");for(d=1;t>d;d++)0===d%l.options.pipStep&&(h+=e(d));h+=e("last");l.element.append(h);m=l.element.find(".ui-slider-pip");for(h=0;h<n.length;h++)"slider"===n[h].namespace&&
(k=n[h].handler);l.element.off("mousedown.slider").on("mousedown.selectPip",function(d){var e=a(d.target),f=c(e.data("value")),g=z.eq(f);g.addClass("ui-state-active");e.is(".ui-slider-label")?(b(e),l.element.one("mouseup.selectPip",function(){g.removeClass("ui-state-active").focus()})):k(d)});l.element.on("slide.selectPip slidechange.selectPip",function(b,c){var d=a(this),e=d.slider("value"),d=d.slider("values");c&&(e=c.value,d=c.values);d&&d.length?q.range(d):q.single(e)})},"float":function(d){function c(c){var d=
[],l=a.map(c,function(a){return Math.ceil((a-f)/e.options.step)});if("array"===a.type(p.labels))for(b=0;b<c.length;b++)d[b]=p.labels[l[b]]||c[b];else if("object"===a.type(p.labels))for(b=0;b<c.length;b++)d[b]=c[b]===f?p.labels.first||f:c[b]===h?p.labels.last||h:"array"===a.type(p.labels.rest)?p.labels.rest[l[b]-1]||c[b]:c[b];else for(b=0;b<c.length;b++)d[b]=c[b];return d}var b,e=this,f=e._valueMin(),h=e._valueMax(),k=e._value(),m=e._values(),l=[],n=e.element.find(".ui-slider-handle"),p={handle:!0,
pips:!1,labels:!1,prefix:"",suffix:"",event:"slidechange slide",formatLabel:function(a){return this.prefix+a+this.suffix}};if(a.extend(p,d),f>k&&(k=f),k>h&&(k=h),m&&m.length)for(b=0;b<m.length;b++)m[b]<f&&(m[b]=f),m[b]>h&&(m[b]=h);if(e.element.addClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove(),p.handle)for(l=c(m&&m.length?m:[k]),b=0;b<l.length;b++)n.eq(b).append(a('<span class="ui-slider-tip">'+p.formatLabel(l[b])+"</span>"));p.pips&&e.element.find(".ui-slider-label").each(function(b,
d){var e,f=a(d);e=[f.data("value")];e=p.formatLabel(c(e)[0]);a('<span class="ui-slider-tip-label">'+e+"</span>").insertAfter(f)});"slide"!==p.event&&"slidechange"!==p.event&&"slide slidechange"!==p.event&&"slidechange slide"!==p.event&&(p.event="slidechange slide");e.element.on(p.event,function(b,d){var e="array"===a.type(d.value)?d.value:[d.value],e=p.formatLabel(c(e)[0]);a(d.handle).find(".ui-slider-tip").html(e)})}})}(jQuery);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a,d){function c(b,c){this.element=a(b);this.wrapperElement=a();this.toggleElement=a();this.init(c)}var b=["show","innerToggle"],e={show:"infer",innerToggle:!1,enable:function(){var a=document.body,b=document.createElement("input"),c=!0;a||(a=document.createElement("body"));b=a.appendChild(b);try{b.setAttribute("type","text")}catch(d){c=!1}a.removeChild(b);return c}(),
className:"hideShowPassword-field",initEvent:"hideShowPasswordInit",changeEvent:"passwordVisibilityChange",props:{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},toggle:{element:'<button type="button">',className:"hideShowPassword-toggle",touchSupport:"undefined"===typeof Modernizr?!1:Modernizr.touch,attachToEvent:"click.hideShowPassword",attachToTouchEvent:"touchstart.hideShowPassword mousedown.hideShowPassword",attachToKeyEvent:"keyup",attachToKeyCodes:!0,styles:{position:"absolute"},
touchStyles:{pointerEvents:"none"},position:"infer",verticalAlign:"middle",offset:0,attr:{role:"button","aria-label":"Show Password",tabIndex:0}},wrapper:{element:"<div>",className:"hideShowPassword-wrapper",enforceWidth:!0,styles:{position:"relative"},inheritStyles:"display verticalAlign marginTop marginRight marginBottom marginLeft".split(" "),innerElementStyles:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}},states:{shown:{className:"hideShowPassword-shown",changeEvent:"passwordShown",
props:{type:"text"},toggle:{className:"hideShowPassword-toggle-hide",content:"Hide",attr:{"aria-pressed":"true"}}},hidden:{className:"hideShowPassword-hidden",changeEvent:"passwordHidden",props:{type:"password"},toggle:{className:"hideShowPassword-toggle-show",content:"Show",attr:{"aria-pressed":"false"}}}}};c.prototype={init:function(b){this.update(b,e)&&(this.element.addClass(this.options.className),this.options.innerToggle&&(this.wrapElement(this.options.wrapper),this.initToggle(this.options.toggle),
"string"===typeof this.options.innerToggle&&(this.toggleElement.hide(),this.element.one(this.options.innerToggle,a.proxy(function(){this.toggleElement.show()},this)))),this.element.trigger(this.options.initEvent,[this]))},update:function(a,b){this.options=this.prepareOptions(a,b);this.updateElement()&&this.element.trigger(this.options.changeEvent,[this]).trigger(this.state().changeEvent,[this]);return this.options.enable},toggle:function(a){return this.update({show:a||"toggle"})},prepareOptions:function(b,
c){var d=[],e;c=c||this.options;b=a.extend(!0,{},c,b);if(b.enable&&("toggle"===b.show?b.show=this.isType("hidden",b.states):"infer"===b.show&&(b.show=this.isType("shown",b.states)),"infer"===b.toggle.position&&(b.toggle.position="rtl"===this.element.css("text-direction")?"left":"right"),!a.isArray(b.toggle.attachToKeyCodes))){if(!0===b.toggle.attachToKeyCodes)switch(e=a(b.toggle.element),e.prop("tagName").toLowerCase()){case "button":case "input":break;case "a":if(e.filter("[href]").length){d.push(32);
break}default:d.push(32,13)}b.toggle.attachToKeyCodes=d}return b},updateElement:function(){if(!this.options.enable||this.isType())return!1;this.element.prop(a.extend({},this.options.props,this.state().props)).addClass(this.state().className).removeClass(this.otherState().className);this.updateToggle();return!0},isType:function(a,b){b=b||this.options.states;a=a||this.state(d,d,b).props.type;b[a]&&(a=b[a].props.type);return this.element.prop("type")===a},state:function(a,b,c){c=c||this.options.states;
a===d&&(a=this.options.show);"boolean"===typeof a&&(a=a?"shown":"hidden");b&&(a="shown"===a?"hidden":"shown");return c[a]},otherState:function(a){return this.state(a,!0)},wrapElement:function(b){var c=b.enforceWidth,d;this.wrapperElement.length||(d=this.element.outerWidth(),a.each(b.inheritStyles,a.proxy(function(a,c){b.styles[c]=this.element.css(c)},this)),this.element.css(b.innerElementStyles).wrap(a(b.element).addClass(b.className).css(b.styles)),this.wrapperElement=this.element.parent(),!0===
c&&(c=this.wrapperElement.outerWidth()===d?!1:d),!1!==c&&this.wrapperElement.css("width",c));return this.wrapperElement},initToggle:function(b){if(!this.toggleElement.length){this.toggleElement=a(b.element).attr(b.attr).addClass(b.className).css(b.styles).appendTo(this.wrapperElement);this.updateToggle();this.positionToggle(b.position,b.verticalAlign,b.offset);if(b.touchSupport)this.toggleElement.css(b.touchStyles),this.element.on(b.attachToTouchEvent,a.proxy(this.toggleTouchEvent,this));else this.toggleElement.on(b.attachToEvent,
a.proxy(this.toggleEvent,this));if(b.attachToKeyCodes.length)this.toggleElement.on(b.attachToKeyEvent,a.proxy(this.toggleKeyEvent,this))}return this.toggleElement},positionToggle:function(a,b,c){var d={};d[a]=c;switch(b){case "top":case "bottom":d[b]=c;break;case "middle":d.top="50%",d.marginTop=this.toggleElement.outerHeight()/-2}return this.toggleElement.css(d)},updateToggle:function(a,b){var c,d;this.toggleElement.length&&(c="padding-"+this.options.toggle.position,a=a||this.state().toggle,b=b||
this.otherState().toggle,this.toggleElement.attr(a.attr).addClass(a.className).removeClass(b.className).html(a.content),d=this.toggleElement.outerWidth()+2*this.options.toggle.offset,this.element.css(c)!==d&&this.element.css(c,d));return this.toggleElement},toggleEvent:function(a){a.preventDefault();this.toggle()},toggleKeyEvent:function(b){a.each(this.options.toggle.attachToKeyCodes,a.proxy(function(a,c){if(b.which===c)return this.toggleEvent(b),!1},this))},toggleTouchEvent:function(a){var b=this.toggleElement.offset().left,
c,d;b&&(c=a.pageX||a.originalEvent.pageX,"left"===this.options.toggle.position?(b+=this.toggleElement.outerWidth(),d=c):(d=b,b=c),b>=d&&this.toggleEvent(a))}};a.fn.hideShowPassword=function(){var d={};a.each(arguments,function(c,e){var m={};if("object"===typeof e)m=e;else if(b[c])m[b[c]]=e;else return!1;a.extend(!0,d,m)});return this.each(function(){var b=a(this),e=b.data("plugin_hideShowPassword");e?e.update(d):b.data("plugin_hideShowPassword",new c(this,d))})};a.each({show:!0,hide:!1,toggle:"toggle"},
function(b,c){a.fn[b+"Password"]=function(a,b){return this.hideShowPassword(c,a,b)}})});!function(a){a.flexslider=function(d,c){var b=a(d);b.vars=a.extend({},a.flexslider.defaults,c);var e=b.vars.namespace,f=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,h=("ontouchstart"in window||f||window.DocumentTouch&&document instanceof DocumentTouch)&&b.vars.touch,k="",m,l="vertical"===b.vars.direction,n=b.vars.reverse,p=0<b.vars.itemWidth,g="fade"===b.vars.animation,u=""!==b.vars.asNavFor,r={};a.data(d,"flexslider",b);r={init:function(){b.animating=!1;b.currentSlide=parseInt(b.vars.startAt?
b.vars.startAt:0,10);isNaN(b.currentSlide)&&(b.currentSlide=0);b.animatingTo=b.currentSlide;b.atEnd=0===b.currentSlide||b.currentSlide===b.last;b.containerSelector=b.vars.selector.substr(0,b.vars.selector.search(" "));b.slides=a(b.vars.selector,b);b.container=a(b.containerSelector,b);b.count=b.slides.length;b.syncExists=0<a(b.vars.sync).length;"slide"===b.vars.animation&&(b.vars.animation="swing");b.prop=l?"top":"marginLeft";b.args={};b.manualPause=!1;b.stopped=!1;b.started=!1;b.startTimeout=null;
b.transitions=!b.vars.video&&!g&&b.vars.useCSS&&function(){var a=document.createElement("div"),c=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],d;for(d in c)if(void 0!==a.style[c[d]])return b.pfx=c[d].replace("Perspective","").toLowerCase(),b.prop="-"+b.pfx+"-transform",!0;return!1}();b.ensureAnimationEnd="";""!==b.vars.controlsContainer&&(b.controlsContainer=0<a(b.vars.controlsContainer).length&&a(b.vars.controlsContainer));""!==b.vars.manualControls&&
(b.manualControls=0<a(b.vars.manualControls).length&&a(b.vars.manualControls));""!==b.vars.customDirectionNav&&(b.customDirectionNav=2===a(b.vars.customDirectionNav).length&&a(b.vars.customDirectionNav));b.vars.randomize&&(b.slides.sort(function(){return Math.round(Math.random())-.5}),b.container.empty().append(b.slides));b.doMath();b.setup("init");b.vars.controlNav&&r.controlNav.setup();b.vars.directionNav&&r.directionNav.setup();b.vars.keyboard&&(1===a(b.containerSelector).length||b.vars.multipleKeyboard)&&
a(document).bind("keyup",function(a){a=a.keyCode;b.animating||39!==a&&37!==a||(a=39===a?b.getTarget("next"):37===a?b.getTarget("prev"):!1,b.flexAnimate(a,b.vars.pauseOnAction))});b.vars.mousewheel&&b.bind("mousewheel",function(a,c,d,e){a.preventDefault();a=b.getTarget(0>c?"next":"prev");b.flexAnimate(a,b.vars.pauseOnAction)});b.vars.pausePlay&&r.pausePlay.setup();b.vars.slideshow&&b.vars.pauseInvisible&&r.pauseInvisible.init();b.vars.slideshow&&(b.vars.pauseOnHover&&b.hover(function(){b.manualPlay||
b.manualPause||b.pause()},function(){b.manualPause||b.manualPlay||b.stopped||b.play()}),b.vars.pauseInvisible&&r.pauseInvisible.isHidden()||(0<b.vars.initDelay?b.startTimeout=setTimeout(b.play,b.vars.initDelay):b.play()));u&&r.asNav.setup();h&&b.vars.touch&&r.touch();(!g||g&&b.vars.smoothHeight)&&a(window).bind("resize orientationchange focus",r.resize);b.find("img").attr("draggable","false");setTimeout(function(){b.vars.start(b)},200)},asNav:{setup:function(){b.asNav=!0;b.animatingTo=Math.floor(b.currentSlide/
b.move);b.currentItem=b.currentSlide;b.slides.removeClass(e+"active-slide").eq(b.currentItem).addClass(e+"active-slide");f?(d._slider=b,b.slides.each(function(){this._gesture=new MSGesture;this._gesture.target=this;this.addEventListener("MSPointerDown",function(a){a.preventDefault();a.currentTarget._gesture&&a.currentTarget._gesture.addPointer(a.pointerId)},!1);this.addEventListener("MSGestureTap",function(c){c.preventDefault();c=a(this);var d=c.index();a(b.vars.asNavFor).data("flexslider").animating||
c.hasClass("active")||(b.direction=b.currentItem<d?"next":"prev",b.flexAnimate(d,b.vars.pauseOnAction,!1,!0,!0))})})):b.slides.on("click touchend MSPointerUp keyup",function(c){c.preventDefault();c=a(this);var d=c.index();0>=c.offset().left-a(b).scrollLeft()&&c.hasClass(e+"active-slide")?b.flexAnimate(b.getTarget("prev"),!0):a(b.vars.asNavFor).data("flexslider").animating||c.hasClass(e+"active-slide")||(b.direction=b.currentItem<d?"next":"prev",b.flexAnimate(d,b.vars.pauseOnAction,!1,!0,!0))})}},
controlNav:{setup:function(){b.manualControls?r.controlNav.setupManual():r.controlNav.setupPaging()},setupPaging:function(){var c=1,d,f;if(b.controlNavScaffold=a('<ol class="'+e+"control-nav "+e+("thumbnails"===b.vars.controlNav?"control-thumbs":"control-paging")+'"></ol>'),1<b.pagingCount)for(var g=0;g<b.pagingCount;g++){if(f=b.slides.eq(g),d="thumbnails"===b.vars.controlNav?'<img src="'+f.attr("data-thumb")+'"/>':"<a>"+c+"</a>","thumbnails"===b.vars.controlNav&&!0===b.vars.thumbCaptions){var h=
f.attr("data-thumbcaption");""!==h&&void 0!==h&&(d+='<span class="'+e+'caption">'+h+"</span>")}b.controlNavScaffold.append("<li>"+d+"</li>");c++}b.controlsContainer?a(b.controlsContainer).append(b.controlNavScaffold):b.append(b.controlNavScaffold);r.controlNav.set();r.controlNav.active();b.controlNavScaffold.delegate("a, img","click touchend MSPointerUp keyup",function(c){if(c.preventDefault(),""===k||k===c.type){var d=a(this),f=b.controlNav.index(d);d.hasClass(e+"active")||(b.direction=f>b.currentSlide?
"next":"prev",b.flexAnimate(f,b.vars.pauseOnAction))}""===k&&(k=c.type);r.setToClearWatchedEvent()})},setupManual:function(){b.controlNav=b.manualControls;r.controlNav.active();b.controlNav.bind("click touchend MSPointerUp keyup",function(c){if(c.preventDefault(),""===k||k===c.type){var d=a(this),f=b.controlNav.index(d);d.hasClass(e+"active")||(b.direction=f>b.currentSlide?"next":"prev",b.flexAnimate(f,b.vars.pauseOnAction))}""===k&&(k=c.type);r.setToClearWatchedEvent()})},set:function(){b.controlNav=
a("."+e+"control-nav li "+("thumbnails"===b.vars.controlNav?"img":"a"),b.controlsContainer?b.controlsContainer:b)},active:function(){b.controlNav.removeClass(e+"active").eq(b.animatingTo).addClass(e+"active")},update:function(c,d){1<b.pagingCount&&"add"===c?b.controlNavScaffold.append(a("<li><a>"+b.count+"</a></li>")):1===b.pagingCount?b.controlNavScaffold.find("li").remove():b.controlNav.eq(d).closest("li").remove();r.controlNav.set();1<b.pagingCount&&b.pagingCount!==b.controlNav.length?b.update(d,
c):r.controlNav.active()}},directionNav:{setup:function(){var c=a('<ul class="'+e+'direction-nav"><li class="'+e+'nav-prev"><a class="'+e+'prev" href="#">'+b.vars.prevText+'</a></li><li class="'+e+'nav-next"><a class="'+e+'next" href="#">'+b.vars.nextText+"</a></li></ul>");b.customDirectionNav?b.directionNav=b.customDirectionNav:b.controlsContainer?(a(b.controlsContainer).append(c),b.directionNav=a("."+e+"direction-nav li a",b.controlsContainer)):(b.append(c),b.directionNav=a("."+e+"direction-nav li a",
b));r.directionNav.update();b.directionNav.bind("click touchend MSPointerUp keyup",function(c){c.preventDefault();var d;""!==k&&k!==c.type||(d=b.getTarget(a(this).hasClass(e+"next")?"next":"prev"),b.flexAnimate(d,b.vars.pauseOnAction));""===k&&(k=c.type);r.setToClearWatchedEvent()})},update:function(){var a=e+"disabled";1===b.pagingCount?b.directionNav.addClass(a).attr("tabindex","-1"):b.vars.animationLoop?b.directionNav.removeClass(a).removeAttr("tabindex"):0===b.animatingTo?b.directionNav.removeClass(a).filter("."+
e+"prev").addClass(a).attr("tabindex","-1"):b.animatingTo===b.last?b.directionNav.removeClass(a).filter("."+e+"next").addClass(a).attr("tabindex","-1"):b.directionNav.removeClass(a).removeAttr("tabindex")}},pausePlay:{setup:function(){var c=a('<div class="'+e+'pauseplay"><a></a></div>');b.controlsContainer?(b.controlsContainer.append(c),b.pausePlay=a("."+e+"pauseplay a",b.controlsContainer)):(b.append(c),b.pausePlay=a("."+e+"pauseplay a",b));r.pausePlay.update(b.vars.slideshow?e+"pause":e+"play");
b.pausePlay.bind("click touchend MSPointerUp keyup",function(c){c.preventDefault();(""===k||k===c.type)&&(a(this).hasClass(e+"pause")?(b.manualPause=!0,b.manualPlay=!1,b.pause()):(b.manualPause=!1,b.manualPlay=!0,b.play()));""===k&&(k=c.type);r.setToClearWatchedEvent()})},update:function(a){"play"===a?b.pausePlay.removeClass(e+"pause").addClass(e+"play").html(b.vars.playText):b.pausePlay.removeClass(e+"play").addClass(e+"pause").html(b.vars.pauseText)}},touch:function(){function a(c){c.stopPropagation();
b.animating?c.preventDefault():(b.pause(),d._gesture.addPointer(c.pointerId),U=0,u=l?b.h:b.w,D=Number(new Date),m=p&&n&&b.animatingTo===b.last?0:p&&n?b.limit-(b.itemW+b.vars.itemMargin)*b.move*b.animatingTo:p&&b.currentSlide===b.last?b.limit:p?(b.itemW+b.vars.itemMargin)*b.move*b.currentSlide:n?(b.last-b.currentSlide+b.cloneOffset)*u:(b.currentSlide+b.cloneOffset)*u)}function c(a){a.stopPropagation();var b=a.target._slider;if(b){var e=-a.translationX,f=-a.translationY;return U+=l?f:e,r=U,E=l?Math.abs(U)<
Math.abs(-e):Math.abs(U)<Math.abs(-f),a.detail===a.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){d._gesture.stop()}):void((!E||500<Number(new Date)-D)&&(a.preventDefault(),!g&&b.transitions&&(b.vars.animationLoop||(r=U/(0===b.currentSlide&&0>U||b.currentSlide===b.last&&0<U?Math.abs(U)/u+2:1)),b.setProps(m+r,"setTouch"))))}}function e(a){a.stopPropagation();if(a=a.target._slider){if(a.animatingTo===a.currentSlide&&!E&&null!==r){var b=n?-r:r,c=a.getTarget(0<b?"next":"prev");a.canAdvance(c)&&(550>
Number(new Date)-D&&50<Math.abs(b)||Math.abs(b)>u/2)?a.flexAnimate(c,a.vars.pauseOnAction):g||a.flexAnimate(a.currentSlide,a.vars.pauseOnAction,!0)}m=r=k=h=null;U=0}}var h,k,m,u,r,D,G,M,C,E=!1,K=0,N=0,U=0;f?(d.style.msTouchAction="none",d._gesture=new MSGesture,d._gesture.target=d,d.addEventListener("MSPointerDown",a,!1),d._slider=b,d.addEventListener("MSGestureChange",c,!1),d.addEventListener("MSGestureEnd",e,!1)):(G=function(a){b.animating?a.preventDefault():(window.navigator.msPointerEnabled||
1===a.touches.length)&&(b.pause(),u=l?b.h:b.w,D=Number(new Date),K=a.touches[0].pageX,N=a.touches[0].pageY,m=p&&n&&b.animatingTo===b.last?0:p&&n?b.limit-(b.itemW+b.vars.itemMargin)*b.move*b.animatingTo:p&&b.currentSlide===b.last?b.limit:p?(b.itemW+b.vars.itemMargin)*b.move*b.currentSlide:n?(b.last-b.currentSlide+b.cloneOffset)*u:(b.currentSlide+b.cloneOffset)*u,h=l?N:K,k=l?K:N,d.addEventListener("touchmove",M,!1),d.addEventListener("touchend",C,!1))},M=function(a){K=a.touches[0].pageX;N=a.touches[0].pageY;
r=l?h-N:h-K;E=l?Math.abs(r)<Math.abs(K-k):Math.abs(r)<Math.abs(N-k);(!E||500<Number(new Date)-D)&&(a.preventDefault(),!g&&b.transitions&&(b.vars.animationLoop||(r/=0===b.currentSlide&&0>r||b.currentSlide===b.last&&0<r?Math.abs(r)/u+2:1),b.setProps(m+r,"setTouch")))},C=function(a){if(d.removeEventListener("touchmove",M,!1),b.animatingTo===b.currentSlide&&!E&&null!==r){a=n?-r:r;var c=b.getTarget(0<a?"next":"prev");b.canAdvance(c)&&(550>Number(new Date)-D&&50<Math.abs(a)||Math.abs(a)>u/2)?b.flexAnimate(c,
b.vars.pauseOnAction):g||b.flexAnimate(b.currentSlide,b.vars.pauseOnAction,!0)}d.removeEventListener("touchend",C,!1);m=r=k=h=null},d.addEventListener("touchstart",G,!1))},resize:function(){!b.animating&&b.is(":visible")&&(p||b.doMath(),g?r.smoothHeight():p?(b.slides.width(b.computedW),b.update(b.pagingCount),b.setProps()):l?(b.viewport.height(b.h),b.setProps(b.h,"setTotal")):(b.vars.smoothHeight&&r.smoothHeight(),b.newSlides.width(b.computedW),b.setProps(b.computedW,"setTotal")))},smoothHeight:function(a){if(!l||
g){var c=g?b:b.viewport;a?c.animate({height:b.slides.eq(b.animatingTo).height()},a):c.height(b.slides.eq(b.animatingTo).height())}},sync:function(c){var d=a(b.vars.sync).data("flexslider"),e=b.animatingTo;switch(c){case "animate":d.flexAnimate(e,b.vars.pauseOnAction,!1,!0);break;case "play":d.playing||d.asNav||d.play();break;case "pause":d.pause()}},uniqueID:function(b){return b.filter("[id]").add(b.find("[id]")).each(function(){var b=a(this);b.attr("id",b.attr("id")+"_clone")}),b},pauseInvisible:{visProp:null,
init:function(){var a=r.pauseInvisible.getHiddenProp();a&&(a=a.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(a,function(){r.pauseInvisible.isHidden()?b.startTimeout?clearTimeout(b.startTimeout):b.pause():b.started?b.play():0<b.vars.initDelay?setTimeout(b.play,b.vars.initDelay):b.play()}))},isHidden:function(){var a=r.pauseInvisible.getHiddenProp();return a?document[a]:!1},getHiddenProp:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=
0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(m);m=setTimeout(function(){k=""},3E3)}};b.flexAnimate=function(c,d,f,k,m){if(b.vars.animationLoop||c===b.currentSlide||(b.direction=c>b.currentSlide?"next":"prev"),u&&1===b.pagingCount&&(b.direction=b.currentItem<c?"next":"prev"),!b.animating&&(b.canAdvance(c,m)||f)&&b.is(":visible")){if(u&&k){f=a(b.vars.asNavFor).data("flexslider");if(b.atEnd=0===c||c===b.count-1,f.flexAnimate(c,
!0,!1,!0,m),b.direction=b.currentItem<c?"next":"prev",f.direction=b.direction,Math.ceil((c+1)/b.visible)-1===b.currentSlide||0===c)return b.currentItem=c,b.slides.removeClass(e+"active-slide").eq(c).addClass(e+"active-slide"),!1;b.currentItem=c;b.slides.removeClass(e+"active-slide").eq(c).addClass(e+"active-slide");c=Math.floor(c/b.visible)}if(b.animating=!0,b.animatingTo=c,d&&b.pause(),b.vars.before(b),b.syncExists&&!m&&r.sync("animate"),b.vars.controlNav&&r.controlNav.active(),p||b.slides.removeClass(e+
"active-slide").eq(c).addClass(e+"active-slide"),b.atEnd=0===c||c===b.last,b.vars.directionNav&&r.directionNav.update(),c===b.last&&(b.vars.end(b),b.vars.animationLoop||b.pause()),g)h?(b.slides.eq(b.currentSlide).css({opacity:0,zIndex:1}),b.slides.eq(c).css({opacity:1,zIndex:2}),b.wrapup(w)):(b.slides.eq(b.currentSlide).css({zIndex:1}).animate({opacity:0},b.vars.animationSpeed,b.vars.easing),b.slides.eq(c).css({zIndex:2}).animate({opacity:1},b.vars.animationSpeed,b.vars.easing,b.wrapup));else{var w=
l?b.slides.filter(":first").height():b.computedW,H,O,D;p?(H=b.vars.itemMargin,D=(b.itemW+H)*b.move*b.animatingTo,O=D>b.limit&&1!==b.visible?b.limit:D):O=0===b.currentSlide&&c===b.count-1&&b.vars.animationLoop&&"next"!==b.direction?n?(b.count+b.cloneOffset)*w:0:b.currentSlide===b.last&&0===c&&b.vars.animationLoop&&"prev"!==b.direction?n?0:(b.count+1)*w:n?(b.count-1-c+b.cloneOffset)*w:(c+b.cloneOffset)*w;b.setProps(O,"",b.vars.animationSpeed);b.transitions?(b.vars.animationLoop&&b.atEnd||(b.animating=
!1,b.currentSlide=b.animatingTo),b.container.unbind("webkitTransitionEnd transitionend"),b.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(b.ensureAnimationEnd);b.wrapup(w)}),clearTimeout(b.ensureAnimationEnd),b.ensureAnimationEnd=setTimeout(function(){b.wrapup(w)},b.vars.animationSpeed+100)):b.container.animate(b.args,b.vars.animationSpeed,b.vars.easing,function(){b.wrapup(w)})}b.vars.smoothHeight&&r.smoothHeight(b.vars.animationSpeed)}};b.wrapup=function(a){g||p||(0===
b.currentSlide&&b.animatingTo===b.last&&b.vars.animationLoop?b.setProps(a,"jumpEnd"):b.currentSlide===b.last&&0===b.animatingTo&&b.vars.animationLoop&&b.setProps(a,"jumpStart"));b.animating=!1;b.currentSlide=b.animatingTo;b.vars.after(b)};b.animateSlides=function(){!b.animating&&b.flexAnimate(b.getTarget("next"))};b.pause=function(){clearInterval(b.animatedSlides);b.animatedSlides=null;b.playing=!1;b.vars.pausePlay&&r.pausePlay.update("play");b.syncExists&&r.sync("pause")};b.play=function(){b.playing&&
clearInterval(b.animatedSlides);b.animatedSlides=b.animatedSlides||setInterval(b.animateSlides,b.vars.slideshowSpeed);b.started=b.playing=!0;b.vars.pausePlay&&r.pausePlay.update("pause");b.syncExists&&r.sync("play")};b.stop=function(){b.pause();b.stopped=!0};b.canAdvance=function(a,c){var d=u?b.pagingCount-1:b.last;return c?!0:u&&b.currentItem===b.count-1&&0===a&&"prev"===b.direction?!0:u&&0===b.currentItem&&a===b.pagingCount-1&&"next"!==b.direction?!1:a!==b.currentSlide||u?b.vars.animationLoop?!0:
b.atEnd&&0===b.currentSlide&&a===d&&"next"!==b.direction?!1:b.atEnd&&b.currentSlide===d&&0===a&&"next"===b.direction?!1:!0:!1};b.getTarget=function(a){return b.direction=a,"next"===a?b.currentSlide===b.last?0:b.currentSlide+1:0===b.currentSlide?b.last:b.currentSlide-1};b.setProps=function(a,c,d){var e=function(){var d=a?a:(b.itemW+b.vars.itemMargin)*b.move*b.animatingTo;return-1*function(){if(p)return"setTouch"===c?a:n&&b.animatingTo===b.last?0:n?b.limit-(b.itemW+b.vars.itemMargin)*b.move*b.animatingTo:
b.animatingTo===b.last?b.limit:d;switch(c){case "setTotal":return n?(b.count-1-b.currentSlide+b.cloneOffset)*a:(b.currentSlide+b.cloneOffset)*a;case "setTouch":return a;case "jumpEnd":return n?a:b.count*a;case "jumpStart":return n?b.count*a:a;default:return a}}()+"px"}();b.transitions&&(e=l?"translate3d(0,"+e+",0)":"translate3d("+e+",0,0)",d=void 0!==d?d/1E3+"s":"0s",b.container.css("-"+b.pfx+"-transition-duration",d),b.container.css("transition-duration",d));b.args[b.prop]=e;(b.transitions||void 0===
d)&&b.container.css(b.args);b.container.css("transform",e)};b.setup=function(c){if(g)b.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===c&&(h?b.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+b.vars.animationSpeed/1E3+"s ease",zIndex:1}).eq(b.currentSlide).css({opacity:1,zIndex:2}):0==b.vars.fadeFirstSlide?b.slides.css({opacity:0,display:"block",zIndex:1}).eq(b.currentSlide).css({zIndex:2}).css({opacity:1}):b.slides.css({opacity:0,display:"block",
zIndex:1}).eq(b.currentSlide).css({zIndex:2}).animate({opacity:1},b.vars.animationSpeed,b.vars.easing)),b.vars.smoothHeight&&r.smoothHeight();else{var d,f;"init"===c&&(b.viewport=a('<div class="'+e+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(b).append(b.container),b.cloneCount=0,b.cloneOffset=0,n&&(f=a.makeArray(b.slides).reverse(),b.slides=a(f),b.container.empty().append(b.slides)));b.vars.animationLoop&&!p&&(b.cloneCount=2,b.cloneOffset=1,"init"!==c&&b.container.find(".clone").remove(),
b.container.append(r.uniqueID(b.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(r.uniqueID(b.slides.last().clone().addClass("clone")).attr("aria-hidden","true")));b.newSlides=a(b.vars.selector,b);d=n?b.count-1-b.currentSlide+b.cloneOffset:b.currentSlide+b.cloneOffset;l&&!p?(b.container.height(200*(b.count+b.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){b.newSlides.css({display:"block"});b.doMath();b.viewport.height(b.h);b.setProps(d*
b.h,"init")},"init"===c?100:0)):(b.container.width(200*(b.count+b.cloneCount)+"%"),b.setProps(d*b.computedW,"init"),setTimeout(function(){b.doMath();b.newSlides.css({width:b.computedW,"float":"left",display:"block"});b.vars.smoothHeight&&r.smoothHeight()},"init"===c?100:0))}p||b.slides.removeClass(e+"active-slide").eq(b.currentSlide).addClass(e+"active-slide");b.vars.init(b)};b.doMath=function(){var a=b.slides.first(),c=b.vars.itemMargin,d=b.vars.minItems,e=b.vars.maxItems;b.w=void 0===b.viewport?
b.width():b.viewport.width();b.h=a.height();b.boxPadding=a.outerWidth()-a.width();p?(b.itemT=b.vars.itemWidth+c,b.minW=d?d*b.itemT:b.w,b.maxW=e?e*b.itemT-c:b.w,b.itemW=b.minW>b.w?(b.w-c*(d-1))/d:b.maxW<b.w?(b.w-c*(e-1))/e:b.vars.itemWidth>b.w?b.w:b.vars.itemWidth,b.visible=Math.floor(b.w/b.itemW),b.move=0<b.vars.move&&b.vars.move<b.visible?b.vars.move:b.visible,b.pagingCount=Math.ceil((b.count-b.visible)/b.move+1),b.last=b.pagingCount-1,b.limit=1===b.pagingCount?0:b.vars.itemWidth>b.w?b.itemW*(b.count-
1)+c*(b.count-1):(b.itemW+c)*b.count-b.w-c):(b.itemW=b.w,b.pagingCount=b.count,b.last=b.count-1);b.computedW=b.itemW-b.boxPadding};b.update=function(a,c){b.doMath();p||(a<b.currentSlide?b.currentSlide+=1:a<=b.currentSlide&&0!==a&&--b.currentSlide,b.animatingTo=b.currentSlide);b.vars.controlNav&&!b.manualControls&&("add"===c&&!p||b.pagingCount>b.controlNav.length?r.controlNav.update("add"):("remove"===c&&!p||b.pagingCount<b.controlNav.length)&&(p&&b.currentSlide>b.last&&(--b.currentSlide,--b.animatingTo),
r.controlNav.update("remove",b.last)));b.vars.directionNav&&r.directionNav.update()};b.addSlide=function(c,d){var e=a(c);b.count+=1;b.last=b.count-1;l&&n?void 0!==d?b.slides.eq(b.count-d).after(e):b.container.prepend(e):void 0!==d?b.slides.eq(d).before(e):b.container.append(e);b.update(d,"add");b.slides=a(b.vars.selector+":not(.clone)",b);b.setup();b.vars.added(b)};b.removeSlide=function(c){var d=isNaN(c)?b.slides.index(a(c)):c;--b.count;b.last=b.count-1;isNaN(c)?a(c,b.slides).remove():l&&n?b.slides.eq(b.last).remove():
b.slides.eq(c).remove();b.doMath();b.update(d,"remove");b.slides=a(b.vars.selector+":not(.clone)",b);b.setup();b.vars.removed(b)};r.init()};a(window).blur(function(a){focused=!1}).focus(function(a){focused=!0});a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,
pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};
a.fn.flexslider=function(d){if(void 0===d&&(d={}),"object"==typeof d)return this.each(function(){var b=a(this),c=b.find(d.selector?d.selector:".slides > li");1===c.length&&!0===d.allowOneSlide||0===c.length?(c.fadeIn(400),d.start&&d.start(b)):void 0===b.data("flexslider")&&new a.flexslider(this,d)});var c=a(this).data("flexslider");switch(d){case "play":c.play();break;case "pause":c.pause();break;case "stop":c.stop();break;case "next":c.flexAnimate(c.getTarget("next"),!0);break;case "prev":case "previous":c.flexAnimate(c.getTarget("prev"),
!0);break;default:"number"==typeof d&&c.flexAnimate(d,!0)}}}(jQuery);!function(a){function d(a){var b=a.length,d=c.type(a);return"function"===d||c.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||0===b||"number"==typeof b&&0<b&&b-1 in a}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return null!=a&&a==a.window};c.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?e[h.call(a)]||"object":typeof a};c.isArray=Array.isArray||function(a){return"array"===c.type(a)};c.isPlainObject=function(a){var b;if(!a||"object"!==
c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(b in a);return void 0===b||f.call(a,b)};c.each=function(a,b,c){var e,f=0,h=a.length,k=d(a);if(c)if(k)for(;h>f&&(e=b.apply(a[f],c),!1!==e);f++);else for(f in a){if(e=b.apply(a[f],c),!1===e)break}else if(k)for(;h>f&&(e=b.call(a[f],f,a[f]),!1!==e);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),!1===e)break;return a};c.data=function(a,
d,e){if(void 0===e){e=(a=a[c.expando])&&b[a];if(void 0===d)return e;if(e&&d in e)return e[d]}else if(void 0!==d)return a=a[c.expando]||(a[c.expando]=++c.uuid),b[a]=b[a]||{},b[a][d]=e,e};c.removeData=function(a,d){var e=a[c.expando],f=e&&b[e];f&&c.each(d,function(a,b){delete f[b]})};c.extend=function(){var a,b,d,e,f,h,k=arguments[0]||{},m=1,x=arguments.length,q=!1;"boolean"==typeof k&&(q=k,k=arguments[m]||{},m++);"object"!=typeof k&&"function"!==c.type(k)&&(k={});for(m===x&&(k=this,m--);x>m;m++)if(null!=
(f=arguments[m]))for(e in f)a=k[e],d=f[e],k!==d&&(q&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,h=a&&c.isArray(a)?a:[]):h=a&&c.isPlainObject(a)?a:{},k[e]=c.extend(q,h,d)):void 0!==d&&(k[e]=d));return k};c.queue=function(a,b,e){function f(a,b){var c=b||[];if(null!=a)if(d(Object(a))){var e;e="string"==typeof a?[a]:a;for(var g=+e.length,h=0,l=c.length;g>h;)c[l++]=e[h++];if(g!==g)for(;void 0!==e[h];)c[l++]=e[h++];e=(c.length=l,c);!e}else[].push.call(c,a);return c}if(a){b=(b||"fx")+"queue";var h=
c.data(a,b);return e?(!h||c.isArray(e)?h=c.data(a,b,f(e)):h.push(e),h):h||[]}};c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();"inprogress"===f&&(f=e.shift());f&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})};c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw Error("Not a DOM node.");},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+
(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var b=this.offsetParent||document;b&&"html"===!b.nodeType.toLowerCase&&"static"===b.style.position;)b=b.offsetParent;return b||document}var b=this[0],a=a.apply(b),d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:c(a).offset();return d.top-=parseFloat(b.style.marginTop)||0,d.left-=parseFloat(b.style.marginLeft)||
0,a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0),{top:d.top-e.top,left:d.left-e.left}}};var b={};c.expando="velocity"+(new Date).getTime();c.uuid=0;for(var e={},f=e.hasOwnProperty,h=e.toString,k="Boolean Number String Function Array Date RegExp Object Error".split(" "),m=0;m<k.length;m++)e["[object "+k[m]+"]"]=k[m].toLowerCase();c.fn.init.prototype=c.fn;a.Velocity={Utilities:c}}}(window);
(function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()})(function(){return function(a,d,c,b){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return r.isWrapped(a)?a=[].slice.call(a):r.isNode(a)&&(a=[a]),a}function h(a){a=t.data(a,"velocity");return null===a?b:a}function k(a){return function(b){return Math.round(b*a)*(1/a)}}function m(a,b,c,e){function f(a,b,c){return(((1-
3*c+3*b)*a+(3*c-6*b))*a+3*b)*a}var g="Float32Array"in d;if(4!==arguments.length)return!1;for(var h=0;4>h;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;a=Math.min(a,1);c=Math.min(c,1);a=Math.max(a,0);c=Math.max(c,0);var l=g?new Float32Array(11):Array(11),k=!1,g=function(d){if(!k&&(k=!0,a!=b||c!=e))for(var g=0;11>g;++g)l[g]=f(.1*g,a,c);if(a!==b||c!==e)if(0===d)d=0;else if(1===d)d=1;else{for(var h=0,g=1;10!=g&&l[g]<=d;++g)h+=.1;--g;var g=h+(d-l[g])/(l[g+
1]-l[g])*.1,n=3*(1-3*c+3*a)*g*g+2*(3*c-6*a)*g+3*a;if(.001<=n){for(h=0;4>h;++h){n=3*(1-3*c+3*a)*g*g+2*(3*c-6*a)*g+3*a;if(0===n)break;var m=f(g,a,c)-d,g=g-m/n}d=g}else if(0==n)d=g;else{var g=h,h=h+.1,p=0;do m=g+(h-g)/2,n=f(m,a,c)-d,0<n?h=m:g=m;while(1E-7<Math.abs(n)&&10>++p);d=m}d=f(d,b,e)}return d};g.getControlPoints=function(){return[{x:a,y:b},{x:c,y:e}]};var n="generateBezier("+[a,b,c,e]+")";return g.toString=function(){return n},g}function l(a,b){var c=a;return r.isString(a)?q.Easings[a]||(c=!1):
c=r.isArray(a)&&1===a.length?k.apply(null,a):r.isArray(a)&&2===a.length?B.apply(null,a.concat([b])):r.isArray(a)&&4===a.length?m.apply(null,a):!1,!1===c&&(c=q.Easings[q.defaults.easing]?q.defaults.easing:x),c}function n(a){if(a){a=(new Date).getTime();var c=q.State.calls.length;1E4<c&&(q.State.calls=e(q.State.calls));for(var d=0;c>d;d++)if(q.State.calls[d]){var f=q.State.calls[d],g=f[0],l=f[2],k=f[3],m=!!k,u=null;k||(k=q.State.calls[d][3]=a-16);for(var z=Math.min((a-k)/l.duration,1),x=0,H=g.length;H>
x;x++){var B=g[x],F=B.element;if(h(F)){var A=!1;l.display!==b&&null!==l.display&&"none"!==l.display&&("flex"===l.display&&t.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,b){w.setPropertyValue(F,"display",b)}),w.setPropertyValue(F,"display",l.display));l.visibility!==b&&"hidden"!==l.visibility&&w.setPropertyValue(F,"visibility",l.visibility);for(var L in B)if("element"!==L){var I=B[L],J,S=r.isString(I.easing)?q.Easings[I.easing]:I.easing;if(1===z)J=I.endValue;else{var P=I.endValue-
I.startValue;if(J=I.startValue+P*S(z,l,P),!m&&J===I.currentValue)continue}if(I.currentValue=J,"tween"===L)u=J;else{if(w.Hooks.registered[L]){var R=w.Hooks.getRoot(L);(S=h(F).rootPropertyValueCache[R])&&(I.rootPropertyValue=S)}I=w.setPropertyValue(F,L,I.currentValue+(0===parseFloat(J)?"":I.unitType),I.rootPropertyValue,I.scrollData);w.Hooks.registered[L]&&(h(F).rootPropertyValueCache[R]=w.Normalizations.registered[R]?w.Normalizations.registered[R]("extract",null,I[1]):I[1]);"transform"===I[0]&&(A=
!0)}}l.mobileHA&&h(F).transformCache.translate3d===b&&(h(F).transformCache.translate3d="(0px, 0px, 0px)",A=!0);A&&w.flushTransformCache(F)}}l.display!==b&&"none"!==l.display&&(q.State.calls[d][2].display=!1);l.visibility!==b&&"hidden"!==l.visibility&&(q.State.calls[d][2].visibility=!1);l.progress&&l.progress.call(f[1],f[1],z,Math.max(0,k+l.duration-a),k,u);1===z&&p(d)}}q.State.isTicking&&O(n)}function p(a,c){if(!q.State.calls[a])return!1;for(var d=q.State.calls[a][0],e=q.State.calls[a][1],f=q.State.calls[a][2],
g=q.State.calls[a][4],l=!1,k=0,n=d.length;n>k;k++){var m=d[k].element;if(c||f.loop||("none"===f.display&&w.setPropertyValue(m,"display",f.display),"hidden"===f.visibility&&w.setPropertyValue(m,"visibility",f.visibility)),!0!==f.loop&&(t.queue(m)[1]===b||!/\.velocityQueueEntryFlag/i.test(t.queue(m)[1]))&&h(m)){h(m).isAnimating=!1;h(m).rootPropertyValueCache={};var p=!1;t.each(w.Lists.transforms3D,function(a,c){var d=/^scale/.test(c)?1:0,e=h(m).transformCache[c];h(m).transformCache[c]!==b&&(new RegExp("^\\("+
d+"[^.]")).test(e)&&(p=!0,delete h(m).transformCache[c])});f.mobileHA&&(p=!0,delete h(m).transformCache.translate3d);p&&w.flushTransformCache(m);w.Values.removeClass(m,"velocity-animating")}if(!c&&f.complete&&!f.loop&&k===n-1)try{f.complete.call(e,e)}catch(u){setTimeout(function(){throw u;},1)}g&&!0!==f.loop&&g(e);h(m)&&!0===f.loop&&!c&&(t.each(h(m).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360);/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&
"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),q(m,"reverse",{loop:!0,delay:f.delay}));!1!==f.queue&&t.dequeue(m,f.queue)}q.State.calls[a]=!1;d=0;for(e=q.State.calls.length;e>d;d++)if(!1!==q.State.calls[d]){l=!0;break}!1===l&&(q.State.isTicking=!1,delete q.State.calls,q.State.calls=[])}var g=function(){if(c.documentMode)return c.documentMode;for(var a=7;4<a;a--){var d=c.createElement("div");if(d.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e",d.getElementsByTagName("span").length)return a}return b}(),
u=function(){var a=0;return d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||function(b){var c=(new Date).getTime(),d;return d=Math.max(0,16-(c-a)),a=c+d,setTimeout(function(){b(c+d)},d)}}(),r={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==
typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==b&&(0===a.length||"object"==typeof a[0]&&0<a[0].nodeType)},isWrapped:function(a){return a&&(a.jquery||d.Zepto&&d.Zepto.zepto.isZ(a))},isSVG:function(a){return d.SVGElement&&a instanceof d.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},t,z=!1;if(a.fn&&a.fn.jquery?(t=a,z=!0):t=d.Velocity.Utilities,8>=g&&!z)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");
if(7>=g)return void(jQuery.fn.velocity=jQuery.fn.animate);var x="swing",q={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:d.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},
Utilities:t,Redirects:{},Easings:{},Promise:d.Promise,defaults:{queue:"",duration:400,easing:x,begin:b,complete:b,progress:b,display:b,visibility:b,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){t.data(a,"velocity",{isSVG:r.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};d.pageYOffset!==b?(q.State.scrollAnchor=d,q.State.scrollPropertyLeft="pageXOffset",q.State.scrollPropertyTop=
"pageYOffset"):(q.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,q.State.scrollPropertyLeft="scrollLeft",q.State.scrollPropertyTop="scrollTop");var B=function(){function a(b,c,d){var e=b.v+d.dv*c;return{dx:e,dv:-b.tension*(b.x+d.dx*c)-b.friction*e}}function b(c,d){var e={dx:c.v,dv:-c.tension*c.x-c.friction*c.v},f=a(c,.5*d,e),g=a(c,.5*d,f),h=a(c,d,g),l=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x+=1/6*(e.dx+2*(f.dx+g.dx)+h.dx)*d,c.v+=l*d,c}return function C(a,c,d){var e={x:-1,v:0,tension:null,
friction:null},f=[0],g=0,h,l,k;a=parseFloat(a)||500;c=parseFloat(c)||20;d=d||null;e.tension=a;e.friction=c;for((h=null!==d)?(g=C(a,c),l=g/d*.016):l=.016;k=b(k||e,l),f.push(1+k.x),g+=16,1E-4<Math.abs(k.x)&&1E-4<Math.abs(k.v););return h?function(a){return f[a*(f.length-1)|0]}:g}}();q.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}};t.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",
[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],
["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){q.Easings[b[0]]=m.apply(null,b[1])});var w=q.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},
Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],
backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<w.Lists.colors.length;a++)w.Hooks.templates[w.Lists.colors[a]]=["Red Green Blue Alpha","color"===w.Lists.colors[a]?"0 0 0 1":"255 255 255 1"];var b,c,d;if(g)for(b in w.Hooks.templates)c=w.Hooks.templates[b],d=c[0].split(" "),c=c[1].match(w.RegEx.valueSplit),"Color"===d[0]&&(d.push(d.shift()),c.push(c.shift()),w.Hooks.templates[b]=[d.join(" "),
c.join(" ")]);for(b in w.Hooks.templates)for(a in c=w.Hooks.templates[b],d=c[0].split(" "),d)w.Hooks.registered[b+d[a]]=[b,a]},getRoot:function(a){var b=w.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return w.RegEx.valueUnwrap.test(b)&&(b=b.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(b)&&(b=w.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=w.Hooks.registered[a];if(c){var d=c[1];return b=w.Hooks.cleanRootPropertyValue(c[0],b),b.toString().match(w.RegEx.valueSplit)[d]}return b},
injectValue:function(a,b,c){if(a=w.Hooks.registered[a]){var d=a[1],e;return c=w.Hooks.cleanRootPropertyValue(a[0],c),e=c.toString().match(w.RegEx.valueSplit),e[d]=b,e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case "name":return"clip";case "extract":var d;return w.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(w.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case "inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case "name":return q.State.isFirefox?
"filter":"-webkit-filter";case "extract":return a=parseFloat(c),a||0===a||(a=(c=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?c[1]:0),a;case "inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(8>=g)switch(a){case "name":return"filter";case "extract":return(a=c.toString().match(/alpha\(opacity=(.*)\)/i))?a[1]/100:1;case "inject":return b.style.zoom=1,1<=parseFloat(c)?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case "name":return"opacity";case "extract":return c;
case "inject":return c}}},register:function(){9>=g||q.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var a=0;a<w.Lists.transformsBase.length;a++)!function(){var c=w.Lists.transformsBase[a];w.Normalizations.registered[c]=function(a,d,e){switch(a){case "name":return"transform";case "extract":return h(d)===b||h(d).transformCache[c]===b?/^scale/i.test(c)?1:0:h(d).transformCache[c].replace(/[()]/g,"");case "inject":a=!1;switch(c.substr(0,c.length-
1)){case "translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case "scal":case "scale":q.State.isAndroid&&h(d).transformCache[c]===b&&1>e&&(e=1);a=!/(\d)$/i.test(e);break;case "skew":a=!/(deg|\d)$/i.test(e);break;case "rotate":a=!/(deg|\d)$/i.test(e)}return a||(h(d).transformCache[c]="("+e+")"),h(d).transformCache[c]}}}();for(a=0;a<w.Lists.colors.length;a++)!function(){var c=w.Lists.colors[a];w.Normalizations.registered[c]=function(a,d,e){switch(a){case "name":return c;case "extract":if(!w.RegEx.wrappedValueAlreadyExtracted.test(e)){var f;
a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?f=a[e]!==b?a[e]:a.black:w.RegEx.isHex.test(e)?f="rgb("+w.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(f=a.black);e=(f||e).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=g||3!==e.split(" ").length||(e+=" 1"),e;case "inject":return 8>=g?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):
3===e.split(" ").length&&(e+=" 1"),(8>=g?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(g||q.State.isAndroid&&!q.State.isChrome)&&(b+="|transform"),(new RegExp("^("+b+")$","i")).test(a)},prefixCheck:function(a){if(q.State.prefixMatches[a])return[q.State.prefixMatches[a],!0];for(var b=["","Webkit",
"Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),r.isString(q.State.prefixElement.style[e]))return q.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b;return a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d}),b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==
a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":
/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":/^(table)$/i.test(a)?"table":/^(tbody)$/i.test(a)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,f){function l(a,c){function e(){n&&w.setPropertyValue(a,"display",
"none")}var k=0;if(8>=g)k=t.css(a,c);else{var n=!1;if(/^(width|height)$/.test(c)&&0===w.getPropertyValue(a,"display")&&(n=!0,w.setPropertyValue(a,"display",w.Values.getDisplayType(a))),!f){if("height"===c&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase())return k=a.offsetHeight-(parseFloat(w.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(a,
"paddingBottom"))||0),e(),k;if("width"===c&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase())return k=a.offsetWidth-(parseFloat(w.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(a,"paddingRight"))||0),e(),k}k=h(a)===b?d.getComputedStyle(a,null):h(a).computedStyle?h(a).computedStyle:h(a).computedStyle=d.getComputedStyle(a,null);"borderColor"===
c&&(c="borderTopColor");k=9===g&&"filter"===c?k.getPropertyValue(c):k[c];""!==k&&null!==k||(k=a.style[c]);e()}if("auto"===k&&/^(top|right|bottom|left)$/i.test(c)){var m=l(a,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(c))&&(k=t(a).position()[c]+"px")}return k}var k;if(w.Hooks.registered[c]){var n=w.Hooks.getRoot(c);e===b&&(e=w.getPropertyValue(a,w.Names.prefixCheck(n)[0]));w.Normalizations.registered[n]&&(e=w.Normalizations.registered[n]("extract",a,e));k=w.Hooks.extractValue(c,e)}else w.Normalizations.registered[c]&&
(e=w.Normalizations.registered[c]("name",a),"transform"!==e&&(n=l(a,w.Names.prefixCheck(e)[0]),w.Values.isCSSNullValue(n)&&w.Hooks.templates[c]&&(n=w.Hooks.templates[c][1])),k=w.Normalizations.registered[c]("extract",a,n));if(!/^[\d-]/.test(k))if(h(a)&&h(a).isSVG&&w.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{k=a.getBBox()[c]}catch(m){k=0}else k=a.getAttribute(c);else k=l(a,w.Names.prefixCheck(c)[0]);return w.Values.isCSSNullValue(k)&&(k=0),2<=q.debug&&console.log("Get "+c+": "+k),k},
setPropertyValue:function(a,b,c,e,f){var l=b;if("scroll"===b)f.container?f.container["scroll"+f.direction]=c:"Left"===f.direction?d.scrollTo(c,f.alternateValue):d.scrollTo(f.alternateValue,c);else if(w.Normalizations.registered[b]&&"transform"===w.Normalizations.registered[b]("name",a))w.Normalizations.registered[b]("inject",a,c),l="transform",c=h(a).transformCache[b];else{w.Hooks.registered[b]&&(f=b,b=w.Hooks.getRoot(b),e=e||w.getPropertyValue(a,b),c=w.Hooks.injectValue(f,c,e));if(w.Normalizations.registered[b]&&
(c=w.Normalizations.registered[b]("inject",a,c),b=w.Normalizations.registered[b]("name",a)),l=w.Names.prefixCheck(b)[0],8>=g)try{a.style[l]=c}catch(k){q.debug&&console.log("Browser does not support ["+c+"] for ["+l+"]")}else h(a)&&h(a).isSVG&&w.Names.SVGAttribute(b)?a.setAttribute(b,c):a.style[l]=c;2<=q.debug&&console.log("Set "+b+" ("+l+"): "+c)}return[l,c]},flushTransformCache:function(a){function b(c){return parseFloat(w.getPropertyValue(a,c))}var c="";if((g||q.State.isAndroid&&!q.State.isChrome)&&
h(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};t.each(h(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate");d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,f;t.each(h(a).transformCache,function(b){return e=h(a).transformCache[b],"transformPerspective"===b?(f=e,
!0):(9===g&&"rotateZ"===b&&(b="rotate"),void(c+=b+e+" "))});f&&(c="perspective"+f+" "+c)}w.setPropertyValue(a,"transform",c)}};w.Hooks.register();w.Normalizations.register();q.hook=function(a,c,d){var e=b;return a=f(a),t.each(a,function(a,f){if(h(f)===b&&q.init(f),d===b)e===b&&(e=q.CSS.getPropertyValue(f,c));else{var g=q.CSS.setPropertyValue(f,c,d);"transform"===g[0]&&q.CSS.flushTransformCache(f);e=g}}),e};var H=function(){function a(){return k?y.promise||null:m}function e(){function a(e){function p(a,
c){var d=b,e=b,h=b;return r.isArray(a)?(d=a[0],!r.isArray(a[1])&&/^[\d-]/.test(a[1])||r.isFunction(a[1])||w.RegEx.isHex.test(a[1])?h=a[1]:(r.isString(a[1])&&!w.RegEx.isHex.test(a[1])||r.isArray(a[1]))&&(e=c?a[1]:l(a[1],g.duration),a[2]!==b&&(h=a[2]))):d=a,c||(e=e||g.easing),r.isFunction(d)&&(d=d.call(f,X,O)),r.isFunction(h)&&(h=h.call(f,X,O)),[d||0,e,h]}function u(a,b){var c,d;return d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=w.Values.getUnitType(a)),
[d,c]}function H(){var a=f.parentNode||c.body,b=w.getPropertyValue(f,"position"),e=w.getPropertyValue(f,"fontSize"),g=b===J.lastPosition&&a===J.lastParent,l=e===J.lastFontSize;J.lastParent=a;J.lastPosition=b;J.lastFontSize=e;var k={};if(l&&g)k.emToPx=J.lastEmToPx,k.percentToPxWidth=J.lastPercentToPxWidth,k.percentToPxHeight=J.lastPercentToPxHeight;else{var n=h(f).isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");q.init(n);a.appendChild(n);t.each(["overflow","overflowX",
"overflowY"],function(a,b){q.CSS.setPropertyValue(n,b,"hidden")});q.CSS.setPropertyValue(n,"position",b);q.CSS.setPropertyValue(n,"fontSize",e);q.CSS.setPropertyValue(n,"boxSizing","content-box");t.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(a,b){q.CSS.setPropertyValue(n,b,"100%")});q.CSS.setPropertyValue(n,"paddingLeft","100em");k.percentToPxWidth=J.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(n,"width",null,!0))||1)/100;k.percentToPxHeight=J.lastPercentToPxHeight=
(parseFloat(w.getPropertyValue(n,"height",null,!0))||1)/100;k.emToPx=J.lastEmToPx=(parseFloat(w.getPropertyValue(n,"paddingLeft"))||1)/100;a.removeChild(n)}return null===J.remToPx&&(J.remToPx=parseFloat(w.getPropertyValue(c.body,"fontSize"))||16),null===J.vwToPx&&(J.vwToPx=parseFloat(d.innerWidth)/100,J.vhToPx=parseFloat(d.innerHeight)/100),k.remToPx=J.remToPx,k.vwToPx=J.vwToPx,k.vhToPx=J.vhToPx,1<=q.debug&&console.log("Unit ratios: "+JSON.stringify(k),f),k}if(g.begin&&0===X)try{g.begin.call(z,z)}catch(D){setTimeout(function(){throw D;
},1)}if("scroll"===Q){var G=/^x$/i.test(g.axis)?"Left":"Top",C=parseFloat(g.offset)||0,A,M,E;g.container?r.isWrapped(g.container)||r.isNode(g.container)?(g.container=g.container[0]||g.container,A=g.container["scroll"+G],E=A+t(f).position()[G.toLowerCase()]+C):g.container=null:(A=q.State.scrollAnchor[q.State["scrollProperty"+G]],M=q.State.scrollAnchor[q.State["scrollProperty"+("Left"===G?"Top":"Left")]],E=t(f).offset()[G.toLowerCase()]+C);k={scroll:{rootPropertyValue:!1,startValue:A,currentValue:A,
endValue:E,unitType:"",easing:g.easing,scrollData:{container:g.container,direction:G,alternateValue:M}},element:f};q.debug&&console.log("tweensContainer (scroll): ",k.scroll,f)}else if("reverse"===Q){if(!h(f).tweensContainer)return void t.dequeue(f,g.queue);"none"===h(f).opts.display&&(h(f).opts.display="auto");"hidden"===h(f).opts.visibility&&(h(f).opts.visibility="visible");h(f).opts.loop=!1;h(f).opts.begin=null;h(f).opts.complete=null;B.easing||delete g.easing;B.duration||delete g.duration;g=t.extend({},
h(f).opts,g);var G=t.extend(!0,{},h(f).tweensContainer),F;for(F in G)"element"!==F&&(C=G[F].startValue,G[F].startValue=G[F].currentValue=G[F].endValue,G[F].endValue=C,r.isEmptyObject(B)||(G[F].easing=g.easing),q.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(G[F]),f));k=G}else if("start"===Q){h(f).tweensContainer&&!0===h(f).isAnimating&&(G=h(f).tweensContainer);t.each(x,function(a,c){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(a)){var d=p(c,!0),e=d[0],f=d[1],g=d[2];if(w.RegEx.isHex.test(e)){for(var d=
["Red","Green","Blue"],e=w.Values.hexToRgb(e),g=g?w.Values.hexToRgb(g):b,h=0;h<d.length;h++){var l=[e[h]];f&&l.push(f);g!==b&&l.push(g[h]);x[a+d[h]]=l}delete x[a]}}});for(C in x)if(E=p(x[C]),A=E[0],M=E[1],E=E[2],C=w.Names.camelCase(C),e=w.Hooks.getRoot(C),F=!1,h(f).isSVG||"tween"===e||!1!==w.Names.prefixCheck(e)[1]||w.Normalizations.registered[e]!==b){(g.display!==b&&null!==g.display&&"none"!==g.display||g.visibility!==b&&"hidden"!==g.visibility)&&/opacity|filter/.test(C)&&!E&&0!==A&&(E=0);g._cacheValues&&
G&&G[C]?(E===b&&(E=G[C].endValue+G[C].unitType),F=h(f).rootPropertyValueCache[e]):w.Hooks.registered[C]?E===b?(F=w.getPropertyValue(f,e),E=w.getPropertyValue(f,C,F)):F=w.Hooks.templates[e][1]:E===b&&(E=w.getPropertyValue(f,C));var K,I,L=!1;if(K=u(C,E),E=K[0],e=K[1],K=u(C,A),A=K[0].replace(/^([+-\/*])=/,function(a,b){return L=b,""}),I=K[1],E=parseFloat(E)||0,A=parseFloat(A)||0,"%"===I&&(/^(fontSize|lineHeight)$/.test(C)?(A/=100,I="em"):/^scale/.test(C)?(A/=100,I=""):/(Red|Green|Blue)$/i.test(C)&&(A=
A/100*255,I="")),/[\/*]/.test(L))I=e;else if(e!==I&&0!==E)if(0===A)I=e;else{m=m||H();var R=/margin|padding|left|right|width|text|word|letter/i.test(C)||/X$/.test(C)||"x"===C?"x":"y";switch(e){case "%":E*="x"===R?m.percentToPxWidth:m.percentToPxHeight;break;case "px":break;default:E*=m[e+"ToPx"]}switch(I){case "%":E*=1/("x"===R?m.percentToPxWidth:m.percentToPxHeight);break;case "px":break;default:E*=1/m[I+"ToPx"]}}switch(L){case "+":A=E+A;break;case "-":A=E-A;break;case "*":A*=E;break;case "/":A=E/
A}k[C]={rootPropertyValue:F,startValue:E,currentValue:E,endValue:A,unitType:I,easing:M};q.debug&&console.log("tweensContainer ("+C+"): "+JSON.stringify(k[C]),f)}else q.debug&&console.log("Skipping ["+e+"] due to a lack of browser support.");k.element=f}k.element&&(w.Values.addClass(f,"velocity-animating"),S.push(k),""===g.queue&&(h(f).tweensContainer=k,h(f).opts=g),h(f).isAnimating=!0,X===O-1?(q.State.calls.push([S,z,g,null,y.resolver]),!1===q.State.isTicking&&(q.State.isTicking=!0,n())):X++)}var f=
this,g=t.extend({},q.defaults,B),k={},m;switch(h(f)===b&&q.init(f),parseFloat(g.delay)&&!1!==g.queue&&t.queue(f,g.queue,function(a){q.velocityQueueEntryFlag=!0;h(f).delayTimer={setTimeout:setTimeout(a,parseFloat(g.delay)),next:a}}),g.duration.toString().toLowerCase()){case "fast":g.duration=200;break;case "normal":g.duration=400;break;case "slow":g.duration=600;break;default:g.duration=parseFloat(g.duration)||1}!1!==q.mock&&(!0===q.mock?g.duration=g.delay=1:(g.duration*=parseFloat(q.mock)||1,g.delay*=
parseFloat(q.mock)||1));g.easing=l(g.easing,g.duration);g.begin&&!r.isFunction(g.begin)&&(g.begin=null);g.progress&&!r.isFunction(g.progress)&&(g.progress=null);g.complete&&!r.isFunction(g.complete)&&(g.complete=null);g.display!==b&&null!==g.display&&(g.display=g.display.toString().toLowerCase(),"auto"===g.display&&(g.display=q.CSS.Values.getDisplayType(f)));g.visibility!==b&&null!==g.visibility&&(g.visibility=g.visibility.toString().toLowerCase());g.mobileHA=g.mobileHA&&q.State.isMobile&&!q.State.isGingerbread;
!1===g.queue?g.delay?setTimeout(a,g.delay):a():t.queue(f,g.queue,function(b,c){return!0===c?(y.promise&&y.resolver(z),!0):(q.velocityQueueEntryFlag=!0,void a(b))});""!==g.queue&&"fx"!==g.queue||"inprogress"===t.queue(f)[0]||t.dequeue(f)}var g=arguments[0]&&(arguments[0].p||t.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||r.isString(arguments[0].properties)),k,m,u,z,x,B;if(r.isWrapped(this)?(k=!1,u=0,z=this,m=this):(k=!0,u=1,z=g?arguments[0].elements||arguments[0].e:arguments[0]),
z=f(z)){g?(x=arguments[0].properties||arguments[0].p,B=arguments[0].options||arguments[0].o):(x=arguments[u],B=arguments[u+1]);var O=z.length,X=0;if(!/^(stop|finish)$/i.test(x)&&!t.isPlainObject(B))for(B={},g=u+1;g<arguments.length;g++)r.isArray(arguments[g])||!/^(fast|normal|slow)$/i.test(arguments[g])&&!/^\d/.test(arguments[g])?r.isString(arguments[g])||r.isArray(arguments[g])?B.easing=arguments[g]:r.isFunction(arguments[g])&&(B.complete=arguments[g]):B.duration=arguments[g];var y={promise:null,
resolver:null,rejecter:null};k&&q.Promise&&(y.promise=new q.Promise(function(a,b){y.resolver=a;y.rejecter=b}));var Q;switch(x){case "scroll":Q="scroll";break;case "reverse":Q="reverse";break;case "finish":case "stop":t.each(z,function(a,b){h(b)&&h(b).delayTimer&&(clearTimeout(h(b).delayTimer.setTimeout),h(b).delayTimer.next&&h(b).delayTimer.next(),delete h(b).delayTimer)});var F=[];return t.each(q.State.calls,function(a,c){c&&t.each(c[1],function(d,e){var f=B===b?"":B;return!0===f||c[2].queue===f||
B===b&&!1===c[2].queue?void t.each(z,function(b,d){d===e&&((!0===B||r.isString(B))&&(t.each(t.queue(d,r.isString(B)?B:""),function(a,b){r.isFunction(b)&&b(null,!0)}),t.queue(d,r.isString(B)?B:"",[])),"stop"===x?(h(d)&&h(d).tweensContainer&&!1!==f&&t.each(h(d).tweensContainer,function(a,b){b.endValue=b.currentValue}),F.push(a)):"finish"===x&&(c[2].duration=1))}):!0})}),"stop"===x&&(t.each(F,function(a,b){p(b,!0)}),y.promise&&y.resolver(z)),a();default:if(!t.isPlainObject(x)||r.isEmptyObject(x)){if(r.isString(x)&&
q.Redirects[x]){var A=t.extend({},B),L=A.duration,I=A.delay||0;return!0===A.backwards&&(z=t.extend(!0,[],z).reverse()),t.each(z,function(a,c){parseFloat(A.stagger)?A.delay=I+parseFloat(A.stagger)*a:r.isFunction(A.stagger)&&(A.delay=I+A.stagger.call(c,a,O));A.drag&&(A.duration=parseFloat(L)||(/^(callout|transition)/.test(x)?1E3:400),A.duration=Math.max(A.duration*(A.backwards?1-a/O:(a+1)/O),.75*A.duration,200));q.Redirects[x].call(c,c,A||{},a,O,z,y.promise?y:b)}),a()}g="Velocity: First argument ("+
x+") was not a property map, a known action, or a registered redirect. Aborting.";return y.promise?y.rejecter(Error(g)):console.log(g),a()}Q="start"}var J={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},S=[];t.each(z,function(a,b){r.isNode(b)&&e.call(b)});A=t.extend({},q.defaults,B);if(A.loop=parseInt(A.loop),g=2*A.loop-1,A.loop)for(u=0;g>u;u++){var P={delay:A.delay,progress:A.progress};
u===g-1&&(P.display=A.display,P.visibility=A.visibility,P.complete=A.complete);H(z,"reverse",P)}return a()}},q=t.extend(H,q);q.animate=H;var O=d.requestAnimationFrame||u;return q.State.isMobile||c.hidden===b||c.addEventListener("visibilitychange",function(){c.hidden?(O=function(a){return setTimeout(function(){a(!0)},16)},n()):O=d.requestAnimationFrame||u}),a.Velocity=q,a!==d&&(a.fn.velocity=H,a.fn.velocity.defaults=q.defaults),t.each(["Down","Up"],function(a,c){q.Redirects["slide"+c]=function(a,d,
e,f,g,h){d=t.extend({},d);var l=d.begin,k=d.complete,n={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},m={};d.display===b&&(d.display="Down"===c?"inline"===q.CSS.Values.getDisplayType(a)?"inline-block":"block":"none");d.begin=function(){l&&l.call(g,g);for(var b in n){m[b]=a.style[b];var d=q.CSS.getPropertyValue(a,b);n[b]="Down"===c?[d,0]:[0,d]}m.overflow=a.style.overflow;a.style.overflow="hidden"};d.complete=function(){for(var b in m)a.style[b]=m[b];k&&k.call(g,g);h&&h.resolver(g)};
q(a,n,d)}}),t.each(["In","Out"],function(a,c){q.Redirects["fade"+c]=function(a,d,e,f,g,h){a=t.extend({},d);d={opacity:"In"===c?1:0};var l=a.complete;a.complete=e!==f-1?a.begin=null:function(){l&&l.call(g,g);h&&h.resolver(g)};a.display===b&&(a.display="In"===c?"auto":"none");q(this,d,a)}}),q}(window.jQuery||window.Zepto||window,window,document)});(function(a,d,c){function b(b,c){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=a(b);this.$elProxy;this.elProxyPosition;this.enabled=!0;this.options=a.extend({},h,c);this.mouseIsOverProxy=!1;this.namespace="tooltipster-"+Math.round(1E5*Math.random());this.Status="hidden";this.timerShow=this.timerHide=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this._init()}
function e(b,c){var d=!0;a.each(b,function(a,e){if("undefined"===typeof c[a]||b[a]!==c[a])return d=!1});return d}function f(){var a=(c.body||c.documentElement).style,b="transition";if("string"==typeof a[b])return!0;v=["Moz","Webkit","Khtml","O","ms"];for(var b=b.charAt(0).toUpperCase()+b.substr(1),d=0;d<v.length;d++)if("string"==typeof a[v[d]+b])return!0;return!1}var h={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,
maxWidth:null,functionInit:function(a,b){},functionBefore:function(a,b){b()},functionReady:function(a,b){},functionAfter:function(a){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(a){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",
touchDevices:!0,trigger:"hover",updateAnimation:!0};b.prototype={_init:function(){var b=this;if(c.querySelector){var d=null;void 0===b.$el.data("tooltipster-initialTitle")&&(d=b.$el.attr("title"),void 0===d&&(d=null),b.$el.data("tooltipster-initialTitle",d));null!==b.options.content?b._content_set(b.options.content):b._content_set(d);d=b.options.functionInit.call(b.$el,b.$el,b.Content);"undefined"!==typeof d&&b._content_set(d);b.$el.removeAttr("title").addClass("tooltipstered");!k&&b.options.iconDesktop||
k&&b.options.iconTouch?("string"===typeof b.options.icon?(b.$elProxy=a('<span class="'+b.options.iconTheme+'"></span>'),b.$elProxy.text(b.options.icon)):b.$elProxy=b.options.iconCloning?b.options.icon.clone(!0):b.options.icon,b.$elProxy.insertAfter(b.$el)):b.$elProxy=b.$el;if("hover"==b.options.trigger){if(b.$elProxy.on("mouseenter."+b.namespace,function(){if(m||!k||b.options.touchDevices)b.mouseIsOverProxy=!0,b._show()}).on("mouseleave."+b.namespace,function(){if(m||!k||b.options.touchDevices)b.mouseIsOverProxy=
!1}),k&&b.options.touchDevices)b.$elProxy.on("touchstart."+b.namespace,function(){b._showNow()})}else if("click"==b.options.trigger)b.$elProxy.on("click."+b.namespace,function(){(m||!k||b.options.touchDevices)&&b._show()})}},_show:function(){var a=this;"shown"!=a.Status&&"appearing"!=a.Status&&(a.options.delay?a.timerShow=setTimeout(function(){("click"==a.options.trigger||"hover"==a.options.trigger&&a.mouseIsOverProxy)&&a._showNow()},a.options.delay):a._showNow())},_showNow:function(b){var c=this;
c.options.functionBefore.call(c.$el,c.$el,function(){if(c.enabled&&null!==c.Content){b&&c.callbacks.show.push(b);c.callbacks.hide=[];clearTimeout(c.timerShow);c.timerShow=null;clearTimeout(c.timerHide);c.timerHide=null;c.options.onlyOne&&a(".tooltipstered").not(c.$el).each(function(b,c){var d=a(c),e=d.data("tooltipster-ns");a.each(e,function(a,b){var c=d.data(b),e=c.status(),f=c.option("autoClose");"hidden"!==e&&"disappearing"!==e&&f&&c.hide()})});var e=function(){c.Status="shown";a.each(c.callbacks.show,
function(a,b){b.call(c.$el)});c.callbacks.show=[]};if("hidden"!==c.Status){var g=0;"disappearing"===c.Status?(c.Status="appearing",f()?(c.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+c.options.animation+"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(e)):c.$tooltip.stop().fadeIn(e)):"shown"===c.Status&&e()}else{c.Status="appearing";g=c.options.speed;c.bodyOverflowX=a("body").css("overflow-x");a("body").css("overflow-x","hidden");var h=
"tooltipster-"+c.options.animation,m="-webkit-transition-duration: "+c.options.speed+"ms; -webkit-animation-duration: "+c.options.speed+"ms; -moz-transition-duration: "+c.options.speed+"ms; -moz-animation-duration: "+c.options.speed+"ms; -o-transition-duration: "+c.options.speed+"ms; -o-animation-duration: "+c.options.speed+"ms; -ms-transition-duration: "+c.options.speed+"ms; -ms-animation-duration: "+c.options.speed+"ms; transition-duration: "+c.options.speed+"ms; animation-duration: "+c.options.speed+
"ms;",t=c.options.minWidth?"min-width:"+Math.round(c.options.minWidth)+"px;":"",z=c.options.maxWidth?"max-width:"+Math.round(c.options.maxWidth)+"px;":"";c.$tooltip=a('<div class="tooltipster-base '+c.options.theme+'" style="'+t+" "+z+" "+(c.options.interactive?"pointer-events: auto;":"")+" "+m+'"><div class="tooltipster-content"></div></div>');f()&&c.$tooltip.addClass(h);c._content_insert();c.$tooltip.appendTo("body");c.reposition();c.options.functionReady.call(c.$el,c.$el,c.$tooltip);f()?(c.$tooltip.addClass(h+
"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(e)):c.$tooltip.css("display","none").fadeIn(c.options.speed,e);c._interval_set();a(d).on("scroll."+c.namespace+" resize."+c.namespace,function(){c.reposition()});if(c.options.autoClose)if(a("body").off("."+c.namespace),"hover"==c.options.trigger){k&&setTimeout(function(){a("body").on("touchstart."+c.namespace,function(){c.hide()})},0);if(c.options.interactive){if(k)c.$tooltip.on("touchstart."+c.namespace,function(a){a.stopPropagation()});
var x=null;c.$elProxy.add(c.$tooltip).on("mouseleave."+c.namespace+"-autoClose",function(){clearTimeout(x);x=setTimeout(function(){c.hide()},c.options.interactiveTolerance)}).on("mouseenter."+c.namespace+"-autoClose",function(){clearTimeout(x)})}else c.$elProxy.on("mouseleave."+c.namespace+"-autoClose",function(){c.hide()});if(c.options.hideOnClick)c.$elProxy.on("click."+c.namespace+"-autoClose",function(){c.hide()})}else if("click"==c.options.trigger&&(setTimeout(function(){a("body").on("click."+
c.namespace+" touchstart."+c.namespace,function(){c.hide()})},0),c.options.interactive))c.$tooltip.on("click."+c.namespace+" touchstart."+c.namespace,function(a){a.stopPropagation()})}0<c.options.timer&&(c.timerHide=setTimeout(function(){c.timerHide=null;c.hide()},c.options.timer+g))}})},_interval_set:function(){var b=this;b.checkInterval=setInterval(function(){if(0===a("body").find(b.$el).length||0===a("body").find(b.$elProxy).length||"hidden"==b.Status||0===a("body").find(b.$tooltip).length)"shown"!=
b.Status&&"appearing"!=b.Status||b.hide(),b._interval_cancel();else if(b.options.positionTracker){var c=b._repositionInfo(b.$elProxy),d=!1;e(c.dimension,b.elProxyPosition.dimension)&&("fixed"===b.$elProxy.css("position")?e(c.position,b.elProxyPosition.position)&&(d=!0):e(c.offset,b.elProxyPosition.offset)&&(d=!0));d||(b.reposition(),b.options.positionTrackerCallback.call(b,b.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval);this.checkInterval=null},_content_set:function(a){"object"===
typeof a&&null!==a&&this.options.contentCloning&&(a=a.clone(!0));this.Content=a},_content_insert:function(){var a=this.$tooltip.find(".tooltipster-content");"string"!==typeof this.Content||this.options.contentAsHTML?a.empty().append(this.Content):a.text(this.Content)},_update:function(a){var b=this;b._content_set(a);null!==b.Content?"hidden"!==b.Status&&(b._content_insert(),b.reposition(),b.options.updateAnimation&&(f()?(b.$tooltip.css({width:"","-webkit-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",
"-moz-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=b.Status&&(b.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==
b.Status&&b.$tooltip.css({"-webkit-transition":b.options.speed+"ms","-moz-transition":b.options.speed+"ms","-o-transition":b.options.speed+"ms","-ms-transition":b.options.speed+"ms",transition:b.options.speed+"ms"})},b.options.speed))},b.options.speed)):b.$tooltip.fadeTo(b.options.speed,.5,function(){"hidden"!=b.Status&&b.$tooltip.fadeTo(b.options.speed,1)}))):b.hide()},_repositionInfo:function(a){return{dimension:{height:a.outerHeight(!1),width:a.outerWidth(!1)},offset:a.offset(),position:{left:parseInt(a.css("left")),
top:parseInt(a.css("top"))}}},hide:function(b){var c=this;b&&c.callbacks.hide.push(b);c.callbacks.show=[];clearTimeout(c.timerShow);c.timerShow=null;clearTimeout(c.timerHide);c.timerHide=null;var e=function(){a.each(c.callbacks.hide,function(a,b){b.call(c.$el)});c.callbacks.hide=[]};"shown"==c.Status||"appearing"==c.Status?(c.Status="disappearing",b=function(){c.Status="hidden";"object"==typeof c.Content&&null!==c.Content&&c.Content.detach();c.$tooltip.remove();c.$tooltip=null;a(d).off("."+c.namespace);
a("body").off("."+c.namespace).css("overflow-x",c.bodyOverflowX);a("body").off("."+c.namespace);c.$elProxy.off("."+c.namespace+"-autoClose");c.options.functionAfter.call(c.$el,c.$el);e()},f()?(c.$tooltip.clearQueue().removeClass("tooltipster-"+c.options.animation+"-show").addClass("tooltipster-dying"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(b)):c.$tooltip.stop().fadeOut(c.options.speed,b)):"hidden"==c.Status&&e();return c},show:function(a){this._showNow(a);return this},
update:function(a){return this.content(a)},content:function(a){if("undefined"===typeof a)return this.Content;this._update(a);return this},reposition:function(){if(0!==a("body").find(this.$tooltip).length){var b=function(b,c){0>h.offset.top-a(d).scrollTop()-m-K-12&&-1<c.indexOf("top")&&(N=b);h.offset.top+h.dimension.height+m+12+K>a(d).scrollTop()+a(d).height()&&-1<c.indexOf("bottom")&&(N=b,E=h.offset.top-m-K-12)},c=function(){var b=a(d).scrollLeft();0>C-b&&(e=C-b,C=b);C+k-b>f&&(e=C-(f+b-k),C=f+b-k)};
this.$tooltip.css("width","");this.elProxyPosition=this._repositionInfo(this.$elProxy);var e=null,f=a(d).width(),h=this.elProxyPosition,k=this.$tooltip.outerWidth(!1);this.$tooltip.innerWidth();var m=this.$tooltip.outerHeight(!1);if(this.$elProxy.is("area")){var z=this.$elProxy.attr("shape"),x=this.$elProxy.parent().attr("name"),q=a('img[usemap="#'+x+'"]'),x=q.offset().left,B=q.offset().top,w=void 0!==this.$elProxy.attr("coords")?this.$elProxy.attr("coords").split(","):void 0;if("circle"==z)z=parseInt(w[0]),
q=parseInt(w[1]),w=parseInt(w[2]),h.dimension.height=2*w,h.dimension.width=2*w,h.offset.top=B+q-w,h.offset.left=x+z-w;else if("rect"==z){var z=parseInt(w[0]),q=parseInt(w[1]),H=parseInt(w[2]),w=parseInt(w[3]);h.dimension.height=w-q;h.dimension.width=H-z;h.offset.top=B+q;h.offset.left=x+z}else if("poly"==z){for(var O=H=q=z=0,D="even",G=0;G<w.length;G++){var M=parseInt(w[G]);"even"==D?(M>H&&(H=M,0===G&&(z=H)),M<z&&(z=M),D="odd"):(M>O&&(O=M,1==G&&(q=O)),M<q&&(q=M),D="even")}h.dimension.height=O-q;h.dimension.width=
H-z;h.offset.top=B+q;h.offset.left=x+z}else h.dimension.height=q.outerHeight(!1),h.dimension.width=q.outerWidth(!1),h.offset.top=B,h.offset.left=x}var C=0,E=B=0,K=parseInt(this.options.offsetY),x=parseInt(this.options.offsetX),N=this.options.position;"top"==N&&(B=h.offset.left+k-(h.offset.left+h.dimension.width),C=h.offset.left+x-B/2,E=h.offset.top-m-K-12,c(),b("bottom","top"));"top-left"==N&&(C=h.offset.left+x,E=h.offset.top-m-K-12,c(),b("bottom-left","top-left"));"top-right"==N&&(C=h.offset.left+
h.dimension.width+x-k,E=h.offset.top-m-K-12,c(),b("bottom-right","top-right"));"bottom"==N&&(B=h.offset.left+k-(h.offset.left+h.dimension.width),C=h.offset.left-B/2+x,E=h.offset.top+h.dimension.height+K+12,c(),b("top","bottom"));"bottom-left"==N&&(C=h.offset.left+x,E=h.offset.top+h.dimension.height+K+12,c(),b("top-left","bottom-left"));"bottom-right"==N&&(C=h.offset.left+h.dimension.width+x-k,E=h.offset.top+h.dimension.height+K+12,c(),b("top-right","bottom-right"));"left"==N&&(C=h.offset.left-x-k-
12,B=h.offset.left+x+h.dimension.width+12,b=h.offset.top+m-(h.offset.top+h.dimension.height),E=h.offset.top-b/2-K,0>C&&B+k>f?(b=2*parseFloat(this.$tooltip.css("border-width")),c=k+C-b,this.$tooltip.css("width",c+"px"),m=this.$tooltip.outerHeight(!1),C=h.offset.left-x-c-12-b,b=h.offset.top+m-(h.offset.top+h.dimension.height),E=h.offset.top-b/2-K):0>C&&(C=h.offset.left+x+h.dimension.width+12,e="left"));"right"==N&&(C=h.offset.left+x+h.dimension.width+12,B=h.offset.left-x-k-12,b=h.offset.top+m-(h.offset.top+
h.dimension.height),E=h.offset.top-b/2-K,C+k>f&&0>B?(b=2*parseFloat(this.$tooltip.css("border-width")),this.$tooltip.css("width",f-C-b+"px"),m=this.$tooltip.outerHeight(!1),b=h.offset.top+m-(h.offset.top+h.dimension.height),E=h.offset.top-b/2-K):C+k>f&&(C=h.offset.left-x-k-12,e="right"));this.options.arrow&&(b="tooltipster-arrow-"+N,c=1>this.options.arrowColor.length?this.$tooltip.css("background-color"):this.options.arrowColor,e?"left"==e?(b="tooltipster-arrow-right",e=""):"right"==e?(b="tooltipster-arrow-left",
e=""):e="left:"+Math.round(e)+"px;":e="","top"==N||"top-left"==N||"top-right"==N?(x=parseFloat(this.$tooltip.css("border-bottom-width")),B=this.$tooltip.css("border-bottom-color")):"bottom"==N||"bottom-left"==N||"bottom-right"==N?(x=parseFloat(this.$tooltip.css("border-top-width")),B=this.$tooltip.css("border-top-color")):"left"==N?(x=parseFloat(this.$tooltip.css("border-right-width")),B=this.$tooltip.css("border-right-color")):"right"==N?(x=parseFloat(this.$tooltip.css("border-left-width")),B=this.$tooltip.css("border-left-color")):
(x=parseFloat(this.$tooltip.css("border-bottom-width")),B=this.$tooltip.css("border-bottom-color")),1<x&&x++,w="",0!==x&&(w="",B="border-color: "+B+";",-1!==b.indexOf("bottom")?w="margin-top: -"+Math.round(x)+"px;":-1!==b.indexOf("top")?w="margin-bottom: -"+Math.round(x)+"px;":-1!==b.indexOf("left")?w="margin-right: -"+Math.round(x)+"px;":-1!==b.indexOf("right")&&(w="margin-left: -"+Math.round(x)+"px;"),w='<span class="tooltipster-arrow-border" style="'+w+" "+B+';"></span>'),this.$tooltip.find(".tooltipster-arrow").remove(),
this.$tooltip.append('<div class="'+b+' tooltipster-arrow" style="'+e+'">'+w+'<span style="border-color:'+c+';"></span></div>'));this.$tooltip.css({top:Math.round(E)+"px",left:Math.round(C)+"px"})}return this},enable:function(){this.enabled=!0;return this},disable:function(){this.hide();this.enabled=!1;return this},destroy:function(){var b=this;b.hide();b.$el[0]!==b.$elProxy[0]&&b.$elProxy.remove();b.$el.removeData(b.namespace).off("."+b.namespace);var c=b.$el.data("tooltipster-ns");1===c.length?
(c=null,"previous"===b.options.restoration?c=b.$el.data("tooltipster-initialTitle"):"current"===b.options.restoration&&(c="string"===typeof b.Content?b.Content:a("<div></div>").append(b.Content).html()),c&&b.$el.attr("title",c),b.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(c=a.grep(c,function(a,c){return a!==b.namespace}),b.$el.data("tooltipster-ns",c));return b},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:
void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(a,b){if("undefined"==typeof b)return this.options[a];this.options[a]=b;return this},status:function(){return this.Status}};a.fn.tooltipster=function(){var c=arguments;if(0===this.length){if("string"===typeof c[0]){var d=!0;switch(c[0]){case "setDefaults":a.extend(h,c[1]);break;default:d=!1}return d?!0:this}return this}if("string"===typeof c[0]){var e="#*$~&";this.each(function(){var b=a(this).data("tooltipster-ns");
if(b=b?a(this).data(b[0]):null){if("function"===typeof b[c[0]])var d=b[c[0]](c[1],c[2]);else throw Error('Unknown method .tooltipster("'+c[0]+'")');if(d!==b)return e=d,!1}else throw Error("You called Tooltipster's \""+c[0]+'" method on an uninitialized element');});return"#*$~&"!==e?e:this}var f=[],k=(d=c[0]&&"undefined"!==typeof c[0].multiple)&&c[0].multiple||!d&&h.multiple,m=(d=c[0]&&"undefined"!==typeof c[0].debug)&&c[0].debug||!d&&h.debug;this.each(function(){var d=!1,e=a(this).data("tooltipster-ns"),
h=null;e?k?d=!0:m&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):d=!0;d&&(h=new b(this,c[0]),e||(e=[]),e.push(h.namespace),a(this).data("tooltipster-ns",e),a(this).data(h.namespace,h));f.push(h)});return k?f:this};var k=!!("ontouchstart"in d),m=!1;a("body").one("mousemove",function(){m=!0})})(jQuery,window,document);(function(a){function d(c,b){this.carouselRoot=a(c);var d=this;this._isAnimating=this._lockYAxis=!1;this._upEvent=this._moveEvent=this._downEvent="";this._totalItemsWidth;this._itemWidths;this._startAccelerationX;this._accelerationX;this._latestDragX;this._startTime=0;this.settings=a.extend({},a.fn.touchCarousel.defaults,b);this._dragContainer=this.carouselRoot.find(".touchcarousel-container");this._dragContainerStyle=this._dragContainer[0].style;this._itemsWrapper=this._dragContainer.wrap(a('<div class="touchcarousel-wrapper" />')).parent();
var f=this._dragContainer.find(".touchcarousel-item");this.items=[];this.numItems=f.length;var h=navigator.userAgent.toLowerCase(),h=function(a){a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}}(h),k={};h.browser&&(k[h.browser]=!0,k.version=h.version);k.chrome&&(k.webkit=!0);d._browser=k;this._decelerationAnim;
this._successfullyDragged=!1;this._moveDist=this._prevMouseX=this._startMouseX=0;this._useWebkitTransition=this._wasBlocked=this._blockClickEvents=!1;"ontouchstart"in window?(this.hasTouch=!0,this._downEvent="touchstart.rs",this._moveEvent="touchmove.rs",this._upEvent="touchend.rs",this._baseFriction=this.settings.baseTouchFriction):(this.hasTouch=!1,this._baseFriction=this.settings.baseMouseFriction,this.settings.dragUsingMouse?(this._downEvent="mousedown.rs",this._moveEvent="mousemove.rs",this._upEvent=
"mouseup.rs",this._grabCursor,this._grabbingCursor,h=d._browser,h.msie||h.opera?this._grabCursor=this._grabbingCursor="move":h.mozilla&&(this._grabCursor="-moz-grab",this._grabbingCursor="-moz-grabbing"),this._setGrabCursor()):this._itemsWrapper.addClass("auto-cursor"));(this.hasTouch||this.settings.useWebkit3d)&&"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix&&(this._dragContainer.css({"-webkit-transform-origin":"0 0","-webkit-transform":"translateZ(0)"}),this._useWebkitTransition=!0);this._useWebkitTransition?
(this._xProp="-webkit-transform",this._xPref="translate3d(",this._xSuf="px, 0, 0)"):(this._xProp="left",this._xPref="",this._xSuf="px");this.hasTouch&&(this.settings.directionNavAutoHide=!1);this.settings.directionNav||(this._arrowRightBlocked=this.settings.loopItems?this._arrowLeftBlocked=!0:this._arrowLeftBlocked=!1,this.settings.loopItems=!0);var m,l,n=0;f.eq(this.numItems-1).addClass("last");f.each(function(b){l=a(this);m={};m.item=l;m.index=b;m.posX=n;m.width=l.outerWidth(!0)||d.settings.itemFallbackWidth;
n+=m.width;if(this.hasTouch){var c;l.find("a").each(function(){c=a(this);c.data("tc-href",c.attr("href"));c.data("tc-target",c.attr("target"));c.attr("href","#");c.bind("click",function(b){b.preventDefault();if(d._successfullyDragged)return!1;b=a(this).data("tc-href");var c=a(this).data("tc-target");c&&"_self"!==c.toLowerCase()?window.open(b):window.location.href=b})})}else l.find("a").bind("click.touchcarousel",function(a){if(d._successfullyDragged)return a.preventDefault(),!1});l.find(".non-draggable").bind(d._downEvent,
function(a){d._successfullyDragged=!1;a.stopImmediatePropagation()});d.items.push(m)});this._maxXPos=this._totalItemsWidth=n;this._itemsPerMove=0<this.settings.itemsPerMove?this.settings.itemsPerMove:1;if(this.settings.pagingNav){if(this._pagingEnabled=this.settings.snapToItems=!0,this._numPages=Math.ceil(this.numItems/this._itemsPerMove),this._currPageId=0,this.settings.pagingNavControls){this._pagingNavContainer=a('<div class="tc-paging-container"><div class="tc-paging-centerer"><div class="tc-paging-centerer-inside"></div></div></div>');
f=this._pagingNavContainer.find(".tc-paging-centerer-inside");for(k=1;k<=this._numPages;k++)h=a('<a class="tc-paging-item" href="#">'+k+"</a>").data("tc-id",k),k===this._currPageId+1&&h.addClass("current"),f.append(h);this._pagingItems=f.find(".tc-paging-item").click(function(b){b.preventDefault();d.goTo((a(b.currentTarget).data("tc-id")-1)*d._itemsPerMove)});this._itemsWrapper.after(this._pagingNavContainer)}}else this._pagingEnabled=!1;this._dragContainer.css({width:n});this.settings.directionNav&&
(this._itemsWrapper.after("<a href='#' class='arrow-holder left'><span class='arrow-icon left'></span></a> <a href='#' class='arrow-holder right'><span class='arrow-icon right'></span></a>"),this.arrowLeft=this.carouselRoot.find(".arrow-holder.left"),this.arrowRight=this.carouselRoot.find(".arrow-holder.right"),1>this.arrowLeft.length||1>this.arrowRight.length?this.settings.directionNav=!1:this.settings.directionNavAutoHide&&(this.arrowLeft.hide(),this.arrowRight.hide(),this.carouselRoot.one("mousemove.arrowshover",
function(){d.arrowLeft.fadeIn("fast");d.arrowRight.fadeIn("fast")}),this.carouselRoot.hover(function(){d.arrowLeft.fadeIn("fast");d.arrowRight.fadeIn("fast")},function(){d.arrowLeft.fadeOut("fast");d.arrowRight.fadeOut("fast")})),this._updateDirectionNav(0),this.settings.directionNav&&(this.arrowRight.click(function(a){a.preventDefault();(d.settings.loopItems&&!d._blockClickEvents||!d._arrowRightBlocked)&&d.next()}),this.arrowLeft.click(function(a){a.preventDefault();(d.settings.loopItems&&!d._blockClickEvents||
!d._arrowLeftBlocked)&&d.prev()})));this.carouselWidth;this._resizeEvent="onorientationchange"in window?"orientationchange.touchcarousel":"resize.touchcarousel";var p;a(window).bind(this._resizeEvent,function(){p&&clearTimeout(p);p=setTimeout(function(){d.updateCarouselSize(!1)},100)});this.settings.scrollbar?(this._scrollbarHolder=a("<div class='scrollbar-holder'><div class='scrollbar"+("light"===this.settings.scrollbarTheme.toLowerCase()?" light":" dark")+"'></div></div>"),this._scrollbarHolder.appendTo(this.carouselRoot),
this.scrollbarJQ=this._scrollbarHolder.find(".scrollbar"),this._scrollbarHideTimeout="",this._scrollbarStyle=this.scrollbarJQ[0].style,this._scrollbarDist=0,this.settings.scrollbarAutoHide?(this._scrollbarVisible=!1,this.scrollbarJQ.css("opacity",0)):this._scrollbarVisible=!0):this.settings.scrollbarAutoHide=!1;this.updateCarouselSize(!0);this._itemsWrapper.bind(this._downEvent,function(a){d._onDragStart(a)});this.settings.autoplay&&0<this.settings.autoplayDelay?(this._isHovering=!1,this.autoplayTimer=
"",this.wasAutoplayRunning=!0,this.hasTouch||this.carouselRoot.hover(function(){d._isHovering=!0;d._stopAutoplay()},function(){d._isHovering=!1;d._resumeAutoplay()}),this.autoplay=!0,this._releaseAutoplay()):this.autoplay=!1;this.settings.keyboardNav&&a(document).bind("keydown.touchcarousel",function(a){d._blockClickEvents||(37===a.keyCode?d.prev():39===a.keyCode&&d.next())});this.carouselRoot.css("overflow","visible")}d.prototype={goTo:function(a,b){var d=this.items[a];d&&(!b&&this.autoplay&&this.settings.autoplayStopAtAction&&
this.stopAutoplay(),this._updatePagingNav(a),this.endPos=this._getXPos(),d=-d.posX,0<d?d=0:d<this.carouselWidth-this._maxXPos&&(d=this.carouselWidth-this._maxXPos),this.animateTo(d,this.settings.transitionSpeed,"easeInOutSine"))},next:function(a){var b=this._getXPos(),d=this._getItemAtPos(b).index;this._pagingEnabled?(b=this._currPageId+1,d=b>this._numPages-1?this.settings.loopItems?0:(this._numPages-1)*this._itemsPerMove:b*this._itemsPerMove):(d+=this._itemsPerMove,this.settings.loopItems&&b<=this.carouselWidth-
this._maxXPos&&(d=0),d>this.numItems-1&&(d=this.numItems-1));this.goTo(d,a)},prev:function(a){var b=this._getXPos(),d=this._getItemAtPos(b).index;this._pagingEnabled?(b=this._currPageId-1,d=0>b?this.settings.loopItems?(this._numPages-1)*this._itemsPerMove:0:b*this._itemsPerMove):(d-=this._itemsPerMove,0>d&&(d=this.settings.loopItems?0>b?0:this.numItems-1:0));this.goTo(d,a)},getCurrentId:function(){return this._getItemAtPos(this._getXPos()).index},setXPos:function(a,b){b?this._scrollbarStyle[this._xProp]=
this._xPref+a+this._xSuf:this._dragContainerStyle[this._xProp]=this._xPref+a+this._xSuf},stopAutoplay:function(){this._stopAutoplay();this.wasAutoplayRunning=this.autoplay=!1},resumeAutoplay:function(){this.autoplay=!0;this.wasAutoplayRunning||this._resumeAutoplay()},updateCarouselSize:function(a){this.carouselWidth=this.carouselRoot.width();if(this.settings.scrollToLast){var b=0;if(this._pagingEnabled){var d=this.numItems%this._itemsPerMove;if(0<d)for(d=this.numItems-d;d<this.numItems;d++)b+=this.items[d].width;
else b=this.carouselWidth}else b=this.items[this.numItems-1].width;this._maxXPos=this._totalItemsWidth+this.carouselWidth-b}else this._maxXPos=this._totalItemsWidth;this.settings.scrollbar&&(b=Math.round(this._scrollbarHolder.width()/(this._maxXPos/this.carouselWidth)),this.scrollbarJQ.css("width",b),this._scrollbarDist=this._scrollbarHolder.width()-b);if(!this.settings.scrollToLast){if(this.carouselWidth>=this._totalItemsWidth){this._wasBlocked=!0;this.settings.loopItems||(this._arrowRightBlocked=
!0,this.arrowRight.addClass("disabled"),this._arrowLeftBlocked=!0,this.arrowLeft.addClass("disabled"));this.setXPos(0);return}this._wasBlocked&&(this._arrowLeftBlocked=this._arrowRightBlocked=this._wasBlocked=!1,this.arrowRight.removeClass("disabled"),this.arrowLeft.removeClass("disabled"))}a||(a=this.endPos=this._getXPos(),0<a?a=0:a<this.carouselWidth-this._maxXPos&&(a=this.carouselWidth-this._maxXPos),this.animateTo(a,300,"easeInOutSine"))},animateTo:function(c,b,d,f,h,k,m){function l(){n._isAnimating=
!1;n._releaseAutoplay();n.settings.scrollbarAutoHide&&n._hideScrollbar();null!==n.settings.onAnimComplete&&n.settings.onAnimComplete.call(n)}null!==this.settings.onAnimStart&&this.settings.onAnimStart.call(this);this.autoplay&&this.autoplayTimer&&(this.wasAutoplayRunning=!0,this._stopAutoplay());this._stopAnimation();var n=this,p=this.settings.scrollbar,g=n._xProp,u=n._xPref,r=n._xSuf,t={containerPos:this.endPos},z={containerPos:c},x={containerPos:h};h=f?h:c;var q=n._dragContainerStyle;n._isAnimating=
!0;if(p){var B=this._scrollbarStyle,w=n._maxXPos-n.carouselWidth;this.settings.scrollbarAutoHide&&(this._scrollbarVisible||this._showScrollbar())}this._updateDirectionNav(h);this._decelerationAnim=a(t).animate(z,{duration:b,easing:d,step:function(){p&&(B[g]=u+Math.round(-this.containerPos/w*n._scrollbarDist)+r);q[g]=u+Math.round(this.containerPos)+r},complete:function(){f?n._decelerationAnim=a(z).animate(x,{duration:k,easing:m,step:function(){p&&(B[g]=u+Math.round(-this.containerPos/w*n._scrollbarDist)+
r);q[g]=u+Math.round(this.containerPos)+r},complete:function(){p&&(B[g]=u+Math.round(-x.containerPos/w*n._scrollbarDist)+r);q[g]=u+Math.round(x.containerPos)+r;l()}}):(p&&(B[g]=u+Math.round(-z.containerPos/w*n._scrollbarDist)+r),q[g]=u+Math.round(z.containerPos)+r,l())}})},destroy:function(){this.stopAutoplay();this._itemsWrapper.unbind(this._downEvent);a(document).unbind(this._moveEvent).unbind(this._upEvent);a(window).unbind(this._resizeEvent);this.settings.keyboardNav&&a(document).unbind("keydown.touchcarousel");
this.carouselRoot.remove()},_updatePagingNav:function(a){this._pagingEnabled&&(this._currPageId=a=this._getPageIdFromItemId(a),this.settings.pagingNavControls&&(this._pagingItems.removeClass("current"),this._pagingItems.eq(a).addClass("current")))},_getPageIdFromItemId:function(a){for(var b=this._itemsPerMove,d=0;d<this._numPages;d++)if(a>=d*b&&a<d*b+b)return d;return 0>a?0:a>=this._numPages?this._numPages-1:!1},_enableArrows:function(){this.settings.loopItems||(this._arrowLeftBlocked?(this._arrowLeftBlocked=
!1,this.arrowLeft.removeClass("disabled")):this._arrowRightBlocked&&(this._arrowRightBlocked=!1,this.arrowRight.removeClass("disabled")))},_disableLeftArrow:function(){this._arrowLeftBlocked||this.settings.loopItems||(this._arrowLeftBlocked=!0,this.arrowLeft.addClass("disabled"),this._arrowRightBlocked&&(this._arrowRightBlocked=!1,this.arrowRight.removeClass("disabled")))},_disableRightArrow:function(){this._arrowRightBlocked||this.settings.loopItems||(this._arrowRightBlocked=!0,this.arrowRight.addClass("disabled"),
this._arrowLeftBlocked&&(this._arrowLeftBlocked=!1,this.arrowLeft.removeClass("disabled")))},_getItemAtPos:function(a){a=-a;for(var b,d=0;d<this.numItems;d++)if(b=this.items[d],a>=b.posX&&a<b.posX+b.width)return b;return-1},_releaseAutoplay:function(){this.autoplay&&this.wasAutoplayRunning&&(this._isHovering||this._resumeAutoplay(),this.wasAutoplayRunning=!1)},_hideScrollbar:function(){var a=this;this._scrollbarVisible=!1;this._scrollbarHideTimeout&&clearTimeout(this._scrollbarHideTimeout);this._scrollbarHideTimeout=
setTimeout(function(){a.scrollbarJQ.animate({opacity:0},150,"linear")},450)},_showScrollbar:function(){this._scrollbarVisible=!0;this._scrollbarHideTimeout&&clearTimeout(this._scrollbarHideTimeout);this.scrollbarJQ.stop().animate({opacity:1},150,"linear")},_stopAnimation:function(){this._decelerationAnim&&this._decelerationAnim.stop()},_resumeAutoplay:function(){if(this.autoplay){var a=this;this.autoplayTimer||(this.autoplayTimer=setInterval(function(){a._isDragging||a._isAnimating||a.next(!0)},this.settings.autoplayDelay))}},
_stopAutoplay:function(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer="")},_getXPos:function(a){a=a?this.scrollbarJQ:this._dragContainer;return this._useWebkitTransition?(a=a.css("-webkit-transform").replace(/^matrix\(/i,"").split(/, |\)$/g),parseInt(a[4],10)):Math.round(a.position().left)},_onDragStart:function(c){if(!this._isDragging){this.autoplay&&this.settings.autoplayStopAtAction&&this.stopAutoplay();this._stopAnimation();this.settings.scrollbarAutoHide&&this._showScrollbar();
var b;if(this.hasTouch)if(this._lockYAxis=!1,(b=c.originalEvent.touches)&&0<b.length)b=b[0];else return!1;else b=c,c.preventDefault();this._setGrabbingCursor();this._isDragging=!0;var d=this;this._useWebkitTransition&&d._dragContainer.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"});a(document).bind(this._moveEvent,function(a){d._onDragMove(a)});a(document).bind(this._upEvent,function(a){d._onDragRelease(a)});this._startPos=this._getXPos();this._accelerationX=b.clientX;
this._successfullyDragged=!1;this._startTime=c.timeStamp||(new Date).getTime();this._moveDist=0;this._prevMouseX=this._startMouseX=b.clientX;this._startMouseY=b.clientY}},_onDragMove:function(a){var b=a.timeStamp||(new Date).getTime(),d;if(this.hasTouch){if(this._lockYAxis)return!1;d=a.originalEvent.touches;if(1<d.length)return!1;d=d[0];if(Math.abs(d.clientY-this._startMouseY)>Math.abs(d.clientX-this._startMouseX)+3)return this.settings.lockAxis&&(this._lockYAxis=!0),!1}else d=a;a.preventDefault();
this._latestDragX=d.clientX;this._lastDragPosition=this._currentDragPosition;a=d.clientX-this._prevMouseX;this._lastDragPosition!=a&&(this._currentDragPosition=a);if(0!=a){var f=this._startPos+this._moveDist;0<=f?(a/=4,this._disableLeftArrow()):f<=this.carouselWidth-this._maxXPos?(this._disableRightArrow(),a/=4):this._enableArrows();this._moveDist+=a;this.setXPos(f);this.settings.scrollbar&&this.setXPos(-f/(this._maxXPos-this.carouselWidth)*this._scrollbarDist,!0)}this._prevMouseX=d.clientX;350<b-
this._startTime&&(this._startTime=b,this._accelerationX=d.clientX);null!==this.settings.onDragStart&&this.settings.onDragStart.call(this);return!1},_onDragRelease:function(c){if(this._isDragging){var b=function(a){0<a?a=0:a<d.carouselWidth-d._maxXPos&&(a=d.carouselWidth-d._maxXPos);return a},d=this;this._isDragging=!1;this._setGrabCursor();this.endPos=this._getXPos();this.isdrag=!1;a(document).unbind(this._moveEvent).unbind(this._upEvent);if(this.endPos==this._startPos){this._successfullyDragged=
!1;this.settings.scrollbarAutoHide&&this._hideScrollbar();return}this._successfullyDragged=!0;var f=this._latestDragX-this._accelerationX;c=Math.max(40,(c.timeStamp||(new Date).getTime())-this._startTime);var h=.5;c=Math.abs(f)/c;if(this.settings.snapToItems){this.autoplay&&this.settings.autoplayStopAtAction&&this.stopAutoplay();var f=Boolean(0<this._startMouseX-this._prevMouseX),h=b(this._getXPos()),k=this._getItemAtPos(h).index;this._pagingEnabled?(f&&(h=Math.max(h-this.carouselWidth-1,1-d._maxXPos),
k=this._getItemAtPos(h).index,void 0===k&&(k=this.numItems-1)),k=this._getPageIdFromItemId(k)*this._itemsPerMove):k+=f?this._itemsPerMove:-this._itemsPerMove+1;k=f?Math.min(k,this.numItems-1):Math.max(k,0);h=this.items[k];this._updatePagingNav(k);h&&(h=b(-h.posX),b=Math.abs(this.endPos-h),c=Math.max(1.08*b/c,150),k=Boolean(180>c),b*=.08,f&&(b*=-1),this.animateTo(k?h+b:h,Math.min(c,400),"easeOutSine",k,h,300,"easeOutCubic"))}else b=0,2>=c?(h=3.5*this._baseFriction,b=0):2<c&&3>=c?(h=4*this._baseFriction,
b=200):3<c&&(b=300,4<c&&(c=4,b=400,h=6*this._baseFriction),h=5*this._baseFriction),f=c*c*2/(2*h)*(0>f?-1:1),h=2*c/h+b,0<this.endPos+f?0<this.endPos?this.animateTo(0,800,"easeOutCubic"):this.animateTo(this.carouselWidth/10*((b+200)/1E3),1.1*Math.abs(this.endPos)/c,"easeOutSine",!0,0,400,"easeOutCubic"):this.endPos+f<this.carouselWidth-this._maxXPos?this.endPos<this.carouselWidth-this._maxXPos?this.animateTo(this.carouselWidth-this._maxXPos,800,"easeOutCubic"):this.animateTo(this.carouselWidth-this._maxXPos-
this.carouselWidth/10*((b+200)/1E3),1.1*Math.abs(this.carouselWidth-this._maxXPos-this.endPos)/c,"easeOutSine",!0,this.carouselWidth-this._maxXPos,400,"easeOutCubic"):this.animateTo(this.endPos+f,h,"easeOutCubic");null!==this.settings.onDragRelease&&this.settings.onDragRelease.call(this)}return!1},_updateDirectionNav:function(a){void 0===a&&(a=this._getXPos());this.settings.loopItems||(0<=a?this._disableLeftArrow():a<=this.carouselWidth-this._maxXPos?this._disableRightArrow():this._enableArrows())},
_setGrabCursor:function(){this._grabCursor?this._itemsWrapper.css("cursor",this._grabCursor):(this._itemsWrapper.removeClass("grabbing-cursor"),this._itemsWrapper.addClass("grab-cursor"))},_setGrabbingCursor:function(){this._grabbingCursor?this._itemsWrapper.css("cursor",this._grabbingCursor):(this._itemsWrapper.removeClass("grab-cursor"),this._itemsWrapper.addClass("grabbing-cursor"))}};a.fn.touchCarousel=function(c){return this.each(function(){var b=new d(a(this),c);a(this).data("touchCarousel",
b)})};a.fn.touchCarousel.defaults={itemsPerMove:1,snapToItems:!1,pagingNav:!1,pagingNavControls:!0,autoplay:!1,autoplayDelay:3E3,autoplayStopAtAction:!0,scrollbar:!0,scrollbarAutoHide:!1,scrollbarTheme:"dark",transitionSpeed:600,directionNav:!0,directionNavAutoHide:!1,loopItems:!1,keyboardNav:!1,dragUsingMouse:!0,scrollToLast:!1,itemFallbackWidth:500,baseMouseFriction:.0012,baseTouchFriction:8E-4,lockAxis:!0,useWebkit3d:!1,onAnimStart:null,onAnimComplete:null,onDragStart:null,onDragRelease:null};
a.fn.touchCarousel.settings={};a.extend(jQuery.easing,{easeInOutSine:function(a,b,d,f,h){return-f/2*(Math.cos(Math.PI*b/h)-1)+d},easeOutSine:function(a,b,d,f,h){return f*Math.sin(b/h*(Math.PI/2))+d},easeOutCubic:function(a,b,d,f,h){return f*((b=b/h-1)*b*b+1)+d}})})(jQuery);
(function(a){function d(c,b){var d,f=this,h=window.navigator,k=h.userAgent.toLowerCase();f.uid=a.rsModules.uid++;f.ns=".rs"+f.uid;var m=document.createElement("div").style,l=["webkit","Moz","ms","O"],n="",p=0,g;for(d=0;d<l.length;d++)g=l[d],!n&&g+"Transform"in m&&(n=g),g=g.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[g+"RequestAnimationFrame"],window.cancelAnimationFrame=window[g+"CancelAnimationFrame"]||window[g+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||
(window.requestAnimationFrame=function(a,b){var c=(new Date).getTime(),d=Math.max(0,16-(c-p)),e=window.setTimeout(function(){a(c+d)},d);p=c+d;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});f.isIPAD=k.match(/(ipad)/);f.isIOS=f.isIPAD||k.match(/(iphone|ipod)/);d=function(a){a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||
[];return{browser:a[1]||"",version:a[2]||"0"}}(k);l={};d.browser&&(l[d.browser]=!0,l.version=d.version);l.chrome&&(l.webkit=!0);f._a=l;f.isAndroid=-1<k.indexOf("android");f.slider=a(c);f.ev=a(f);f._b=a(document);f.st=a.extend({},a.fn.royalSlider.defaults,b);f._c=f.st.transitionSpeed;f._d=0;!f.st.allowCSS3||l.webkit&&!f.st.allowCSS3OnWebkit||(d=n+(n?"T":"t"),f._e=d+"ransform"in m&&d+"ransition"in m,f._e&&(f._f=n+(n?"P":"p")+"erspective"in m));n=n.toLowerCase();f._g="-"+n+"-";f._h="vertical"===f.st.slidesOrientation?
!1:!0;f._i=f._h?"left":"top";f._j=f._h?"width":"height";f._k=-1;f._l="fade"===f.st.transitionType?!1:!0;f._l||(f.st.sliderDrag=!1,f._m=10);f._n="z-index:0; display:none; opacity:0;";f._o=0;f._p=0;f._q=0;a.each(a.rsModules,function(a,b){"uid"!==a&&b.call(f)});f.slides=[];f._r=0;(f.st.slides?a(f.st.slides):f.slider.children().detach()).each(function(){f._s(this,!0)});f.st.randomizeSlides&&f.slides.sort(function(){return.5-Math.random()});f.numSlides=f.slides.length;f._t();f.st.startSlideId?f.st.startSlideId>
f.numSlides-1&&(f.st.startSlideId=f.numSlides-1):f.st.startSlideId=0;f._o=f.staticSlideId=f.currSlideId=f._u=f.st.startSlideId;f.currSlide=f.slides[f.currSlideId];f._v=0;f.pointerMultitouch=!1;f.slider.addClass((f._h?"rsHor":"rsVer")+(f._l?"":" rsFade"));m='<div class="rsOverflow"><div class="rsContainer">';f.slidesSpacing=f.st.slidesSpacing;f._w=(f._h?f.slider.width():f.slider.height())+f.st.slidesSpacing;f._x=Boolean(0<f._y);1>=f.numSlides&&(f._z=!1);f._a1=f._z&&f._l?2===f.numSlides?1:2:0;f._b1=
6>f.numSlides?f.numSlides:6;f._c1=0;f._d1=0;f.slidesJQ=[];for(d=0;d<f.numSlides;d++)f.slidesJQ.push(a('<div style="'+(f._l?"":d!==f.currSlideId?f._n:"z-index:0;")+'" class="rsSlide "></div>'));f._e1=m=a(m+"</div></div>");var u=f.ns,n=function(a,b,c,d,e){f._j1=a+b+u;f._k1=a+c+u;f._l1=a+d+u;e&&(f._m1=a+e+u)};d=h.pointerEnabled;f.pointerEnabled=d||h.msPointerEnabled;f.pointerEnabled?(f.hasTouch=!1,f._n1=.2,f.pointerMultitouch=Boolean(1<h[(d?"m":"msM")+"axTouchPoints"]),d?n("pointer","down","move","up",
"cancel"):n("MSPointer","Down","Move","Up","Cancel")):(f.isIOS?f._j1=f._k1=f._l1=f._m1="":n("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(f.hasTouch=!0,f._j1+=" touchstart"+u,f._k1+=" touchmove"+u,f._l1+=" touchend"+u,f._m1+=" touchcancel"+u,f._n1=.5,f.st.sliderTouch&&(f._f1=!0)):(f.hasTouch=!1,f._n1=.2));f.st.sliderDrag&&(f._f1=!0,l.msie||l.opera?f._g1=f._h1="move":l.mozilla?(f._g1="-moz-grab",f._h1="-moz-grabbing"):l.webkit&&-1!=h.platform.indexOf("Mac")&&(f._g1=
"-webkit-grab",f._h1="-webkit-grabbing"),f._i1());f.slider.html(m);f._o1=f.st.controlsInside?f._e1:f.slider;f._p1=f._e1.children(".rsContainer");f.pointerEnabled&&f._p1.css((d?"":"-ms-")+"touch-action",f._h?"pan-y":"pan-x");f._q1=a('<div class="rsPreloader"></div>');h=f._p1.children(".rsSlide");f._r1=f.slidesJQ[f.currSlideId];f._s1=0;f._e?(f._t1="transition-property",f._u1="transition-duration",f._v1="transition-timing-function",f._w1=f._x1=f._g+"transform",f._f?(l.webkit&&!l.chrome&&f.slider.addClass("rsWebkit3d"),
f._y1="translate3d(",f._z1="px, ",f._a2="px, 0px)"):(f._y1="translate(",f._z1="px, ",f._a2="px)"),f._l?f._p1[f._g+f._t1]=f._g+"transform":(l={},l[f._g+f._t1]="opacity",l[f._g+f._u1]=f.st.transitionSpeed+"ms",l[f._g+f._v1]=f.st.css3easeInOut,h.css(l))):(f._x1="left",f._w1="top");var r;a(window).on("resize"+f.ns,function(){r&&clearTimeout(r);r=setTimeout(function(){f.updateSliderSize()},50)});f.ev.trigger("rsAfterPropsSetup");f.updateSliderSize();f.st.keyboardNavEnabled&&f._b2();f.st.arrowsNavHideOnTouch&&
(f.hasTouch||f.pointerMultitouch)&&(f.st.arrowsNav=!1);f.st.arrowsNav&&(h=f._o1,a('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(h),f._c2=h.children(".rsArrowLeft").click(function(a){a.preventDefault();f.prev()}),f._d2=h.children(".rsArrowRight").click(function(a){a.preventDefault();f.next()}),f.st.arrowsNavAutoHide&&!f.hasTouch&&(f._c2.addClass("rsHidden"),f._d2.addClass("rsHidden"),h.one("mousemove.arrowshover",
function(){f._c2.removeClass("rsHidden");f._d2.removeClass("rsHidden")}),h.hover(function(){f._e2||(f._c2.removeClass("rsHidden"),f._d2.removeClass("rsHidden"))},function(){f._e2||(f._c2.addClass("rsHidden"),f._d2.addClass("rsHidden"))})),f.ev.on("rsOnUpdateNav",function(){f._f2()}),f._f2());if(f.hasTouch&&f.st.sliderTouch||!f.hasTouch&&f.st.sliderDrag)f._p1.on(f._j1,function(a){f._g2(a)});else f.dragSuccess=!1;var t=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];f._p1.click(function(b){if(!f.dragSuccess){var c=
a(b.target).attr("class");if(-1!==a.inArray(c,t)&&f.toggleVideo())return!1;if(f.st.navigateByClick&&!f._h2){if(a(b.target).closest(".rsNoDrag",f._r1).length)return!0;f._i2(b)}f.ev.trigger("rsSlideClick",b)}}).on("click.rs","a",function(a){if(f.dragSuccess)return!1;f._h2=!0;setTimeout(function(){f._h2=!1},3)});f.ev.trigger("rsAfterInit")}a.rsModules||(a.rsModules={uid:0});d.prototype={constructor:d,_i2:function(a){a=a[this._h?"pageX":"pageY"]-this._j2;a>=this._q?this.next():0>a&&this.prev()},_t:function(){var a;
a=this.st.numImagesToPreload;if(this._z=this.st.loop)2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1);this._z&&0<a&&(4>=this.numSlides?a=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(a=Math.floor((this.numSlides-1)/2)));this._y=a},_s:function(c,b){function d(a,b){b?k.images.push(a.attr(b)):k.images.push(a.text());if(l){l=!1;k.caption="src"===b?a.attr("alt"):a.contents();k.image=k.images[0];k.videoURL=a.attr("data-rsVideo");var c=a.attr("data-rsw"),
e=a.attr("data-rsh");"undefined"!==typeof c&&!1!==c&&"undefined"!==typeof e&&!1!==e?(k.iW=parseInt(c,10),k.iH=parseInt(e,10)):f.st.imgWidth&&f.st.imgHeight&&(k.iW=f.st.imgWidth,k.iH=f.st.imgHeight)}}var f=this,h,k={},m,l=!0;c=a(c);f._k2=c;f.ev.trigger("rsBeforeParseNode",[c,k]);if(!k.stopParsing)return c=f._k2,k.id=f._r,k.contentAdded=!1,f._r++,k.images=[],k.isBig=!1,k.hasCover||(c.hasClass("rsImg")?(m=c,h=!0):(m=c.find(".rsImg"),m.length&&(h=!0)),h?(k.bigImage=m.eq(0).attr("data-rsBigImg"),m.each(function(){var b=
a(this);b.is("a")?d(b,"href"):b.is("img")?d(b,"src"):d(b)})):c.is("img")&&(c.addClass("rsImg rsMainSlideImage"),d(c,"src"))),m=c.find(".rsCaption"),m.length&&(k.caption=m.remove()),k.content=c,f.ev.trigger("rsAfterParseNode",[c,k]),b&&f.slides.push(k),0===k.images.length&&(k.isLoaded=!0,k.isRendered=!1,k.isLoading=!1,k.images=null),k},_b2:function(){var a=this,b,d,f=function(b){37===b?a.prev():39===b&&a.next()};a._b.on("keydown"+a.ns,function(h){if(!a.st.keyboardNavEnabled)return!0;if(!(a._l2||(d=
h.keyCode,37!==d&&39!==d||b))){if(document.activeElement&&/(INPUT|SELECT|TEXTAREA)/i.test(document.activeElement.tagName))return!0;a.isFullscreen&&h.preventDefault();f(d);b=setInterval(function(){f(d)},700)}}).on("keyup"+a.ns,function(a){b&&(clearInterval(b),b=null)})},goTo:function(a,b){a!==this.currSlideId&&this._m2(a,this.st.transitionSpeed,!0,!b)},destroy:function(c){this.ev.trigger("rsBeforeDestroy");this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1);this._p1.off(this._j1+
" click");this.slider.data("royalSlider",null);a.removeData(this.slider,"royalSlider");a(window).off("resize"+this.ns);this.loadingTimeout&&clearTimeout(this.loadingTimeout);c&&this.slider.remove();this.ev=this.slider=this.slides=null},_n2:function(c,b){function d(b,e,g){b.isAdded?(b.contentAdded||(k.setItemHtml(b,c),c||(b.contentAdded=!0)),f(e,b)):(g||(g=k.slidesJQ[e]),b.holder?g=b.holder:(g=k.slidesJQ[e]=a(g),b.holder=g),b.appendOnLoaded=!1,f(e,b,g),b.contentAdded||(k.setItemHtml(b,c),c||(b.contentAdded=
!0)),k._p2(b,g,c),b.isAdded=!0)}function f(a,b,c){k._l&&(c||(c=k.slidesJQ[a]),c.css(k._i,(a+k._d1+u)*k._w))}function h(a){if(n){if(a>p-1)return h(a-p);if(0>a)return h(p+a)}return a}var k=this,m,l,n=k._z,p=k.numSlides;if(!isNaN(b))return h(b);var g=k.currSlideId,u,r=c?Math.abs(k._o2-k.currSlideId)>=k.numSlides-1?0:1:k._y,t=Math.min(2,r),z=!1,x=!1,q;for(l=g;l<g+1+t;l++)if(q=h(l),(m=k.slides[q])&&(!m.isAdded||!m.positionSet)){z=!0;break}for(l=g-1;l>g-1-t;l--)if(q=h(l),(m=k.slides[q])&&(!m.isAdded||!m.positionSet)){x=
!0;break}if(z)for(l=g;l<g+r+1;l++)q=h(l),u=Math.floor((k._u-(g-l))/k.numSlides)*k.numSlides,(m=k.slides[q])&&d(m,q);if(x)for(l=g-1;l>g-1-r;l--)q=h(l),u=Math.floor((k._u-(g-l))/p)*p,(m=k.slides[q])&&d(m,q);if(!c)for(t=h(g-r),g=h(g+r),r=t>g?0:t,l=0;l<p;l++)t>g&&l>t-1||!(l<r||l>g)||(m=k.slides[l])&&m.holder&&(m.holder.detach(),m.isAdded=!1)},setItemHtml:function(c,b){var d=this,f=function(){if(!c.images)c.isRendered=!0,c.isLoaded=!0,c.isLoading=!1,m(!0);else if(!c.isLoading){var b,f;c.content.hasClass("rsImg")?
(b=c.content,f=!0):b=c.content.find(".rsImg:not(img)");b&&!b.is("img")&&b.each(function(){var b=a(this),d='<img class="rsImg" src="'+(b.is("a")?b.attr("href"):b.text())+'" />';f?c.content=a(d):b.replaceWith(d)});b=f?c.content:c.content.find("img.rsImg");n();b.eq(0).addClass("rsMainSlideImage");c.iW&&c.iH&&(c.isLoaded||d._q2(c),m());c.isLoading=!0;if(c.isBig)a("<img />").on("load.rs error.rs",function(b){a(this).off("load.rs error.rs");h([this],!0)}).attr("src",c.image);else{c.loaded=[];c.numStartedLoad=
0;b=function(b){a(this).off("load.rs error.rs");c.loaded.push(this);c.loaded.length===c.numStartedLoad&&h(c.loaded,!1)};for(var k=0;k<c.images.length;k++){var l=a("<img />");c.numStartedLoad++;l.on("load.rs error.rs",b).attr("src",c.images[k])}}}},h=function(a,b){if(a.length){var d=a[0];if(b!==c.isBig)(d=c.holder.children())&&1<d.length&&p();else if(c.iW&&c.iH)k();else if(c.iW=d.width,c.iH=d.height,c.iW&&c.iH)k();else{var e=new Image;e.onload=function(){e.width?(c.iW=e.width,c.iH=e.height,k()):setTimeout(function(){e.width&&
(c.iW=e.width,c.iH=e.height);k()},1E3)};e.src=d.src}}else k()},k=function(){c.isLoaded=!0;c.isLoading=!1;m();p();l()},m=function(){if(!c.isAppended&&d.ev){var a=d.st.visibleNearby,f=c.id-d._o;b||c.appendOnLoaded||!d.st.fadeinLoadedSlide||0!==f&&(!(a||d._r2||d._l2)||-1!==f&&1!==f)||(a={visibility:"visible",opacity:0},a[d._g+"transition"]="opacity 400ms ease-in-out",c.content.css(a),setTimeout(function(){c.content.css("opacity",1)},16));c.holder.find(".rsPreloader").length?c.holder.append(c.content):
c.holder.html(c.content);c.isAppended=!0;c.isLoaded&&(d._q2(c),l());c.sizeReady||(c.sizeReady=!0,setTimeout(function(){d.ev.trigger("rsMaybeSizeReady",c)},100))}},l=function(){!c.loadedTriggered&&d.ev&&(c.isLoaded=c.loadedTriggered=!0,c.holder.trigger("rsAfterContentSet"),d.ev.trigger("rsAfterContentSet",c))},n=function(){d.st.usePreloader&&c.holder.html(d._q1.clone())},p=function(a){d.st.usePreloader&&(a=c.holder.find(".rsPreloader"),a.length&&a.remove())};c.isLoaded?m():b?!d._l&&c.images&&c.iW&&
c.iH?f():(c.holder.isWaiting=!0,n(),c.holder.slideId=-99):f()},_p2:function(a,b,d){this._p1.append(a.holder);a.appendOnLoaded=!1},_g2:function(c,b){var d=this,f,h="touchstart"===c.type;d._s2=h;d.ev.trigger("rsDragStart");if(a(c.target).closest(".rsNoDrag",d._r1).length)return d.dragSuccess=!1,!0;!b&&d._r2&&(d._t2=!0,d._u2());d.dragSuccess=!1;if(d._l2)h&&(d._v2=!0);else{h&&(d._v2=!1);d._w2();if(h){var k=c.originalEvent.touches;if(k&&0<k.length)f=k[0],1<k.length&&(d._v2=!0);else return}else c.preventDefault(),
f=c,d.pointerEnabled&&(f=f.originalEvent);d._l2=!0;d._b.on(d._k1,function(a){d._x2(a,b)}).on(d._l1,function(a){d._y2(a,b)});d._z2="";d._a3=!1;d._b3=f.pageX;d._c3=f.pageY;d._d3=d._v=(b?d._e3:d._h)?f.pageX:f.pageY;d._f3=0;d._g3=0;d._h3=b?d._i3:d._p;d._j3=(new Date).getTime();if(h)d._e1.on(d._m1,function(a){d._y2(a,b)})}},_k3:function(a,b){if(this._l3){var d=this._m3,f=a.pageX-this._b3,h=a.pageY-this._c3,k=this._h3+f,m=this._h3+h,l=b?this._e3:this._h,k=l?k:m,m=this._z2;this._a3=!0;this._b3=a.pageX;this._c3=
a.pageY;"x"===m&&0!==f?this._f3=0<f?1:-1:"y"===m&&0!==h&&(this._g3=0<h?1:-1);m=l?this._b3:this._c3;f=l?f:h;b?k>this._n3?k=this._h3+f*this._n1:k<this._o3&&(k=this._h3+f*this._n1):this._z||(0>=this.currSlideId&&0<m-this._d3&&(k=this._h3+f*this._n1),this.currSlideId>=this.numSlides-1&&0>m-this._d3&&(k=this._h3+f*this._n1));this._h3=k;200<d-this._j3&&(this._j3=d,this._v=m);b?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(a,b){var d=this,f,h="touchmove"===a.type;if(!d._s2||h){if(h){if(d._r3)return;
var k=a.originalEvent.touches;if(k){if(1<k.length)return;f=k[0]}else return}else f=a,d.pointerEnabled&&(f=f.originalEvent);d._a3||(d._e&&(b?d._s3:d._p1).css(d._g+d._u1,"0s"),function l(){d._l2&&(d._t3=requestAnimationFrame(l),d._u3&&d._k3(d._u3,b))}());if(d._l3)a.preventDefault(),d._m3=(new Date).getTime(),d._u3=f;else if(k=b?d._e3:d._h,f=Math.abs(f.pageX-d._b3)-Math.abs(f.pageY-d._c3)-(k?-7:7),7<f){if(k)a.preventDefault(),d._z2="x";else if(h){d._v3(a);return}d._l3=!0}else if(-7>f){if(!k)a.preventDefault(),
d._z2="y";else if(h){d._v3(a);return}d._l3=!0}}},_v3:function(a,b){this._r3=!0;this._a3=this._l2=!1;this._y2(a)},_y2:function(c,b){function d(a){return 100>a?100:500<a?500:a}function f(a,c){if(h._l||b)l=(-h._u-h._d1)*h._w,n=Math.abs(h._p-l),h._c=n/c,a&&(h._c+=250),h._c=d(h._c),h._x3(l,!1)}var h=this,k,m,l,n;k=-1<c.type.indexOf("touch");if(!h._s2||k)if(h._s2=!1,h.ev.trigger("rsDragRelease"),h._u3=null,h._l2=!1,h._r3=!1,h._l3=!1,h._m3=0,cancelAnimationFrame(h._t3),h._a3&&(b?h._q3(h._h3):h._l&&h._p3(h._h3)),
h._b.off(h._k1).off(h._l1),k&&h._e1.off(h._m1),h._i1(),!h._a3&&!h._v2&&b&&h._w3){var p=a(c.target).closest(".rsNavItem");p.length&&h.goTo(p.index())}else{m=b?h._e3:h._h;if(!h._a3||"y"===h._z2&&m||"x"===h._z2&&!m)if(!b&&h._t2){h._t2=!1;if(h.st.navigateByClick){h._i2(h.pointerEnabled?c.originalEvent:c);h.dragSuccess=!0;return}h.dragSuccess=!0}else{h._t2=!1;h.dragSuccess=!1;return}else h.dragSuccess=!0;h._t2=!1;h._z2="";var g=h.st.minSlideOffset;k=k?c.originalEvent.changedTouches[0]:h.pointerEnabled?
c.originalEvent:c;var u=m?k.pageX:k.pageY,r=h._d3;k=h._v;var t=h.currSlideId,z=h.numSlides,x=m?h._f3:h._g3,q=h._z;Math.abs(u-r);k=u-k;m=(new Date).getTime()-h._j3;m=Math.abs(k)/m;if(0===x||1>=z)f(!0,m);else{if(!q&&!b)if(0>=t){if(0<x){f(!0,m);return}}else if(t>=z-1&&0>x){f(!0,m);return}if(b){l=h._i3;if(l>h._n3)l=h._n3;else if(l<h._o3)l=h._o3;else{u=m*m/.006;p=-h._i3;r=h._y3-h._z3+h._i3;0<k&&u>p?(p+=h._z3/(15/(u/m*.003)),m=m*p/u,u=p):0>k&&u>r&&(r+=h._z3/(15/(u/m*.003)),m=m*r/u,u=r);p=Math.max(Math.round(m/
.003),50);l+=u*(0>k?-1:1);if(l>h._n3){h._a4(l,p,!0,h._n3,200);return}if(l<h._o3){h._a4(l,p,!0,h._o3,200);return}}h._a4(l,p,!0)}else p=function(a){var b=Math.floor(a/h._w);a-b*h._w>g&&b++;return b},r+g<u?0>x?f(!1,m):(p=p(u-r),h._m2(h.currSlideId-p,d(Math.abs(h._p-(-h._u-h._d1+p)*h._w)/m),!1,!0,!0)):r-g>u?0<x?f(!1,m):(p=p(r-u),h._m2(h.currSlideId+p,d(Math.abs(h._p-(-h._u-h._d1-p)*h._w)/m),!1,!0,!0)):f(!1,m)}}},_p3:function(a){a=this._p=a;this._e?this._p1.css(this._x1,this._y1+(this._h?a+this._z1+0:
0+this._z1+a)+this._a2):this._p1.css(this._h?this._x1:this._w1,a)},updateSliderSize:function(a){var b,d;if(this.slider){if(this.st.autoScaleSlider){var f=this.st.autoScaleSliderWidth,h=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(b=this.slider.width(),b!=this.width&&(this.slider.css("height",h/f*b),b=this.slider.width()),d=this.slider.height()):(d=this.slider.height(),d!=this.height&&(this.slider.css("width",f/h*d),d=this.slider.height()),b=this.slider.width())}else b=this.slider.width(),
d=this.slider.height();if(a||b!=this.width||d!=this.height){this.width=b;this.height=d;this._b4=b;this._c4=d;this.ev.trigger("rsBeforeSizeSet");this.ev.trigger("rsAfterSizePropSet");this._e1.css({width:this._b4,height:this._c4});this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing;this._d4=this.st.imageScalePadding;for(b=0;b<this.slides.length;b++)a=this.slides[b],a.positionSet=!1,a&&a.images&&a.isLoaded&&(a.isRendered=!1,this._q2(a));if(this._e4)for(b=0;b<this._e4.length;b++)a=this._e4[b],a.holder.css(this._i,
(a.id+this._d1)*this._w);this._n2();this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w));this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset();this._j2=this._j2[this._i]}},appendSlide:function(c,b){var d=this._s(c);if(isNaN(b)||b>this.numSlides)b=this.numSlides;this.slides.splice(b,0,d);this.slidesJQ.splice(b,0,a('<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>'));b<=this.currSlideId&&this.currSlideId++;this.ev.trigger("rsOnAppendSlide",
[d,b]);this._f4(b);b===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(a){var b=this.slides[a];b&&(b.holder&&b.holder.remove(),a<this.currSlideId&&this.currSlideId--,this.slides.splice(a,1),this.slidesJQ.splice(a,1),this.ev.trigger("rsOnRemoveSlide",[a]),this._f4(a),a===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(a){var b=this;a=b.numSlides;a=0>=b._u?0:Math.floor(b._u/a);b.numSlides=b.slides.length;0===b.numSlides?(b.currSlideId=b._d1=b._u=
0,b.currSlide=b._g4=null):b._u=a*b.numSlides+b.currSlideId;for(a=0;a<b.numSlides;a++)b.slides[a].id=a;b.currSlide=b.slides[b.currSlideId];b._r1=b.slidesJQ[b.currSlideId];b.currSlideId>=b.numSlides?b.goTo(b.numSlides-1):0>b.currSlideId&&b.goTo(0);b._t();b._l&&b._p1.css(b._g+b._u1,"0ms");b._h4&&clearTimeout(b._h4);b._h4=setTimeout(function(){b._l&&b._p3((-b._u-b._d1)*b._w);b._n2();b._l||b._r1.css({display:"block",opacity:1})},14);b.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?
this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(a){this._m2("next",this.st.transitionSpeed,!0,!a)},prev:function(a){this._m2("prev",this.st.transitionSpeed,!0,!a)},_m2:function(a,b,d,f,h){var k=this,m,l,n;k.ev.trigger("rsBeforeMove",[a,f]);n="next"===a?k.currSlideId+1:"prev"===
a?k.currSlideId-1:a=parseInt(a,10);if(!k._z){if(0>n){k._i4("left",!f);return}if(n>=k.numSlides){k._i4("right",!f);return}}k._r2&&(k._u2(!0),d=!1);l=n-k.currSlideId;n=k._o2=k.currSlideId;var p=k.currSlideId+l;f=k._u;var g;k._z?(p=k._n2(!1,p),f+=l):f=p;k._o=p;k._g4=k.slidesJQ[k.currSlideId];k._u=f;k.currSlideId=k._o;k.currSlide=k.slides[k.currSlideId];k._r1=k.slidesJQ[k.currSlideId];var p=k.st.slidesDiff,u=Boolean(0<l);l=Math.abs(l);var r=Math.floor(n/k._y),t=Math.floor((n+(u?p:-p))/k._y),r=(u?Math.max(r,
t):Math.min(r,t))*k._y+(u?k._y-1:0);r>k.numSlides-1?r=k.numSlides-1:0>r&&(r=0);n=u?r-n:n-r;n>k._y&&(n=k._y);if(l>n+p)for(k._d1+=(l-(n+p))*(u?-1:1),b*=1.4,n=0;n<k.numSlides;n++)k.slides[n].positionSet=!1;k._c=b;k._n2(!0);h||(g=!0);m=(-f-k._d1)*k._w;g?setTimeout(function(){k._j4=!1;k._x3(m,a,!1,d);k.ev.trigger("rsOnUpdateNav")},0):(k._x3(m,a,!1,d),k.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display",
"block"),this._d2.css("display","block"),this._z||this.st.loopRewind||(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(c,b,d,f,h){function k(){var a;l&&(a=l.data("rsTimeout"))&&(l!==n&&l.css({opacity:0,display:"none",zIndex:0}),clearTimeout(a),l.data("rsTimeout",""));if(a=n.data("rsTimeout"))clearTimeout(a),n.data("rsTimeout",
"")}var m=this,l,n,p={};isNaN(m._c)&&(m._c=400);m._p=m._h3=c;m.ev.trigger("rsBeforeAnimStart");m._e?m._l?(m._c=parseInt(m._c,10),d=m._g+m._v1,p[m._g+m._u1]=m._c+"ms",p[d]=f?a.rsCSS3Easing[m.st.easeInOut]:a.rsCSS3Easing[m.st.easeOut],m._p1.css(p),f||!m.hasTouch?setTimeout(function(){m._p3(c)},5):m._p3(c)):(m._c=m.st.transitionSpeed,l=m._g4,n=m._r1,n.data("rsTimeout")&&n.css("opacity",0),k(),l&&l.data("rsTimeout",setTimeout(function(){p[m._g+m._u1]="0ms";p.zIndex=0;p.display="none";l.data("rsTimeout",
"");l.css(p);setTimeout(function(){l.css("opacity",0)},16)},m._c+60)),p.display="block",p.zIndex=m._m,p.opacity=0,p[m._g+m._u1]="0ms",p[m._g+m._v1]=a.rsCSS3Easing[m.st.easeInOut],n.css(p),n.data("rsTimeout",setTimeout(function(){n.css(m._g+m._u1,m._c+"ms");n.data("rsTimeout",setTimeout(function(){n.css("opacity",1);n.data("rsTimeout","")},20))},20))):m._l?(p[m._h?m._x1:m._w1]=c+"px",m._p1.animate(p,m._c,f?m.st.easeInOut:m.st.easeOut)):(l=m._g4,n=m._r1,n.stop(!0,!0).css({opacity:0,display:"block",
zIndex:m._m}),m._c=m.st.transitionSpeed,n.animate({opacity:1},m._c,m.st.easeInOut),k(),l&&l.data("rsTimeout",setTimeout(function(){l.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},m._c+60)));m._r2=!0;m.loadingTimeout&&clearTimeout(m.loadingTimeout);m.loadingTimeout=h?setTimeout(function(){m.loadingTimeout=null;h.call()},m._c+60):setTimeout(function(){m.loadingTimeout=null;m._k4(b)},m._c+60)},_u2:function(a){this._r2=!1;clearTimeout(this.loadingTimeout);if(this._l)if(!this._e)this._p1.stop(!0),
this._p=parseInt(this._p1.css(this._h?this._x1:this._w1),10);else{if(!a){a=this._p;var b=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms");a!==b&&this._p3(b)}}else 20<this._m?this._m=10:this._m++},_l4:function(){var a=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),b=0===a[0].indexOf("matrix3d");return parseInt(a[this._h?b?12:4:b?13:5],10)},_m4:function(a,b){return this._e?this._y1+(b?a+this._z1+0:0+this._z1+a)+this._a2:
a},_k4:function(a){this._l||(this._r1.css("z-index",0),this._m=10);this._r2=!1;this.staticSlideId=this.currSlideId;this._n2();this._n4=!1;this.ev.trigger("rsAfterSlideChange")},_i4:function(a,b){var d=this,f=(-d._u-d._d1)*d._w;if(0!==d.numSlides&&!d._r2)if(d.st.loopRewind)d.goTo("left"===a?d.numSlides-1:0,b);else if(d._l){d._c=200;var h=function(){d._r2=!1};d._x3(f+("left"===a?30:-30),"",!1,!0,function(){d._r2=!1;d._x3(f,"",!1,!0,h)})}},_q2:function(c,b){if(!c.isRendered){var d=c.content,f="rsMainSlideImage",
h,k=a.isFunction(this.st.imageAlignCenter)?this.st.imageAlignCenter(c):this.st.imageAlignCenter,m=a.isFunction(this.st.imageScaleMode)?this.st.imageScaleMode(c):this.st.imageScaleMode,l;c.videoURL&&(f="rsVideoContainer","fill"!==m?h=!0:(l=d,l.hasClass(f)||(l=l.find("."+f)),l.css({width:"100%",height:"100%"}),f="rsMainSlideImage"));d.hasClass(f)||(d=d.find("."+f));if(d){var n=c.iW,p=c.iH;c.isRendered=!0;if("none"!==m||k){f="fill"!==m?this._d4:0;l=this._b4-2*f;var g=this._c4-2*f,u,r,t={};"fit-if-smaller"===
m&&(n>l||p>g)&&(m="fit");if("fill"===m||"fit"===m)u=l/n,r=g/p,u="fill"==m?u>r?u:r:"fit"==m?u<r?u:r:1,n=Math.ceil(n*u,10),p=Math.ceil(p*u,10);"none"!==m&&(t.width=n,t.height=p,h&&d.find(".rsImg").css({width:"100%",height:"100%"}));k&&(t.marginLeft=Math.floor((l-n)/2)+f,t.marginTop=Math.floor((g-p)/2)+f);d.css(t)}}}}};a.rsProto=d.prototype;a.fn.royalSlider=function(c){var b=arguments;return this.each(function(){var e=a(this);if("object"!==typeof c&&c){if((e=e.data("royalSlider"))&&e[c])return e[c].apply(e,
Array.prototype.slice.call(b,1))}else e.data("royalSlider")||e.data("royalSlider",new d(e,c))})};a.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,
addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2};a.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"};a.extend(jQuery.easing,{easeInOutSine:function(a,
b,d,f,h){return-f/2*(Math.cos(Math.PI*b/h)-1)+d},easeOutSine:function(a,b,d,f,h){return f*Math.sin(b/h*(Math.PI/2))+d},easeOutCubic:function(a,b,d,f,h){return f*((b=b/h-1)*b*b+1)+d}})})(jQuery,window);
(function(a){a.extend(a.rsProto,{_i5:function(){var d=this;"bullets"===d.st.controlNavigation&&(d.ev.one("rsAfterPropsSetup",function(){d._j5=!0;d.slider.addClass("rsWithBullets");for(var c='<div class="rsNav rsBullets">',b=0;b<d.numSlides;b++)c+='<div class="rsNavItem rsBullet"><span></span></div>';d._k5=c=a(c+"</div>");d._l5=c.appendTo(d.slider).children();d._k5.on("click.rs",".rsNavItem",function(b){d._m5||d.goTo(a(this).index())})}),d.ev.on("rsOnAppendSlide",function(a,b,e){e>=d.numSlides?d._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):
d._l5.eq(e).before('<div class="rsNavItem rsBullet"><span></span></div>');d._l5=d._k5.children()}),d.ev.on("rsOnRemoveSlide",function(a,b){var e=d._l5.eq(b);e&&e.length&&(e.remove(),d._l5=d._k5.children())}),d.ev.on("rsOnUpdateNav",function(){var a=d.currSlideId;d._n5&&d._n5.removeClass("rsNavSelected");a=d._l5.eq(a);a.addClass("rsNavSelected");d._n5=a}))}});a.rsModules.bullets=a.rsProto._i5})(jQuery);
(function(a){a.extend(a.rsProto,{_h6:function(){var d=this;"thumbnails"===d.st.controlNavigation&&(d._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},d.st.thumbs=a.extend({},d._i6,d.st.thumbs),d._j6=!0,!1===d.st.thumbs.firstMargin?d.st.thumbs.firstMargin=0:!0===d.st.thumbs.firstMargin&&(d.st.thumbs.firstMargin=
d.st.thumbs.spacing),d.ev.on("rsBeforeParseNode",function(d,b,e){b=a(b);e.thumbnail=b.find(".rsTmb").remove();e.thumbnail.length?e.thumbnail=a(document.createElement("div")).append(e.thumbnail).html():(e.thumbnail=b.attr("data-rsTmb"),e.thumbnail||(e.thumbnail=b.find(".rsImg").attr("data-rsTmb")),e.thumbnail=e.thumbnail?'<img src="'+e.thumbnail+'"/>':"")}),d.ev.one("rsAfterPropsSetup",function(){d._k6()}),d._n5=null,d.ev.on("rsOnUpdateNav",function(){var c=a(d._l5[d.currSlideId]);c!==d._n5&&(d._n5&&
(d._n5.removeClass("rsNavSelected"),d._n5=null),d._l6&&d._m6(d.currSlideId),d._n5=c.addClass("rsNavSelected"))}),d.ev.on("rsOnAppendSlide",function(a,b,e){a="<div"+d._n6+' class="rsNavItem rsThumb">'+d._o6+b.thumbnail+"</div>";d._e&&d._s3.css(d._g+"transition-duration","0ms");e>=d.numSlides?d._s3.append(a):d._l5.eq(e).before(a);d._l5=d._s3.children();d.updateThumbsSize(!0)}),d.ev.on("rsOnRemoveSlide",function(a,b){var e=d._l5.eq(b);e&&(d._e&&d._s3.css(d._g+"transition-duration","0ms"),e.remove(),
d._l5=d._s3.children(),d.updateThumbsSize(!0))}))},_k6:function(){var d=this,c="rsThumbs",b=d.st.thumbs,e="",f,h,k=b.spacing;d._j5=!0;d._e3="vertical"===b.orientation?!1:!0;d._n6=f=k?' style="margin-'+(d._e3?"right":"bottom")+":"+k+'px;"':"";d._i3=0;d._p6=!1;d._m5=!1;d._l6=!1;d._q6=b.arrows&&b.navigation;h=d._e3?"Hor":"Ver";d.slider.addClass("rsWithThumbs rsWithThumbs"+h);e+='<div class="rsNav rsThumbs rsThumbs'+h+'"><div class="'+c+'Container">';d._o6=b.appendSpan?'<span class="thumbIco"></span>':
"";for(var m=0;m<d.numSlides;m++)h=d.slides[m],e+="<div"+f+' class="rsNavItem rsThumb">'+h.thumbnail+d._o6+"</div>";e=a(e+"</div></div>");f={};b.paddingTop&&(f[d._e3?"paddingTop":"paddingLeft"]=b.paddingTop);b.paddingBottom&&(f[d._e3?"paddingBottom":"paddingRight"]=b.paddingBottom);e.css(f);d._s3=a(e).find("."+c+"Container");d._q6&&(c+="Arrow",b.arrowLeft?d._r6=b.arrowLeft:(d._r6=a('<div class="'+c+" "+c+'Left"><div class="'+c+'Icn"></div></div>'),e.append(d._r6)),b.arrowRight?d._s6=b.arrowRight:
(d._s6=a('<div class="'+c+" "+c+'Right"><div class="'+c+'Icn"></div></div>'),e.append(d._s6)),d._r6.click(function(){var a=(Math.floor(d._i3/d._t6)+d._u6)*d._t6+d.st.thumbs.firstMargin;d._a4(a>d._n3?d._n3:a)}),d._s6.click(function(){var a=(Math.floor(d._i3/d._t6)-d._u6)*d._t6+d.st.thumbs.firstMargin;d._a4(a<d._o3?d._o3:a)}),b.arrowsAutoHide&&!d.hasTouch&&(d._r6.css("opacity",0),d._s6.css("opacity",0),e.one("mousemove.rsarrowshover",function(){d._l6&&(d._r6.css("opacity",1),d._s6.css("opacity",1))}),
e.hover(function(){d._l6&&(d._r6.css("opacity",1),d._s6.css("opacity",1))},function(){d._l6&&(d._r6.css("opacity",0),d._s6.css("opacity",0))})));d._k5=e;d._l5=d._s3.children();d.msEnabled&&d.st.thumbs.navigation&&d._s3.css("-ms-touch-action",d._e3?"pan-y":"pan-x");d.slider.append(e);d._w3=!0;d._v6=k;b.navigation&&d._e&&d._s3.css(d._g+"transition-property",d._g+"transform");d._k5.on("click.rs",".rsNavItem",function(b){d._m5||d.goTo(a(this).index())});d.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",
function(){d._w6=d._e3?d._c4:d._b4;d.updateThumbsSize(!0)});d.ev.off("rsAutoHeightChange.thumbs").on("rsAutoHeightChange.thumbs",function(a,b){d.updateThumbsSize(!0,b)})},updateThumbsSize:function(a,c){var b=this,e=b._l5.first(),f={},h=b._l5.length;b._t6=(b._e3?e.outerWidth():e.outerHeight())+b._v6;b._y3=h*b._t6-b._v6;f[b._e3?"width":"height"]=b._y3+b._v6;b._z3=b._e3?b._k5.width():void 0!==c?c:b._k5.height();b._w3&&(b.isFullscreen||b.st.thumbs.fitInViewport)&&(b._e3?b._c4=b._w6-b._k5.outerHeight():
b._b4=b._w6-b._k5.outerWidth());b._z3&&(b._o3=-(b._y3-b._z3)-b.st.thumbs.firstMargin,b._n3=b.st.thumbs.firstMargin,b._u6=Math.floor(b._z3/b._t6),b._y3<b._z3?(b.st.thumbs.autoCenter?b._q3((b._z3-b._y3)/2):b._q3(b._n3),b.st.thumbs.arrows&&b._r6&&(b._r6.addClass("rsThumbsArrowDisabled"),b._s6.addClass("rsThumbsArrowDisabled")),b._l6=!1,b._m5=!1,b._k5.off(b._j1)):b.st.thumbs.navigation&&!b._l6&&(b._l6=!0,!b.hasTouch&&b.st.thumbs.drag||b.hasTouch&&b.st.thumbs.touch)&&(b._m5=!0,b._k5.on(b._j1,function(a){b._g2(a,
!0)})),b._s3.css(f),a&&c&&b._m6(b.currSlideId,!0))},setThumbsOrientation:function(a,c){this._w3&&(this.st.thumbs.orientation=a,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._j1),c||this.updateSliderSize(!0))},_q3:function(a){this._i3=a;this._e?this._s3.css(this._x1,this._y1+(this._e3?a+this._z1+0:0+this._z1+a)+this._a2):this._s3.css(this._e3?this._x1:this._w1,a)},_a4:function(d,c,b,e,f){var h=this;if(h._l6){c||(c=h.st.thumbs.transitionSpeed);
h._i3=d;h._x6&&clearTimeout(h._x6);h._p6&&(h._e||h._s3.stop(),b=!0);var k={};h._p6=!0;h._e?(k[h._g+"transition-duration"]=c+"ms",k[h._g+"transition-timing-function"]=b?a.rsCSS3Easing[h.st.easeOut]:a.rsCSS3Easing[h.st.easeInOut],h._s3.css(k),h._q3(d)):(k[h._e3?h._x1:h._w1]=d+"px",h._s3.animate(k,c,b?"easeOutCubic":h.st.easeInOut));e&&(h._i3=e);h._y6();h._x6=setTimeout(function(){h._p6=!1;f&&(h._a4(e,f,!0),f=null)},c)}},_y6:function(){this._q6&&(this._i3===this._n3?this._r6.addClass("rsThumbsArrowDisabled"):
this._r6.removeClass("rsThumbsArrowDisabled"),this._i3===this._o3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(a,c){var b=0,e,f=a*this._t6+2*this._t6-this._v6+this._n3,h=Math.floor(this._i3/this._t6);this._l6&&(this._j6&&(c=!0,this._j6=!1),f+this._i3>this._z3?(a===this.numSlides-1&&(b=1),h=-a+this._u6-2+b,e=h*this._t6+this._z3%this._t6+this._v6-this._n3):0!==a?(a-1)*this._t6<=-this._i3+this._n3&&a-1<=this.numSlides-this._u6&&(e=(-a+1)*this._t6+
this._n3):e=this._n3,e!==this._i3&&(b=void 0===e?this._i3:e,b>this._n3?this._q3(this._n3):b<this._o3?this._q3(this._o3):void 0!==e&&(c?this._q3(e):this._a4(e))),this._y6())}});a.rsModules.thumbnails=a.rsProto._h6})(jQuery);
(function(a){a.extend(a.rsProto,{_f6:function(){var d=this;"tabs"===d.st.controlNavigation&&(d.ev.on("rsBeforeParseNode",function(d,b,e){b=a(b);e.thumbnail=b.find(".rsTmb").remove();e.thumbnail.length?e.thumbnail=a(document.createElement("div")).append(e.thumbnail).html():(e.thumbnail=b.attr("data-rsTmb"),e.thumbnail||(e.thumbnail=b.find(".rsImg").attr("data-rsTmb")),e.thumbnail=e.thumbnail?'<img src="'+e.thumbnail+'"/>':"")}),d.ev.one("rsAfterPropsSetup",function(){d._g6()}),d.ev.on("rsOnAppendSlide",
function(a,b,e){e>=d.numSlides?d._k5.append('<div class="rsNavItem rsTab">'+b.thumbnail+"</div>"):d._l5.eq(e).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>");d._l5=d._k5.children()}),d.ev.on("rsOnRemoveSlide",function(a,b){var e=d._l5.eq(b);e&&(e.remove(),d._l5=d._k5.children())}),d.ev.on("rsOnUpdateNav",function(){var a=d.currSlideId;d._n5&&d._n5.removeClass("rsNavSelected");a=d._l5.eq(a);a.addClass("rsNavSelected");d._n5=a}))},_g6:function(){var d=this,c;d._j5=!0;c='<div class="rsNav rsTabs">';
for(var b=0;b<d.numSlides;b++)c+='<div class="rsNavItem rsTab">'+d.slides[b].thumbnail+"</div>";c=a(c+"</div>");d._k5=c;d._l5=c.children(".rsNavItem");d.slider.append(c);d._k5.click(function(b){b=a(b.target).closest(".rsNavItem");b.length&&d.goTo(b.index())})}});a.rsModules.tabs=a.rsProto._f6})(jQuery);
(function(a){a.extend(a.rsProto,{_q5:function(){var d=this;d._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0};d.st.fullscreen=a.extend({},d._r5,d.st.fullscreen);if(d.st.fullscreen.enabled)d.ev.one("rsBeforeSizeSet",function(){d._s5()})},_s5:function(){var d=this;d._t5=!d.st.keyboardNavEnabled&&d.st.fullscreen.keyboardNav;if(d.st.fullscreen.nativeFS){var c={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",
prefix:""},b=["webkit","moz","o","ms","khtml"];if("undefined"!=typeof document.cancelFullScreen)c.supportsFullScreen=!0;else for(var e=0,f=b.length;e<f;e++)if(c.prefix=b[e],"undefined"!=typeof document[c.prefix+"CancelFullScreen"]){c.supportsFullScreen=!0;break}c.supportsFullScreen?(d.nativeFS=!0,c.fullScreenEventName=c.prefix+"fullscreenchange"+d.ns,c.isFullScreen=function(){switch(this.prefix){case "":return document.fullScreen;case "webkit":return document.webkitIsFullScreen;default:return document[this.prefix+
"FullScreen"]}},c.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},c.cancelFullScreen=function(a){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()},d._u5=c):d._u5=!1}d.st.fullscreen.buttonFS&&(d._v5=a('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(d._o1).on("click.rs",function(){d.isFullscreen?d.exitFullscreen():d.enterFullscreen()}))},enterFullscreen:function(d){var c=
this;if(c._u5)if(d)c._u5.requestFullScreen(a("html")[0]);else{c._b.on(c._u5.fullScreenEventName,function(a){c._u5.isFullScreen()?c.enterFullscreen(!0):c.exitFullscreen(!0)});c._u5.requestFullScreen(a("html")[0]);return}if(!c._w5){c._w5=!0;c._b.on("keyup"+c.ns+"fullscreen",function(a){27===a.keyCode&&c.exitFullscreen()});c._t5&&c._b2();d=a(window);c._x5=d.scrollTop();c._y5=d.scrollLeft();c._z5=a("html").attr("style");c._a6=a("body").attr("style");c._b6=c.slider.attr("style");a("body, html").css({overflow:"hidden",
height:"100%",width:"100%",margin:"0",padding:"0"});c.slider.addClass("rsFullscreen");var b;for(b=0;b<c.numSlides;b++)d=c.slides[b],d.isRendered=!1,d.bigImage&&(d.isBig=!0,d.isMedLoaded=d.isLoaded,d.isMedLoading=d.isLoading,d.medImage=d.image,d.medIW=d.iW,d.medIH=d.iH,d.slideId=-99,d.bigImage!==d.medImage&&(d.sizeType="big"),d.isLoaded=d.isBigLoaded,d.isLoading=!1,d.image=d.bigImage,d.images[0]=d.bigImage,d.iW=d.bigIW,d.iH=d.bigIH,d.isAppended=d.contentAdded=!1,c._c6(d));c.isFullscreen=!0;c._w5=!1;
c.updateSliderSize();c.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(d){var c=this;if(c._u5){if(!d){c._u5.cancelFullScreen(a("html")[0]);return}c._b.off(c._u5.fullScreenEventName)}if(!c._w5){c._w5=!0;c._b.off("keyup"+c.ns+"fullscreen");c._t5&&c._b.off("keydown"+c.ns);a("html").attr("style",c._z5||"");a("body").attr("style",c._a6||"");var b;for(b=0;b<c.numSlides;b++)d=c.slides[b],d.isRendered=!1,d.bigImage&&(d.isBig=!1,d.slideId=-99,d.isBigLoaded=d.isLoaded,d.isBigLoading=d.isLoading,d.bigImage=
d.image,d.bigIW=d.iW,d.bigIH=d.iH,d.isLoaded=d.isMedLoaded,d.isLoading=!1,d.image=d.medImage,d.images[0]=d.medImage,d.iW=d.medIW,d.iH=d.medIH,d.isAppended=d.contentAdded=!1,c._c6(d,!0),d.bigImage!==d.medImage&&(d.sizeType="med"));c.isFullscreen=!1;d=a(window);d.scrollTop(c._x5);d.scrollLeft(c._y5);c._w5=!1;c.slider.removeClass("rsFullscreen");c.updateSliderSize();setTimeout(function(){c.updateSliderSize()},1);c.ev.trigger("rsExitFullscreen")}},_c6:function(d,c){var b=d.isLoaded||d.isLoading?'<img class="rsImg rsMainSlideImage" src="'+
d.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+d.image+'"></a>';d.content.hasClass("rsImg")?d.content=a(b):d.content.find(".rsImg").eq(0).replaceWith(b);d.isLoaded||d.isLoading||!d.holder||d.holder.html(d.content)}});a.rsModules.fullscreen=a.rsProto._q5})(jQuery);
(function(a){a.extend(a.rsProto,{_x4:function(){var d=this,c;d._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2E3};!d.st.autoPlay&&d.st.autoplay&&(d.st.autoPlay=d.st.autoplay);d.st.autoPlay=a.extend({},d._y4,d.st.autoPlay);d.st.autoPlay.enabled&&(d.ev.on("rsBeforeParseNode",function(b,d,f){d=a(d);if(c=d.attr("data-rsDelay"))f.customDelay=parseInt(c,10)}),d.ev.one("rsAfterInit",function(){d._z4()}),d.ev.on("rsBeforeDestroy",function(){d.stopAutoPlay();d.slider.off("mouseenter mouseleave");a(window).off("blur"+
d.ns+" focus"+d.ns)}))},_z4:function(){var d=this;d.startAutoPlay();d.ev.on("rsAfterContentSet",function(a,b){d._l2||d._r2||!d._a5||b!==d.currSlide||d._b5()});d.ev.on("rsDragRelease",function(){d._a5&&d._c5&&(d._c5=!1,d._b5())});d.ev.on("rsAfterSlideChange",function(){d._a5&&d._c5&&(d._c5=!1,d.currSlide.isLoaded&&d._b5())});d.ev.on("rsDragStart",function(){d._a5&&(d.st.autoPlay.stopAtAction?d.stopAutoPlay():(d._c5=!0,d._d5()))});d.ev.on("rsBeforeMove",function(a,b,e){d._a5&&(e&&d.st.autoPlay.stopAtAction?
d.stopAutoPlay():(d._c5=!0,d._d5()))});d._e5=!1;d.ev.on("rsVideoStop",function(){d._a5&&(d._e5=!1,d._b5())});d.ev.on("rsVideoPlay",function(){d._a5&&(d._c5=!1,d._d5(),d._e5=!0)});a(window).on("blur"+d.ns,function(){d._a5&&(d._c5=!0,d._d5())}).on("focus"+d.ns,function(){d._a5&&d._c5&&(d._c5=!1,d._b5())});d.st.autoPlay.pauseOnHover&&(d._f5=!1,d.slider.hover(function(){d._a5&&(d._c5=!1,d._d5(),d._f5=!0)},function(){d._a5&&(d._f5=!1,d._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():
this.startAutoPlay()},startAutoPlay:function(){this._a5=!0;this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1;this._d5()},_b5:function(){var a=this;a._f5||a._e5||(a._g5=!0,a._h5&&clearTimeout(a._h5),a._h5=setTimeout(function(){var c;a._z||a.st.loopRewind||(c=!0,a.st.loopRewind=!0);a.next(!0);c&&(a.st.loopRewind=!1)},a.currSlide.customDelay?a.currSlide.customDelay:a.st.autoPlay.delay))},_d5:function(){this._f5||this._e5||(this._g5=!1,this._h5&&(clearTimeout(this._h5),
this._h5=null))}});a.rsModules.autoplay=a.rsProto._x4})(jQuery);
(function(a){a.extend(a.rsProto,{_z6:function(){var d=this;d._a7={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?rel=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&portrait=0&autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'};d.st.video=a.extend({},d._a7,
d.st.video);d.ev.on("rsBeforeSizeSet",function(){d._b7&&setTimeout(function(){var a=d._r1,a=a.hasClass("rsVideoContainer")?a:a.find(".rsVideoContainer");d._c7&&d._c7.css({width:a.width(),height:a.height()})},32)});var c=d._a.mozilla;d.ev.on("rsAfterParseNode",function(b,e,f){b=a(e);if(f.videoURL){d.st.video.disableCSS3inFF&&c&&(d._e=d._f=!1);e=a('<div class="rsVideoContainer"></div>');var h=a('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');b.hasClass("rsImg")?
f.content=e.append(b).append(h):f.content.find(".rsImg").wrap(e).after(h)}});d.ev.on("rsAfterSlideChange",function(){d.stopVideo()})},toggleVideo:function(){return this._b7?this.stopVideo():this.playVideo()},playVideo:function(){var d=this;if(!d._b7){var c=d.currSlide;if(!c.videoURL)return!1;d._d7=c;var b=d._e7=c.content,c=c.videoURL,e,f;c.match(/youtu\.be/i)||c.match(/youtube\.com/i)?(f=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(f=c.match(f))&&11==f[7].length&&
(e=f[7]),void 0!==e&&(d._c7=d.st.video.youTubeCode.replace("%id%",e))):c.match(/vimeo\.com/i)&&(f=/(www\.)?vimeo.com\/(\d+)($|\/)/,(f=c.match(f))&&(e=f[2]),void 0!==e&&(d._c7=d.st.video.vimeoCode.replace("%id%",e)));d.videoObj=a(d._c7);d.ev.trigger("rsOnCreateVideoElement",[c]);d.videoObj.length&&(d._c7=a('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),d._c7.find(".rsPreloader").after(d.videoObj),b=b.hasClass("rsVideoContainer")?
b:b.find(".rsVideoContainer"),d._c7.css({width:b.width(),height:b.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(a){d.stopVideo();a.preventDefault();a.stopPropagation();return!1}),b.append(d._c7),d.isIPAD&&b.addClass("rsIOSVideo"),d._f7(!1),setTimeout(function(){d._c7.addClass("rsVideoActive")},10),d.ev.trigger("rsVideoPlay"),d._b7=!0);return!0}return!1},stopVideo:function(){var a=this;return a._b7?(a.isIPAD&&a.slider.find(".rsCloseVideoBtn").remove(),a._f7(!0),setTimeout(function(){a.ev.trigger("rsOnDestroyVideoElement",
[a.videoObj]);var c=a._c7.find("iframe");if(c.length)try{c.attr("src","")}catch(b){}a._c7.remove();a._c7=null},16),a.ev.trigger("rsVideoStop"),a._b7=!1,!0):!1},_f7:function(a,c){var b=[],e=this.st.video;e.autoHideArrows&&(this._c2&&(b.push(this._c2,this._d2),this._e2=!a),this._v5&&b.push(this._v5));e.autoHideControlNav&&this._k5&&b.push(this._k5);e.autoHideBlocks&&this._d7.animBlocks&&b.push(this._d7.animBlocks);e.autoHideCaption&&this.globalCaption&&b.push(this.globalCaption);this.slider[a?"removeClass":
"addClass"]("rsVideoPlaying");if(b.length)for(e=0;e<b.length;e++)a?b[e].removeClass("rsHidden"):b[e].addClass("rsHidden")}});a.rsModules.video=a.rsProto._z6})(jQuery);
(function(a){a.extend(a.rsProto,{_p4:function(){function d(){var a=c.currSlide;if(c.currSlide&&c.currSlide.isLoaded&&c._t4!==a){if(0<c._s4.length){for(b=0;b<c._s4.length;b++)clearTimeout(c._s4[b]);c._s4=[]}if(0<c._r4.length){var d;for(b=0;b<c._r4.length;b++)if(d=c._r4[b])c._e?(d.block.css(c._g+c._u1,"0s"),d.block.css(d.css)):d.block.stop(!0).css(d.css),c._t4=null,a.animBlocksDisplayed=!1;c._r4=[]}a.animBlocks&&(a.animBlocksDisplayed=!0,c._t4=a,c._u4(a.animBlocks))}}var c=this,b;c._q4={fadeEffect:!0,
moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200};c.st.block=a.extend({},c._q4,c.st.block);c._r4=[];c._s4=[];c.ev.on("rsAfterInit",function(){d()});c.ev.on("rsBeforeParseNode",function(b,c,d){c=a(c);d.animBlocks=c.find(".rsABlock").css("display","none");d.animBlocks.length||(c.hasClass("rsABlock")?d.animBlocks=c.css("display","none"):d.animBlocks=!1)});c.ev.on("rsAfterContentSet",function(a,b){b.id===c.slides[c.currSlideId].id&&setTimeout(function(){d()},c.st.fadeinLoadedSlide?
300:0)});c.ev.on("rsAfterSlideChange",function(){d()})},_v4:function(a,c){setTimeout(function(){a.css(c)},6)},_u4:function(d){var c=this,b,e,f,h,k,m,l;c._s4=[];d.each(function(d){b=a(this);e={};f={};h=null;var p=b.attr("data-move-offset"),p=p?parseInt(p,10):c.st.block.moveOffset;if(0<p&&((m=b.data("move-effect"))?(m=m.toLowerCase(),"none"===m?m=!1:"left"!==m&&"top"!==m&&"bottom"!==m&&"right"!==m&&(m=c.st.block.moveEffect,"none"===m&&(m=!1))):m=c.st.block.moveEffect,m&&"none"!==m)){var g;g="right"===
m||"left"===m?!0:!1;var u;l=!1;c._e?(u=0,k=c._x1):(g?isNaN(parseInt(b.css("right"),10))?k="left":(k="right",l=!0):isNaN(parseInt(b.css("bottom"),10))?k="top":(k="bottom",l=!0),k="margin-"+k,l&&(p=-p),c._e?u=parseInt(b.css(k),10):(u=b.data("rs-start-move-prop"),void 0===u&&(u=parseInt(b.css(k),10),isNaN(u)&&(u=0),b.data("rs-start-move-prop",u))));f[k]=c._m4("top"===m||"left"===m?u-p:u+p,g);e[k]=c._m4(u,g)}p=b.attr("data-fade-effect");if(!p)p=c.st.block.fadeEffect;else if("none"===p.toLowerCase()||
"false"===p.toLowerCase())p=!1;p&&(f.opacity=0,e.opacity=1);if(p||m)h={},h.hasFade=Boolean(p),Boolean(m)&&(h.moveProp=k,h.hasMove=!0),h.speed=b.data("speed"),isNaN(h.speed)&&(h.speed=c.st.block.speed),h.easing=b.data("easing"),h.easing||(h.easing=c.st.block.easing),h.css3Easing=a.rsCSS3Easing[h.easing],h.delay=b.data("delay"),isNaN(h.delay)&&(h.delay=c.st.block.delay*d);p={};c._e&&(p[c._g+c._u1]="0ms");p.moveProp=e.moveProp;p.opacity=e.opacity;p.display="none";c._r4.push({block:b,css:p});c._v4(b,
f);c._s4.push(setTimeout(function(a,b,d,e){return function(){a.css("display","block");if(d){var f={};if(c._e){var g="";d.hasMove&&(g+=d.moveProp);d.hasFade&&(d.hasMove&&(g+=", "),g+="opacity");f[c._g+c._t1]=g;f[c._g+c._u1]=d.speed+"ms";f[c._g+c._v1]=d.css3Easing;a.css(f);setTimeout(function(){a.css(b)},24)}else setTimeout(function(){a.animate(b,d.speed,d.easing)},16)}delete c._s4[e]}}(b,e,h,d),6>=h.delay?12:h.delay))})}});a.rsModules.animatedBlocks=a.rsProto._p4})(jQuery);
(function(a){a.extend(a.rsProto,{_w4:function(){var a=this;if(a.st.autoHeight){var c,b,e,f=!0,h=function(h){e=a.slides[a.currSlideId];(c=e.holder)&&(b=c.height())&&void 0!==b&&b>(a.st.minAutoHeight||30)&&(a._c4=b,a._e||!h?a._e1.css("height",b):a._e1.stop(!0,!0).animate({height:b},a.st.transitionSpeed),a.ev.trigger("rsAutoHeightChange",b),f&&(a._e&&setTimeout(function(){a._e1.css(a._g+"transition","height "+a.st.transitionSpeed+"ms ease-in-out")},16),f=!1))};a.ev.on("rsMaybeSizeReady.rsAutoHeight",
function(a,b){e===b&&h()});a.ev.on("rsAfterContentSet.rsAutoHeight",function(a,b){e===b&&h()});a.slider.addClass("rsAutoHeight");a.ev.one("rsAfterInit",function(){setTimeout(function(){h(!1);setTimeout(function(){a.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)});a.ev.on("rsBeforeAnimStart",function(){h(!0)});a.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){h(!1)},16)})}}});a.rsModules.autoHeight=a.rsProto._w4})(jQuery);
(function(a){a.extend(a.rsProto,{_d6:function(){var d=this;d.st.globalCaption&&(d.ev.on("rsAfterInit",function(){d.globalCaption=a('<div class="rsGCaption"></div>').appendTo(d.st.globalCaptionInside?d._e1:d.slider);d.globalCaption.html(d.currSlide.caption||"")}),d.ev.on("rsBeforeAnimStart",function(){d.globalCaption.html(d.currSlide.caption||"")}))}});a.rsModules.globalCaption=a.rsProto._d6})(jQuery);
(function(a){a.rsProto._o4=function(){var a,c=this;if(c.st.addActiveClass)c.ev.on("rsOnUpdateNav",function(){a&&clearTimeout(a);a=setTimeout(function(){c._g4&&c._g4.removeClass("rsActiveSlide");c._r1&&c._r1.addClass("rsActiveSlide");a=null},50)})};a.rsModules.activeClass=a.rsProto._o4})(jQuery);
(function(a){a.extend(a.rsProto,{_o5:function(){var d=this,c,b,e;d._p5={enabled:!1,change:!1,prefix:""};d.st.deeplinking=a.extend({},d._p5,d.st.deeplinking);if(d.st.deeplinking.enabled){var f=d.st.deeplinking.change,h=d.st.deeplinking.prefix,k="#"+h,m=function(){var a=window.location.hash;return a&&0<a.indexOf(h)&&(a=parseInt(a.substring(k.length),10),0<=a)?a-1:-1},l=m();-1!==l&&(d.st.startSlideId=l);f&&(a(window).on("hashchange"+d.ns,function(a){c||(a=m(),0>a||(a>d.numSlides-1&&(a=d.numSlides-1),
d.goTo(a)))}),d.ev.on("rsBeforeAnimStart",function(){b&&clearTimeout(b);e&&clearTimeout(e)}),d.ev.on("rsAfterSlideChange",function(){b&&clearTimeout(b);e&&clearTimeout(e);e=setTimeout(function(){c=!0;window.location.replace((""+window.location).split("#")[0]+k+(d.currSlideId+1));b=setTimeout(function(){c=!1;b=null},60)},400)}));d.ev.on("rsBeforeDestroy",function(){b=e=null;f&&a(window).off("hashchange"+d.ns)})}}});a.rsModules.deeplinking=a.rsProto._o5})(jQuery);
(function(a,d,c){function b(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var e=document,f,h=a.event.special,k=e.documentMode,m="onhashchange"in d&&(k===c||7<k);a.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};a.fn.hashchange.delay=50;h.hashchange=a.extend(h.hashchange,{setup:function(){if(m)return!1;a(f.start)},teardown:function(){if(m)return!1;a(f.stop)}});f=function(){function f(){var c=b(),e=t(g);c!==g?(r(g=c,e),a(d).trigger("hashchange")):
e!==g&&(location.href=location.href.replace(/#.*/,"")+e);k=setTimeout(f,a.fn.hashchange.delay)}var h={},k,g=b(),u=function(a){return a},r=u,t=u;h.start=function(){k||f()};h.stop=function(){k&&clearTimeout(k);k=c};d.attachEvent&&!d.addEventListener&&!m&&function(){var c,d;h.start=function(){c||(d=(d=a.fn.hashchange.src)&&d+b(),c=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||r(b());f()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,e.onpropertychange=
function(){try{"title"===event.propertyName&&(c.document.title=e.title)}catch(a){}})};h.stop=u;t=function(){return b(c.location.href)};r=function(b,d){var f=c.document,g=a.fn.hashchange.domain;b!==d&&(f.title=e.title,f.open(),g&&f.write('<script>document.domain="'+g+'"\x3c/script>'),f.close(),c.location.hash=b)}}();return h}()})(jQuery,this);
(function(a){a.rsProto._g7=function(){var d=this;d.st.visibleNearby&&d.st.visibleNearby.enabled&&(d._h7={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},d.st.visibleNearby=a.extend({},d._h7,d.st.visibleNearby),d.ev.one("rsAfterPropsSetup",function(){d._i7=d._e1.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent();d.st.visibleNearby.hiddenOverflow||d._i7.css("overflow","visible");d._o1=d.st.controlsInside?
d._i7:d.slider}),d.ev.on("rsAfterSizePropSet",function(){var a,b=d.st.visibleNearby;a=b.breakpoint&&d.width<b.breakpoint?b.breakpointCenterArea:b.centerArea;d._h?(d._b4*=a,d._i7.css({height:d._c4,width:d._b4/a}),d._d=d._b4*(1-a)/2/a):(d._c4*=a,d._i7.css({height:d._c4/a,width:d._b4}),d._d=d._c4*(1-a)/2/a);b.navigateByCenterClick||(d._q=d._h?d._b4:d._c4);b.center&&d._e1.css("margin-"+(d._h?"left":"top"),d._d)}))};a.rsModules.visibleNearby=a.rsProto._g7})(jQuery);!function(a){function d(b,c){this.itemsArray=[];this.$element=a(b);this.$element.hide();this.multiple=(this.isSelect="SELECT"===b.tagName)&&b.hasAttribute("multiple");this.objectItems=c&&c.itemValue;this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"";this.inputSize=Math.max(1,this.placeholderText.length);this.$container=a('<div class="bootstrap-tagsinput"></div>');this.$input=a('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container);
this.$element.before(this.$container);this.build(c)}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function b(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?m.text(a).html():""}function f(a){var b=0;document.selection?(a.focus(),b=document.selection.createRange(),b.moveStart("character",-a.value.length),b=b.text.length):(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function h(b,c){var d=
!1;return a.each(c,function(a,c){if("number"==typeof c&&b.which===c)return d=!0,!1;if(b.which===c.which){var e=!c.hasOwnProperty("altKey")||b.altKey===c.altKey,f=!c.hasOwnProperty("shiftKey")||b.shiftKey===c.shiftKey,h=!c.hasOwnProperty("ctrlKey")||b.ctrlKey===c.ctrlKey;if(e&&f&&h)return d=!0,!1}}),d}var k={tagClass:function(){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},itemTitle:function(){return null},freeInput:!0,addOnBlur:!0,
maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],onTagExists:function(a,b){b.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};d.prototype={constructor:d,add:function(b,c,d){var f=this;if(!(f.options.maxTags&&f.itemsArray.length>=f.options.maxTags||!1!==b&&!b)){if("string"==typeof b&&f.options.trimValue&&(b=a.trim(b)),"object"==typeof b&&!f.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(f.isSelect&&!f.multiple&&0<f.itemsArray.length&&f.remove(f.itemsArray[0]),
"string"==typeof b&&"INPUT"===this.$element[0].tagName){var h=b.split(",");if(1<h.length){for(b=0;b<h.length;b++)this.add(h[b],!0);return void(c||f.pushVal())}}var k=f.options.itemValue(b),h=f.options.itemText(b),m=f.options.tagClass(b),z=f.options.itemTitle(b),x=a.grep(f.itemsArray,function(a){return f.options.itemValue(a)===k})[0];if(!x||f.options.allowDuplicates){if(!(f.items().toString().length+b.length+1>f.options.maxInputLength)){var q=a.Event("beforeItemAdd",{item:b,cancel:!1,options:d});if(f.$element.trigger(q),
!q.cancel){f.itemsArray.push(b);m=a('<span class="tag '+e(m)+(null!==z?'" title="'+z:"")+'">'+e(h)+'<span data-role="remove"></span></span>');if(m.data("item",b),f.findInputWrapper().before(m),m.after(" "),f.isSelect&&!a('option[value="'+encodeURIComponent(k)+'"]',f.$element)[0])h=a("<option selected>"+e(h)+"</option>"),h.data("item",b),h.attr("value",k),f.$element.append(h);c||f.pushVal();f.options.maxTags!==f.itemsArray.length&&f.items().toString().length!==f.options.maxInputLength||f.$container.addClass("bootstrap-tagsinput-max");
f.$element.trigger(a.Event("itemAdded",{item:b,options:d}))}}}else f.options.onTagExists&&(c=a(".tag",f.$container).filter(function(){return a(this).data("item")===x}),f.options.onTagExists(b,c))}}},remove:function(b,c,d){var e=this;if(e.objectItems&&(b="object"==typeof b?a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==e.options.itemValue(b)}):a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==b}),b=b[b.length-1]),b){var f=a.Event("beforeItemRemove",{item:b,cancel:!1,options:d});
if(e.$element.trigger(f),f.cancel)return;a(".tag",e.$container).filter(function(){return a(this).data("item")===b}).remove();a("option",e.$element).filter(function(){return a(this).data("item")===b}).remove();-1!==a.inArray(b,e.itemsArray)&&e.itemsArray.splice(a.inArray(b,e.itemsArray),1)}c||e.pushVal();e.options.maxTags>e.itemsArray.length&&e.$container.removeClass("bootstrap-tagsinput-max");e.$element.trigger(a.Event("itemRemoved",{item:b,options:d}))},removeAll:function(){a(".tag",this.$container).remove();
for(a("option",this.$element).remove();0<this.itemsArray.length;)this.itemsArray.pop();this.pushVal()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),h=b.options.itemText(d),k=b.options.tagClass(d);(c.attr("class",null),c.addClass("tag "+e(k)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(h),b.isSelect)&&a("option",b.$element).filter(function(){return a(this).data("item")===d}).attr("value",f)})},
items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0).trigger("change")},build:function(d){var e=this;if(e.options=a.extend({},k,d),e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),b(e.options,"tagClass"),e.options.typeahead){var m=e.options.typeahead||{};b(m,"source");e.$input.typeahead(a.extend({},m,{source:function(b,c){function d(a){for(var b=[],
g=0;g<a.length;g++){var h=e.options.itemText(a[g]);f[h]=a[g];b.push(h)}c(b)}var f=this.map={},g=m.source(b);a.isFunction(g.success)?g.success(d):a.isFunction(g.then)?g.then(d):a.when(g).then(d)},updater:function(a){return e.add(this.map[a]),this.map[a]},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){return a.replace(new RegExp("("+this.query+")","gi"),"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){d=
null;var g={},u=e.options.typeaheadjs;a.isArray(u)?(d=u[0],g=u[1]):g=u;e.$input.typeahead(d,g).on("typeahead:selected",a.proxy(function(a,b){e.add(g.valueKey?b[g.valueKey]:b);e.$input.typeahead("val","")},e))}e.$container.on("click",a.proxy(function(){e.$element.attr("disabled")||e.$input.removeAttr("disabled");e.$input.focus()},e));e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",a.proxy(function(){0===a(".typeahead, .twitter-typeahead",e.$container).length&&(e.add(e.$input.val()),
e.$input.val(""))},e));e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");switch(b.which){case 8:0===f(c[0])&&(d=d.prev())&&e.remove(d.data("item"));break;case 46:0===f(c[0])&&(d=d.next())&&e.remove(d.data("item"));break;case 37:b=d.prev();0===c.val().length&&b[0]&&(b.before(d),c.focus());break;case 39:b=d.next(),0===c.val().length&&b[0]&&(b.after(d),c.focus())}d=c.val().length;
Math.ceil(d/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e));e.$container.on("keypress","input",a.proxy(function(b){var c=a(b.target);if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");var d=c.val(),f=e.options.maxChars&&d.length>=e.options.maxChars;e.options.freeInput&&(h(b,e.options.confirmKeys)||f)&&(e.add(f?d.substr(0,e.options.maxChars):d),c.val(""),b.preventDefault());b=c.val().length;Math.ceil(b/5);c.attr("size",Math.max(this.inputSize,c.val().length))},
e));e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.$element.attr("disabled")||e.remove(a(b.target).closest(".tag").data("item"))},e));e.options.itemValue===k.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){this.$container.off("keypress","input");this.$container.off("click","[role=remove]");this.$container.remove();this.$element.removeData("tagsinput");this.$element.show()},
focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}};a.fn.tagsinput=function(b,c,e){var f=[];return this.each(function(){var h=a(this).data("tagsinput");h?b||c?void 0!==h[b]&&(h=3===h[b].length&&void 0!==e?h[b](c,null,e):h[b](c),void 0!==h&&f.push(h)):f.push(h):(h=new d(this,b),a(this).data("tagsinput",h),f.push(h),"SELECT"===this.tagName&&a("option",a(this)).attr("selected",
"selected"),a(this).val(a(this).val()))}),"string"==typeof b?1<f.length?f:f[0]:f};a.fn.tagsinput.Constructor=d;var m=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);!function(a,d){"function"==typeof define&&define.amd?define(["jquery"],function(c){return d(a,c)}):"object"==typeof exports?d(a,require("jquery")):d(a,a.jQuery||a.Zepto)}(this,function(a,d){function c(a){if(w&&"none"===a.css("animation-name")&&"none"===a.css("-webkit-animation-name")&&"none"===a.css("-moz-animation-name")&&"none"===a.css("-o-animation-name")&&"none"===a.css("-ms-animation-name"))return 0;var b,c,d,e=a.css("animation-duration")||a.css("-webkit-animation-duration")||a.css("-moz-animation-duration")||
a.css("-o-animation-duration")||a.css("-ms-animation-duration")||"0s",f=a.css("animation-delay")||a.css("-webkit-animation-delay")||a.css("-moz-animation-delay")||a.css("-o-animation-delay")||a.css("-ms-animation-delay")||"0s",g=a.css("animation-iteration-count")||a.css("-webkit-animation-iteration-count")||a.css("-moz-animation-iteration-count")||a.css("-o-animation-iteration-count")||a.css("-ms-animation-iteration-count")||"1",e=e.split(", "),f=f.split(", "),g=g.split(", ");d=0;b=e.length;for(a=
Number.NEGATIVE_INFINITY;b>d;d++)c=parseFloat(e[d])*parseInt(g[d],10)+parseFloat(f[d]),c>a&&(a=c);return c}function b(){if(d(document.body).height()<=d(window).height())return 0;var a,b,c=document.createElement("div"),e=document.createElement("div");return c.style.visibility="hidden",c.style.width="100px",document.body.appendChild(c),a=c.offsetWidth,c.style.overflow="scroll",e.style.width="100%",c.appendChild(e),b=e.offsetWidth,c.parentNode.removeChild(c),a-b}function e(){var a,c,e=d("html"),f=r+
"-is-locked";e.hasClass(f)||(c=d(document.body),a=parseInt(c.css("padding-right"),10)+b(),c.css("padding-right",a+"px"),e.addClass(f))}function f(){var a,c,e=d("html"),f=r+"-is-locked";e.hasClass(f)&&(c=d(document.body),a=parseInt(c.css("padding-right"),10)-b(),c.css("padding-right",a+"px"),e.removeClass(f))}function h(a,b,c,d){a.$bg.removeClass(r+"-is-"+q.CLOSING+" "+r+"-is-"+q.OPENING+" "+r+"-is-"+q.CLOSED+" "+r+"-is-"+q.OPENED).addClass(r+"-is-"+b);a.$overlay.removeClass(r+"-is-"+q.CLOSING+" "+
r+"-is-"+q.OPENING+" "+r+"-is-"+q.CLOSED+" "+r+"-is-"+q.OPENED).addClass(r+"-is-"+b);a.$wrapper.removeClass(r+"-is-"+q.CLOSING+" "+r+"-is-"+q.OPENING+" "+r+"-is-"+q.CLOSED+" "+r+"-is-"+q.OPENED).addClass(r+"-is-"+b);a.$modal.removeClass(r+"-is-"+q.CLOSING+" "+r+"-is-"+q.OPENING+" "+r+"-is-"+q.CLOSED+" "+r+"-is-"+q.OPENED).addClass(r+"-is-"+b);a.state=b;!c&&a.$modal.trigger({type:b,reason:d},[{reason:d}])}function k(a,b,e){var f=0,g=function(a){a.target===this&&f++},h=function(a){a.target===this&&
0===--f&&(d.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].off(t+" "+z)}),b())};d.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].on(t,g).on(z,h)});a();0===c(e.$bg)&&0===c(e.$overlay)&&0===c(e.$wrapper)&&0===c(e.$modal)&&(d.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].off(t+" "+z)}),b())}function m(a){a.state!==q.CLOSED&&(d.each(["$bg","$overlay","$wrapper","$modal"],function(b,c){a[c].off(t+" "+z)}),a.$bg.removeClass(a.settings.modifier),a.$overlay.removeClass(a.settings.modifier).hide(),
a.$wrapper.hide(),f(),h(a,q.CLOSED,!0))}function l(){var a,b,c=location.hash.replace("#","");if(c){try{b=d("[data-"+u+"-id="+c.replace(RegExp("/","g"),"\\/")+"]")}catch(e){}b&&b.length&&(a=d[u].lookup[b.data(u)],a&&a.settings.hashTracking&&a.open())}else p&&p.state===q.OPENED&&p.settings.hashTracking&&p.close()}function n(a,b){var c=d(document.body),e=this;e.settings=d.extend({},x,b);e.index=d[u].lookup.push(e)-1;e.state=q.CLOSED;e.$overlay=d("."+r+"-overlay");e.$overlay.length||(e.$overlay=d("<div>").addClass(r+
"-overlay "+r+"-is-"+q.CLOSED).hide(),c.append(e.$overlay));e.$bg=d("."+r+"-bg").addClass(r+"-is-"+q.CLOSED);e.$modal=a;e.$modal.addClass(r+"-is-initialized "+r+" "+e.settings.modifier+" "+r+"-is-"+q.CLOSED);e.$wrapper=d("<div>").addClass(r+"-wrapper "+e.settings.modifier+" "+r+"-is-"+q.CLOSED).hide().append(e.$modal);c.append(e.$wrapper);e.$wrapper.on("click."+r,"[data-"+u+'-action="close"]',function(a){a.preventDefault();e.close()});e.$wrapper.on("click."+r,"[data-"+u+'-action="cancel"]',function(a){a.preventDefault();
e.$modal.trigger(B.CANCELLATION);e.settings.closeOnCancel&&e.close(B.CANCELLATION)});e.$wrapper.on("click."+r,"[data-"+u+'-action="confirm"]',function(a){a.preventDefault();e.$modal.trigger(B.CONFIRMATION);e.settings.closeOnConfirm&&e.close(B.CONFIRMATION)});e.$wrapper.on("click."+r,function(a){d(a.target).hasClass(r+"-wrapper")&&e.settings.closeOnOutsideClick&&e.close()})}var p,g,u="remodal",r=a.REMODAL_GLOBALS&&a.REMODAL_GLOBALS.NAMESPACE||u,t=d.map(["animationstart","webkitAnimationStart","MSAnimationStart",
"oAnimationStart"],function(a){return a+"."+r}).join(" "),z=d.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(a){return a+"."+r}).join(" "),x=d.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""},a.REMODAL_GLOBALS&&a.REMODAL_GLOBALS.DEFAULTS),q={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},B={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},w=function(){var a=document.createElement("div").style;
return void 0!==a.animationName||void 0!==a.WebkitAnimationName||void 0!==a.MozAnimationName||void 0!==a.msAnimationName||void 0!==a.OAnimationName}();n.prototype.open=function(){var a,b=this;b.state!==q.OPENING&&b.state!==q.CLOSING&&(a=b.$modal.attr("data-"+u+"-id"),a&&b.settings.hashTracking&&(g=d(window).scrollTop(),location.hash=a),p&&p!==b&&m(p),p=b,e(),b.$bg.addClass(b.settings.modifier),b.$overlay.addClass(b.settings.modifier).show(),b.$wrapper.show().scrollTop(0),k(function(){h(b,q.OPENING)},
function(){h(b,q.OPENED)},b))};n.prototype.close=function(a){var b=this;b.state!==q.OPENING&&b.state!==q.CLOSING&&(b.settings.hashTracking&&b.$modal.attr("data-"+u+"-id")===location.hash.substr(1)&&(location.hash="",d(window).scrollTop(g)),k(function(){h(b,q.CLOSING,!1,a)},function(){b.$bg.removeClass(b.settings.modifier);b.$overlay.removeClass(b.settings.modifier).hide();b.$wrapper.hide();f();h(b,q.CLOSED,!1,a)},b))};n.prototype.getState=function(){return this.state};n.prototype.destroy=function(){var a=
d[u].lookup;m(this);this.$wrapper.remove();delete a[this.index];0===d.grep(a,function(a){return!!a}).length&&(this.$overlay.remove(),this.$bg.removeClass(r+"-is-"+q.CLOSING+" "+r+"-is-"+q.OPENING+" "+r+"-is-"+q.CLOSED+" "+r+"-is-"+q.OPENED))};d[u]={lookup:[]};d.fn[u]=function(a){var b,c;return this.each(function(e,f){c=d(f);null==c.data(u)?(b=new n(c,a),c.data(u,b.index),b.settings.hashTracking&&c.attr("data-"+u+"-id")===location.hash.substr(1)&&b.open()):b=d[u].lookup[c.data(u)]}),b};d(document).ready(function(){d(document).on("click",
"[data-"+u+"-target]",function(a){a.preventDefault();a=a.currentTarget.getAttribute("data-"+u+"-target");a=d("[data-"+u+"-id="+a+"]");d[u].lookup[a.data(u)].open()});d(document).find("."+r).each(function(a,b){var c=d(b),e=c.data(u+"-options");if(e){if("string"==typeof e||e instanceof String){var f,g,h,k={},e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),e=e.split(",");h=0;for(f=e.length;f>h;h++)e[h]=e[h].split(":"),g=e[h][1],("string"==typeof g||g instanceof String)&&(g="true"===g||("false"===
g?!1:g)),("string"==typeof g||g instanceof String)&&(g=isNaN(g)?g:+g),k[e[h][0]]=g;e=k}}else e={};c[u](e)});d(document).on("keyup."+r,function(a){p&&p.settings.closeOnEscape&&p.state===q.OPENED&&27===a.keyCode&&p.close()});d(window).on("hashchange."+r,l)})});/*
 Copyright 2012 Gary Little [gary at luxcentral.com]
 @fileoverview MarkerWithLabel extends the Google Maps JavaScript API V3
  <code>google.maps.Marker</code> class.
  <p>
  MarkerWithLabel allows you to define markers with associated labels. As you would expect,
  if the marker is draggable, so too will be the label. In addition, a marker with a label
  responds to all mouse events in the same manner as a regular marker. It also fires mouse
  events and "property changed" events just as a regular marker would. Version 1.1 adds
  support for the raiseOnDrag feature introduced in API V3.3.
  <p>
  If you drag a marker by its label, you can cancel the drag and return the marker to its
  original position by pressing the <code>Esc</code> key. This doesn't work if you drag the marker
  itself because this feature is not (yet) supported in the <code>google.maps.Marker</code> class.
*/
function MarkerLabel_(a,d,c){this.marker_=a;this.handCursorURL_=a.handCursorURL;this.labelDiv_=document.createElement("div");this.labelDiv_.style.cssText="position: absolute; overflow: hidden;";this.eventDiv_=document.createElement("div");this.eventDiv_.style.cssText=this.labelDiv_.style.cssText;this.eventDiv_.setAttribute("onselectstart","return false;");this.eventDiv_.setAttribute("ondragstart","return false;");this.crossDiv_=MarkerLabel_.getSharedCross(d)}
$(function(){"undefined"!==typeof google&&(MarkerLabel_.prototype=new google.maps.OverlayView,MarkerLabel_.getSharedCross=function(a){var d;"undefined"===typeof MarkerLabel_.getSharedCross.crossDiv&&(d=document.createElement("img"),d.style.cssText="position: absolute; z-index: 1000002; display: none;",d.style.marginLeft="-8px",d.style.marginTop="-9px",d.src=a,MarkerLabel_.getSharedCross.crossDiv=d);return MarkerLabel_.getSharedCross.crossDiv},MarkerLabel_.prototype.onAdd=function(){var a=this,d=!1,
c=!1,b,e,f,h,k,m,l,n="url("+this.handCursorURL_+")",p=function(a){a.preventDefault&&a.preventDefault();a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()},g=function(){a.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_);this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_);"undefined"===typeof MarkerLabel_.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),MarkerLabel_.getSharedCross.processed=!0);this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,
"mouseover",function(b){if(a.marker_.getDraggable()||a.marker_.getClickable())this.style.cursor="pointer",google.maps.event.trigger(a.marker_,"mouseover",b)}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(b){!a.marker_.getDraggable()&&!a.marker_.getClickable()||c||(this.style.cursor=a.marker_.getCursor(),google.maps.event.trigger(a.marker_,"mouseout",b))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(b){c=!1;a.marker_.getDraggable()&&(d=!0,this.style.cursor=
n);if(a.marker_.getDraggable()||a.marker_.getClickable())google.maps.event.trigger(a.marker_,"mousedown",b),p(b)}),google.maps.event.addDomListener(document,"mouseup",function(e){var f;d&&(d=!1,a.eventDiv_.style.cursor="pointer",google.maps.event.trigger(a.marker_,"mouseup",e));if(c){if(k){f=a.getProjection().fromLatLngToDivPixel(a.marker_.getPosition());f.y+=20;a.marker_.setPosition(a.getProjection().fromDivPixelToLatLng(f));try{a.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(g,1406)}catch(l){}}a.crossDiv_.style.display=
"none";a.marker_.setZIndex(b);h=!0;c=!1;e.latLng=a.marker_.getPosition();google.maps.event.trigger(a.marker_,"dragend",e)}}),google.maps.event.addListener(a.marker_.getMap(),"mousemove",function(g){var h;d&&(c?(g.latLng=new google.maps.LatLng(g.latLng.lat()-e,g.latLng.lng()-f),h=a.getProjection().fromLatLngToDivPixel(g.latLng),k&&(a.crossDiv_.style.left=h.x+"px",a.crossDiv_.style.top=h.y+"px",a.crossDiv_.style.display="",h.y-=20),a.marker_.setPosition(a.getProjection().fromDivPixelToLatLng(h)),k&&
(a.eventDiv_.style.top=h.y+20+"px"),google.maps.event.trigger(a.marker_,"drag",g)):(e=g.latLng.lat()-a.marker_.getPosition().lat(),f=g.latLng.lng()-a.marker_.getPosition().lng(),b=a.marker_.getZIndex(),m=a.marker_.getPosition(),l=a.marker_.getMap().getCenter(),k=a.marker_.get("raiseOnDrag"),c=!0,a.marker_.setZIndex(1E6),g.latLng=a.marker_.getPosition(),google.maps.event.trigger(a.marker_,"dragstart",g)))}),google.maps.event.addDomListener(document,"keydown",function(b){c&&27===b.keyCode&&(k=!1,a.marker_.setPosition(m),
a.marker_.getMap().setCenter(l),google.maps.event.trigger(document,"mouseup",b))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(b){if(a.marker_.getDraggable()||a.marker_.getClickable())h?h=!1:(google.maps.event.trigger(a.marker_,"click",b),p(b))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(b){if(a.marker_.getDraggable()||a.marker_.getClickable())google.maps.event.trigger(a.marker_,"dblclick",b),p(b)}),google.maps.event.addListener(this.marker_,"dragstart",
function(a){c||(k=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(b){!c&&k&&(a.setPosition(20),a.labelDiv_.style.zIndex=1E6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(b){c||k&&a.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){a.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){a.setZIndex()}),google.maps.event.addListener(this.marker_,
"visible_changed",function(){a.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){a.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){a.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){a.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){a.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){a.setStyles()}),
google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){a.setStyles()})]},MarkerLabel_.prototype.onRemove=function(){var a;this.labelDiv_.parentNode.removeChild(this.labelDiv_);this.eventDiv_.parentNode.removeChild(this.eventDiv_);for(a=0;a<this.listeners_.length;a++)google.maps.event.removeListener(this.listeners_[a])},MarkerLabel_.prototype.draw=function(){this.setContent();this.setTitle();this.setStyles()},MarkerLabel_.prototype.setContent=function(){var a=this.marker_.get("labelContent");
"undefined"===typeof a.nodeType?(this.labelDiv_.innerHTML=a,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(a),a=a.cloneNode(!0),this.eventDiv_.appendChild(a))},MarkerLabel_.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},MarkerLabel_.prototype.setStyles=function(){var a,d;this.labelDiv_.className=this.marker_.get("labelClass");this.eventDiv_.className=this.labelDiv_.className;this.labelDiv_.style.cssText="";
this.eventDiv_.style.cssText="";d=this.marker_.get("labelStyle");for(a in d)d.hasOwnProperty(a)&&(this.labelDiv_.style[a]=d[a],this.eventDiv_.style[a]=d[a]);this.setMandatoryStyles()},MarkerLabel_.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute";this.labelDiv_.style.overflow="hidden";"undefined"!==typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+
')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")");this.eventDiv_.style.position=this.labelDiv_.style.position;this.eventDiv_.style.overflow=this.labelDiv_.style.overflow;this.eventDiv_.style.opacity=.01;this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"';this.eventDiv_.style.filter="alpha(opacity=1)";this.setAnchor();this.setPosition();this.setVisible()},MarkerLabel_.prototype.setAnchor=function(){var a=this.marker_.get("labelAnchor");
this.labelDiv_.style.marginLeft=-a.x+"px";this.labelDiv_.style.marginTop=-a.y+"px";this.eventDiv_.style.marginLeft=-a.x+"px";this.eventDiv_.style.marginTop=-a.y+"px"},MarkerLabel_.prototype.setPosition=function(a){var d=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"===typeof a&&(a=0);this.labelDiv_.style.left=Math.round(d.x)+"px";this.labelDiv_.style.top=Math.round(d.y-a)+"px";this.eventDiv_.style.left=this.labelDiv_.style.left;this.eventDiv_.style.top=this.labelDiv_.style.top;
this.setZIndex()},MarkerLabel_.prototype.setZIndex=function(){var a=this.marker_.get("labelInBackground")?-1:1;"undefined"===typeof this.marker_.getZIndex()?this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+a:this.labelDiv_.style.zIndex=this.marker_.getZIndex()+a;this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex},MarkerLabel_.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display=
"none";this.eventDiv_.style.display=this.labelDiv_.style.display})});
function MarkerWithLabel(a){a=a||{};a.labelContent=a.labelContent||"";a.labelAnchor=a.labelAnchor||new google.maps.Point(0,0);a.labelClass=a.labelClass||"markerLabels";a.labelStyle=a.labelStyle||{};a.labelInBackground=a.labelInBackground||!1;"undefined"===typeof a.labelVisible&&(a.labelVisible=!0);"undefined"===typeof a.raiseOnDrag&&(a.raiseOnDrag=!0);"undefined"===typeof a.clickable&&(a.clickable=!0);"undefined"===typeof a.draggable&&(a.draggable=!1);"undefined"===typeof a.optimized&&(a.optimized=
!1);a.crossImage=a.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png";a.handCursor=a.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur";a.optimized=!1;this.label=new MarkerLabel_(this,a.crossImage,a.handCursor);google.maps.Marker.apply(this,arguments)}
$(function(){"undefined"!==typeof google&&(MarkerWithLabel.prototype=new google.maps.Marker,MarkerWithLabel.prototype.setMap=function(a){google.maps.Marker.prototype.setMap.apply(this,arguments);this.label.setMap(a)})});jQuery.fn.textWidth=function(){var a=jQuery(this),d=a.html();"INPUT"==a[0].nodeName&&(d=a.val());d="<span>"+d+"</span>";jQuery("body").append(d);d=jQuery("span").last();d.css({"font-size":a.css("font-size"),"font-family":a.css("font-family")});a=d.width()+2;d.remove();return a};
jQuery.fn.selectToUISlider=function(a){function d(a){return"text"==b.tooltipSrc?f[a].text:f[a].value}var c=jQuery(this),b=jQuery.extend({labels:3,tooltip:!0,tooltipSrc:"text",labelSrc:"text",sliderOptions:null},a),e=function(){var a=[];c.each(function(){a.push("handle_"+jQuery(this).attr("id"))});return a}(),f=function(){var a=[];c.eq(0).find("option").each(function(){a.push({value:jQuery(this).attr("value"),text:jQuery(this).text()})});return a}(),h=function(){if(0<c.eq(0).find("optgroup").size()){var a=
[];c.eq(0).find("optgroup").each(function(b){a[b]={};a[b].label=jQuery(this).attr("label");a[b].options=[];jQuery(this).find("option").each(function(){a[b].options.push({text:jQuery(this).text(),value:jQuery(this).attr("value")})})});return a}return null}(),k={step:1,min:0,orientation:"horizontal",max:f.length-1,range:1<c.length,slide:function(a,b){var c=jQuery(b.handle),e=d(b.value);c.attr("aria-valuetext",e).attr("aria-valuenow",b.value).find(".ui-slider-tooltip .ttContent").text(e);c=jQuery("#"+
c.attr("id").split("handle_")[1]);c.find("option").removeAttr("selected");c.find("option").eq(b.value).prop("selected",!0)},values:function(){var a=[];c.each(function(){a.push(jQuery(this).get(0).selectedIndex)});return a}()};b.sliderOptions=a?jQuery.extend(k,a.sliderOptions):k;c.bind("change keyup click",function(){var a=jQuery(this).get(0).selectedIndex,b=jQuery("#handle_"+jQuery(this).attr("id")),c=b.data("handleNum");b.parents(".ui-slider:eq(0)").slider("values",c,a)});var m=jQuery("<div></div>");
c.each(function(a){var c="",f=jQuery("label[for="+jQuery(this).attr("id")+"]"),h=0<f.size()?"Slider control for "+f.text()+"":"",f=f.attr("id")||f.attr("id","label_"+e[a]).attr("id");0==b.tooltip&&(c=' style="display: none;"');jQuery('<a href="#" tabindex="0" id="'+e[a]+'" class="ui-slider-handle" role="slider" aria-labelledby="'+f+'" aria-valuemin="'+b.sliderOptions.min+'" aria-valuemax="'+b.sliderOptions.max+'" aria-valuenow="'+b.sliderOptions.values[a]+'" aria-valuetext="'+d(b.sliderOptions.values[a])+
'" ><span class="screenReaderContext">'+h+'</span><span class="ui-slider-tooltip ui-widget-content ui-corner-all"'+c+'><span class="ttContent"></span><span class="ui-tooltip-pointer-down ui-widget-content"><span class="ui-tooltip-pointer-down-inner"></span></span></span></a>').data("handleNum",a).appendTo(m)});if(h){var l=0,n=m.append('<dl class="ui-slider-scale ui-helper-reset" role="presentation"></dl>').find(".ui-slider-scale:eq(0)");jQuery(h).each(function(a){n.append('<dt style="width: '+(100/
h.length).toFixed(2)+"%; left:"+(a/(h.length-1)*100).toFixed(2)+'%"><span>'+this.label+"</span></dt>");var c=this.options;jQuery(this.options).each(function(a){var d=l==f.length-1||0==l?'style="display: none;"':"";a="text"==b.labelSrc?c[a].text:c[a].value;n.append('<dd style="left:'+((l/(f.length-1)*100).toFixed(2)+"%")+'"><span class="ui-slider-label">'+a+'</span><span class="ui-slider-tic ui-widget-content"'+d+"></span></dd>");l++})})}else n=m.append('<ol class="ui-slider-scale ui-helper-reset" role="presentation"></ol>').find(".ui-slider-scale:eq(0)"),
jQuery(f).each(function(a){var c=a==f.length-1||0==a?'style="display: none;"':"",d="text"==b.labelSrc?this.text:this.value;n.append('<li style="left:'+((a/(f.length-1)*100).toFixed(2)+"%")+'"><span class="ui-slider-label">'+d+'</span><span class="ui-slider-tic ui-widget-content"'+c+"></span></li>")});1<b.labels&&m.find(".ui-slider-scale li:last span.ui-slider-label, .ui-slider-scale dd:last span.ui-slider-label").addClass("ui-slider-label-show");a=Math.max(1,Math.round(f.length/b.labels));for(k=0;k<
f.length;k+=a)f.length-k>a&&m.find(".ui-slider-scale li:eq("+k+") span.ui-slider-label, .ui-slider-scale dd:eq("+k+") span.ui-slider-label").addClass("ui-slider-label-show");m.find(".ui-slider-scale dt").each(function(a){jQuery(this).css({left:(100/h.length*a).toFixed(2)+"%"})});m.insertAfter(jQuery(this).eq(this.length-1)).slider(b.sliderOptions).attr("role","application").find(".ui-slider-label").each(function(){jQuery(this).css("marginLeft",-jQuery(this).textWidth()/2)});m.find(".ui-tooltip-pointer-down-inner").each(function(){var a=
jQuery(".ui-tooltip-pointer-down-inner").css("borderTopWidth"),b=jQuery(this).parents(".ui-slider-tooltip").css("backgroundColor");jQuery(this).css("border-top",a+" solid "+b)});a=m.slider("values");a.constructor==Array?jQuery(a).each(function(a){m.find(".ui-slider-tooltip .ttContent").eq(a).text(d(this))}):m.find(".ui-slider-tooltip .ttContent").eq(0).text(d(a));return this};(function(a,d,c,b){(function(b){for(var c=b.length,d=a("head");c--;)0===d.has("."+b[c]).length&&d.append('<meta class="'+b[c]+'" />')})("foundation-mq-small foundation-mq-medium foundation-mq-large foundation-mq-xlarge foundation-mq-xxlarge foundation-data-attribute-namespace".split(" "));a(function(){"undefined"!==typeof FastClick&&"undefined"!==typeof c.body&&FastClick.attach(c.body)});var e=function(b,d){if("string"===typeof b){if(d){var e;if(d.jquery){if(e=d[0],!e)return d}else e=d;return a(e.querySelectorAll(b))}return a(c.querySelectorAll(b))}return a(b,
d)},f=function(a){var b=[];a||b.push("data");0<this.namespace.length&&b.push(this.namespace);b.push(this.name);return b.join("-")},h=function(a){a=a.split("-");for(var b=a.length,c=[];b--;)0!==b?c.push(a[b]):0<this.namespace.length?c.push(this.namespace,a[b]):c.push(a[b]);return c.reverse().join("-")},k=function(b,c){var d=this,f=!e(this).data(this.attr_name(!0));e(this.scope).is("["+this.attr_name()+"]")?(e(this.scope).data(this.attr_name(!0)+"-init",a.extend({},this.settings,c||b,this.data_options(e(this.scope)))),
f&&this.events(this.scope)):e("["+this.attr_name()+"]",this.scope).each(function(){var f=!e(this).data(d.attr_name(!0)+"-init");e(this).data(d.attr_name(!0)+"-init",a.extend({},d.settings,c||b,d.data_options(e(this))));f&&d.events(this)});if("string"===typeof b)return this[b].call(this,c)},m=function(a,b){function c(){b(a[0])}function d(){this.one("load",c);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?",b=b+("random="+(new Date).getTime());this.attr("src",
a+b)}}a.attr("src")?a[0].complete||4===a[0].readyState?c():d.call(a):c()};d.matchMedia=d.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");f.id="mq-test-1";f.style.cssText="position:absolute;top:-100em";e.style.background="none";e.appendChild(f);return function(a){f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>';c.insertBefore(e,d);b=42===f.offsetWidth;c.removeChild(e);return{matches:b,
media:a}}}(c);(function(a){function b(){c&&(f(b),k&&jQuery.fx.tick())}var c,e=0;a=["webkit","moz"];for(var f=d.requestAnimationFrame,h=d.cancelAnimationFrame,k="undefined"!==typeof jQuery.fx;e<a.length&&!f;e++)f=d[a[e]+"RequestAnimationFrame"],h=h||d[a[e]+"CancelAnimationFrame"]||d[a[e]+"CancelRequestAnimationFrame"];f?(d.requestAnimationFrame=f,d.cancelAnimationFrame=h,k&&(jQuery.fx.timer=function(a){a()&&jQuery.timers.push(a)&&!c&&(c=!0,b())},jQuery.fx.stop=function(){c=!1})):(d.requestAnimationFrame=
function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-e)),f=d.setTimeout(function(){a(b+c)},c);e=b+c;return f},d.cancelAnimationFrame=function(a){clearTimeout(a)})})(jQuery);d.Foundation={name:"Foundation",version:"5.2.3",media_queries:{small:e(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:e(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:e(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,
""),xlarge:e(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:e(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:a("<style></style>").appendTo("head")[0].sheet,global:{namespace:b},init:function(a,b,c,d,f){c=[a,c,d,f];d=[];this.rtl=/rtl/i.test(e("html").attr("dir"));this.scope=a||this.scope;this.set_namespace();if(b&&"string"===typeof b&&!/reflow/i.test(b))this.libs.hasOwnProperty(b)&&d.push(this.init_lib(b,
c));else for(var h in this.libs)d.push(this.init_lib(h,b));return a},init_lib:function(b,c){if(this.libs.hasOwnProperty(b)){this.patch(this.libs[b]);if(c&&c.hasOwnProperty(b))return"undefined"!==typeof this.libs[b].settings?a.extend(!0,this.libs[b].settings,c[b]):"undefined"!==typeof this.libs[b].defaults&&a.extend(!0,this.libs[b].defaults,c[b]),this.libs[b].init.apply(this.libs[b],[this.scope,c[b]]);c=c instanceof Array?c:Array(c);return this.libs[b].init.apply(this.libs[b],c)}return function(){}},
patch:function(a){a.scope=this.scope;a.namespace=this.global.namespace;a.rtl=this.rtl;a.data_options=this.utils.data_options;a.attr_name=f;a.add_namespace=h;a.bindings=k;a.S=this.utils.S},inherit:function(a,b){for(var c=b.split(" "),d=c.length;d--;)this.utils.hasOwnProperty(c[d])&&(a[c[d]]=this.utils[c[d]])},set_namespace:function(){var c=this.global.namespace===b?a(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=c===b||/false/i.test(c)?"":c},
libs:{},utils:{S:e,throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;null==c&&(c=setTimeout(function(){a.apply(d,e);c=null},b))}},debounce:function(a,b,c){var d,e;return function(){var f=this,h=arguments,k=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(e=a.apply(f,h))},b);k&&(e=a.apply(f,h));return e}},data_options:function(b,c){function d(a){return!isNaN(a-0)&&null!==a&&""!==a&&!1!==a&&!0!==a}function e(b){return"string"===typeof b?a.trim(b):b}c=c||"options";var f=
{},h,k,m;h=function(a){var b=Foundation.global.namespace;return 0<b.length?a.data(b+"-"+c):a.data(c)}(b);if("object"===typeof h)return h;m=(h||":").split(";");for(h=m.length;h--;)k=m[h].split(":"),k=[k[0],k.slice(1).join(":")],/true/i.test(k[1])&&(k[1]=!0),/false/i.test(k[1])&&(k[1]=!1),d(k[1])&&(-1===k[1].indexOf(".")?k[1]=parseInt(k[1],10):k[1]=parseFloat(k[1])),2===k.length&&0<k[0].length&&(f[e(k[0])]=e(k[1]));return f},register_media:function(c,d){if(Foundation.media_queries[c]===b){a("head").append('<meta class="'+
d+'">');var e=Foundation.media_queries,f=a("."+d).css("font-family");if("string"===typeof f||f instanceof String)f=f.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"");e[c]=f}},add_custom_rule:function(a,c){c===b&&Foundation.stylesheet?Foundation.stylesheet.insertRule(a,Foundation.stylesheet.cssRules.length):Foundation.media_queries[c]!==b&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[c]+"{ "+a+" }")},image_loaded:function(a,b){var c=this,d=a.length;0===d&&b(a);a.each(function(){m(c.S(this),
function(){--d;0===d&&b(a)})})},random_str:function(){this.fidx||(this.fidx=0);this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-");return this.prefix+(this.fidx++).toString(36)}}};a.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(a));return this})}})(jQuery,window,window.document);(function(a,d,c,b){Foundation.libs.topbar={name:"topbar",version:"5.2.3",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!1,scrolltop:!0,sticky_on:"all"},init:function(b,c,d){Foundation.inherit(this,"add_custom_rule register_media throttle");var k=this;k.register_media("topbar","foundation-mq-topbar");this.bindings(c,d);k.S("["+this.attr_name()+"]",this.scope).each(function(){var b=a(this),c=b.data(k.attr_name(!0)+"-init");k.S("section",
this);b.data("index",0);var d=b.parent();d.hasClass("fixed")||k.is_sticky(b,d,c)?(k.settings.sticky_class=c.sticky_class,k.settings.sticky_topbar=b,b.data("height",d.outerHeight()),b.data("stickyoffset",d.offset().top)):b.data("height",b.outerHeight());c.assembled||k.assemble(b);c.is_hover?k.S(".has-dropdown",b).addClass("not-click"):k.S(".has-dropdown",b).removeClass("not-click");k.add_custom_rule(".f-topbar-fixed { padding-top: "+b.data("height")+"px }");d.hasClass("fixed")&&k.S("body").addClass("f-topbar-fixed")})},
is_sticky:function(a,b,c){return(a=b.hasClass(c.sticky_class))&&"all"===c.sticky_on?!0:a&&this.small()&&"small"===c.sticky_on?matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:a&&this.medium()&&"medium"===c.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:a&&this.large()&&"large"===
c.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&matchMedia(Foundation.media_queries.large).matches:!1},toggle:function(b){b=b?this.S(b).closest("["+this.attr_name()+"]"):this.S("["+this.attr_name()+"]");var c=b.data(this.attr_name(!0)+"-init"),h=this.S("section, .section",b);this.breakpoint()&&(this.rtl?(h.css({right:"0%"}),a(">.name",h).css({right:"100%"})):(h.css({left:"0%"}),a(">.name",h).css({left:"100%"})),this.S("li.moved",
h).removeClass("moved"),b.data("index",0),b.toggleClass("expanded").css("height",""));c.scrolltop?b.hasClass("expanded")?b.parent().hasClass("fixed")&&(c.scrolltop?(b.parent().removeClass("fixed"),b.addClass("fixed"),this.S("body").removeClass("f-topbar-fixed"),d.scrollTo(0,0)):b.parent().removeClass("expanded")):b.hasClass("fixed")&&(b.parent().addClass("fixed"),b.removeClass("fixed"),this.S("body").addClass("f-topbar-fixed")):(this.is_sticky(b,b.parent(),c)&&b.parent().addClass("fixed"),b.parent().hasClass("fixed")&&
(b.hasClass("expanded")?(b.addClass("fixed"),b.parent().addClass("expanded"),this.S("body").addClass("f-topbar-fixed")):(b.removeClass("fixed"),b.parent().removeClass("expanded"),this.update_sticky_positioning())))},timer:null,events:function(b){var c=this,h=this.S;h(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(a){a.preventDefault();c.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',
function(b){b=a(this).closest("li");!c.breakpoint()||b.hasClass("back")||b.hasClass("has-dropdown")||c.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(b){var d=h(this),e=h(b.target),n=d.closest("["+c.attr_name()+"]").data(c.attr_name(!0)+"-init");e.data("revealId")?c.toggle():c.breakpoint()||n.is_hover&&!Modernizr.touch||(b.stopImmediatePropagation(),d.hasClass("hover")?(d.removeClass("hover").find("li").removeClass("hover"),d.parents("li.hover").removeClass("hover")):
(d.addClass("hover"),a(d).siblings().removeClass("hover"),"A"===e[0].nodeName&&e.parent().hasClass("has-dropdown")&&b.preventDefault()))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(a){if(c.breakpoint()){a.preventDefault();a=h(this);var b=a.closest("["+c.attr_name()+"]"),d=b.find("section, .section");a.next(".dropdown").outerHeight();var e=a.closest("li");b.data("index",b.data("index")+1);e.addClass("moved");c.rtl?(d.css({right:-(100*b.data("index"))+"%"}),d.find(">.name").css({right:100*
b.data("index")+"%"})):(d.css({left:-(100*b.data("index"))+"%"}),d.find(">.name").css({left:100*b.data("index")+"%"}));b.css("height",a.siblings("ul").outerHeight(!0)+b.data("height"))}});h(d).off(".topbar").on("resize.fndtn.topbar",c.throttle(function(){c.resize.call(c)},50)).trigger("resize");h("body").off(".topbar").on("click.fndtn.topbar touchstart.fndtn.topbar",function(a){0<h(a.target).closest("li").closest("li.hover").length||h("["+c.attr_name()+"] li.hover").removeClass("hover")});h(this.scope).on("click.fndtn.topbar",
"["+this.attr_name()+"] .has-dropdown .back",function(a){a.preventDefault();var b=h(this);a=b.closest("["+c.attr_name()+"]");var d=a.find("section, .section");a.data(c.attr_name(!0)+"-init");var e=b.closest("li.moved"),b=e.parent();a.data("index",a.data("index")-1);c.rtl?(d.css({right:-(100*a.data("index"))+"%"}),d.find(">.name").css({right:100*a.data("index")+"%"})):(d.css({left:-(100*a.data("index"))+"%"}),d.find(">.name").css({left:100*a.data("index")+"%"}));0===a.data("index")?a.css("height",
""):a.css("height",b.outerHeight(!0)+a.data("height"));setTimeout(function(){e.removeClass("moved")},300)})},resize:function(){var a=this;a.S("["+this.attr_name()+"]").each(function(){var b=a.S(this),d=b.data(a.attr_name(!0)+"-init"),k=b.parent("."+a.settings.sticky_class);if(!a.breakpoint()){var m=b.hasClass("expanded");b.css("height","").removeClass("expanded").find("li").removeClass("hover");m&&a.toggle(b)}a.is_sticky(b,k,d)&&(k.hasClass("fixed")?(k.removeClass("fixed"),d=k.offset().top,a.S(c.body).hasClass("f-topbar-fixed")&&
(d-=b.data("height")),b.data("stickyoffset",d),k.addClass("fixed")):(d=k.offset().top,b.data("stickyoffset",d)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(b){var c=this,d=b.data(this.attr_name(!0)+"-init"),k=c.S("section",
b);k.detach();c.S(".has-dropdown>a",k).each(function(){var b=c.S(this),e=b.siblings(".dropdown"),k=b.attr("href");e.find(".title.back").length||(k=d.mobile_show_parent_link&&k&&1<k.length?a('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li><a class="parent-link js-generated" href="'+k+'">'+b.text()+"</a></li>"):a('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li>'),1==d.custom_back_text?a("h5>a",k).html(d.back_text):a("h5>a",
k).html("&laquo; "+b.html()),e.prepend(k))});k.appendTo(b);this.sticky();this.assembled(b)},assembled:function(b){b.data(this.attr_name(!0),a.extend({},b.data(this.attr_name(!0)),{assembled:!0}))},height:function(b){var c=0,d=this;a("> li",b).each(function(){c+=d.S(this).outerHeight(!0)});return c},sticky:function(){var a=this;this.S(d).on("scroll",function(){a.update_sticky_positioning()})},update_sticky_positioning:function(){var a="."+this.settings.sticky_class,b=this.S(d);if(this.settings.sticky_topbar&&
this.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var c=this.settings.sticky_topbar.data("stickyoffset");this.S(a).hasClass("expanded")||(b.scrollTop()>c?this.S(a).hasClass("fixed")||(this.S(a).addClass("fixed"),this.S("body").addClass("f-topbar-fixed")):b.scrollTop()<=c&&this.S(a).hasClass("fixed")&&(this.S(a).removeClass("fixed"),this.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar");this.S(d).off(".fndtn.topbar")},
reflow:function(){}}})(jQuery,this,this.document);(function(a,d,c,b){Foundation.libs.tab={name:"tab",version:"5.2.3",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(a,b,c){var d=this;a=this.S;this.bindings(b,c);this.handle_location_hash_change();a("["+this.attr_name()+"] > .active > a",this.scope).each(function(){d.default_tab_hashes.push(this.hash)})},events:function(){var a=this,b=this.S;b(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+
"] > * > a",function(c){if(!b(this).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init").is_hover||Modernizr.touch)c.preventDefault(),c.stopPropagation(),a.toggle_active_tab(b(this).parent())}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(c){b(this).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init").is_hover&&a.toggle_active_tab(b(this).parent())});b(d).on("hashchange.fndtn.tab",function(b){b.preventDefault();a.handle_location_hash_change()})},handle_location_hash_change:function(){var c=
this,d=this.S;d("["+this.attr_name()+"]",this.scope).each(function(){if(d(this).data(c.attr_name(!0)+"-init").deep_linking){var h=c.scope.location.hash;if(""!=h){var k=d(h);k.hasClass("content")&&k.parent().hasClass("tab-content")?c.toggle_active_tab(a("["+c.attr_name()+"] > * > a[href="+h+"]").parent()):(k=k.closest(".content").attr("id"),k!=b&&c.toggle_active_tab(a("["+c.attr_name()+"] > * > a[href=#"+k+"]").parent(),h))}else for(k in c.default_tab_hashes)c.toggle_active_tab(a("["+c.attr_name()+
"] > * > a[href="+c.default_tab_hashes[k]+"]").parent())}})},toggle_active_tab:function(c,f){var h=this.S,k=c.closest("["+this.attr_name()+"]"),m="#"+c.children("a").first().attr("href").split("#")[1],l=h(m),n=c.siblings(),p=k.data(this.attr_name(!0)+"-init");h(this).data(this.data_attr("tab-content"))&&(m="#"+h(this).data(this.data_attr("tab-content")).split("#")[1],l=h(m));p.deep_linking&&(h=a("body,html").scrollTop(),d.location.hash=f!=b?f:m,p.scroll_to_content||f!=b&&f!=m||a("body,html").scrollTop(h));
c.addClass(p.active_class).triggerHandler("opened");n.removeClass(p.active_class);l.siblings().removeClass(p.active_class).end().addClass(p.active_class);p.callback(c);l.triggerHandler("toggled",[c]);k.triggerHandler("toggled",[l])},data_attr:function(a){return 0<this.namespace.length?this.namespace+"-"+a:a},off:function(){},reflow:function(){}}})(jQuery,window,window.document);(function(a,d,c,b){Foundation.libs.tooltip={name:"tooltip",version:"5.2.3",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(a,b){return'<span data-selector="'+a+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+b+'<span class="nub"></span></span>'}},cache:{},init:function(a,b,c){Foundation.inherit(this,"random_str");this.bindings(b,
c)},should_show:function(b,c){var d=a.extend({},this.settings,this.data_options(b));return"all"===d.show_on||this.small()&&"small"===d.show_on||this.medium()&&"medium"===d.show_on||this.large()&&"large"===d.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(b){var c=this,d=c.S;c.create(this.S(b));a(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",
"["+this.attr_name()+"]",function(b){var e=d(this),l=a.extend({},c.settings,c.data_options(e));if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&d(b.target).is("a")||/mouse/i.test(b.type)&&c.ie_touch(b))return!1;e.hasClass("open")?(Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&b.preventDefault(),c.hide(e)):l.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)||(!l.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&(b.preventDefault(),
d(l.tooltip_class+".open").hide()),/enter|over/i.test(b.type)?this.timer=setTimeout(function(){c.showTip(e)}.bind(this),c.settings.hover_delay):"mouseout"===b.type||"mouseleave"===b.type?(clearTimeout(this.timer),c.hide(e)):c.showTip(e))}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(b){if(/mouse/i.test(b.type)&&c.ie_touch(b))return!1;if("touch"!=a(this).data("tooltip-open-event-type")||"mouseleave"!=b.type)"mouse"==a(this).data("tooltip-open-event-type")&&
/MSPointerDown|touchstart/i.test(b.type)?c.convert_to_touch(a(this)):c.hide(a(this))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(a){c.hide(d(this))})},ie_touch:function(a){return!1},showTip:function(a){var b=this.getTip(a);if(this.should_show(a,b))return this.show(a)},getTip:function(b){var c=this.selector(b);b=a.extend({},this.settings,this.data_options(b));var d=null;c&&(d=this.S('span[data-selector="'+c+'"]'+b.tooltip_class));return"object"===typeof d?d:!1},selector:function(a){var b=
a.attr("id"),c=a.attr(this.attr_name())||a.attr("data-selector");(b&&1>b.length||!b)&&"string"!=typeof c&&(c=this.random_str(6),a.attr("data-selector",c));return b&&0<b.length?b:c},create:function(b){var c=this,h=a.extend({},this.settings,this.data_options(b)),k=this.settings.tip_template;"string"===typeof h.tip_template&&d.hasOwnProperty(h.tip_template)&&(k=d[h.tip_template]);var k=a(k(this.selector(b),a("<div></div>").html(b.attr("title")).html())),m=this.inheritable_classes(b);k.addClass(m).appendTo(h.append_to);
Modernizr.touch&&(k.append('<span class="tap-to-close">'+h.touch_close_text+"</span>"),k.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(a){c.hide(b)}));b.removeAttr("title").attr("title","")},reposition:function(b,c,d){var k,m,l;c.css("visibility","hidden").show();k=b.data("width");m=c.children(".nub");l=m.outerHeight();m.outerHeight();this.small()?c.css({width:"100%"}):c.css({width:k?k:"auto"});k=function(a,b,c,d,e,f){return a.css({top:b?b:"auto",bottom:d?d:"auto",left:e?e:"auto",
right:c?c:"auto"}).end()};k(c,b.offset().top+b.outerHeight()+10,"auto","auto",b.offset().left);if(this.small())k(c,b.offset().top+b.outerHeight()+10,"auto","auto",12.5,a(this.scope).width()),c.addClass("tip-override"),k(m,-l,"auto","auto",b.offset().left);else{var n=b.offset().left;Foundation.rtl&&(m.addClass("rtl"),n=b.offset().left+b.outerWidth()-c.outerWidth());k(c,b.offset().top+b.outerHeight()+10,"auto","auto",n);c.removeClass("tip-override");d&&-1<d.indexOf("tip-top")?(Foundation.rtl&&m.addClass("rtl"),
k(c,b.offset().top-c.outerHeight(),"auto","auto",n).removeClass("tip-override")):d&&-1<d.indexOf("tip-left")?(k(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left-c.outerWidth()-l).removeClass("tip-override"),m.removeClass("rtl")):d&&-1<d.indexOf("tip-right")&&(k(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left+b.outerWidth()+l).removeClass("tip-override"),m.removeClass("rtl"))}c.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&
!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(b){var c=a.extend({},this.settings,this.data_options(b)),d="tip-top tip-left tip-bottom tip-right radius round".split(" ").concat(c.additional_inheritable_classes);b=(b=b.attr("class"))?a.map(b.split(" "),function(b,c){if(-1!==a.inArray(b,d))return b}).join(" "):"";return a.trim(b)},convert_to_touch:function(b){var c=this,d=c.getTip(b),k=a.extend({},c.settings,c.data_options(b));0===d.find(".tap-to-close").length&&
(d.append('<span class="tap-to-close">'+k.touch_close_text+"</span>"),d.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(a){c.hide(b)}));b.data("tooltip-open-event-type","touch")},show:function(a){var b=this.getTip(a);"touch"==a.data("tooltip-open-event-type")&&this.convert_to_touch(a);this.reposition(a,b,a.attr("class"));a.addClass("open");b.fadeIn(150)},hide:function(a){var b=this.getTip(a);b.fadeOut(150,function(){b.find(".tap-to-close").remove();
b.off("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose");a.removeClass("open")})},off:function(){var b=this;this.S(this.scope).off(".fndtn.tooltip");this.S(this.settings.tooltip_class).each(function(c){a("["+b.attr_name()+"]").eq(c).attr("title",a(this).text())}).remove()},reflow:function(){}}})(jQuery,window,window.document);(function(a,d,c,b){Foundation.libs.accordion={name:"accordion",version:"5.2.3",settings:{active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=this.S;c(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > .accordion-navigation > a",function(d){var k=c(this).closest("["+b.attr_name()+"]"),m=c("#"+this.href.split("#")[1]),l=c(".accordion-navigation > .content",k),n=a(".accordion-navigation",
k),p=b.attr_name()+"="+k.attr(b.attr_name()),g=k.data(b.attr_name(!0)+"-init"),u=c(".accordion-navigation > .content."+g.active_class,k);d.preventDefault();k.attr(b.attr_name())&&(l=l.add("["+p+"] .accordion-navigation > .content"),n=n.add("["+p+"] .accordion-navigation"));if(g.toggleable&&m.is(u))return m.parent(".accordion-navigation").toggleClass(g.active_class,!1),m.toggleClass(g.active_class,!1);g.multi_expand||(l.removeClass(g.active_class),n.removeClass(g.active_class));m.addClass(g.active_class).parent().addClass(g.active_class);
g.callback(m)})},off:function(){},reflow:function(){}}})(jQuery,window,window.document);(function(a,d,c,b){Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.2.3",settings:{active_class:"active",threshold:-40,destination_threshold:20,throttle_delay:30,fixed_top:40},init:function(a,b,c){Foundation.inherit(this,"throttle");this.bindings(b,c)},events:function(){var b=this,c=b.S,h=b.settings;b.set_expedition_position();c(b.scope).off(".magellan").on("click.fndtn.magellan","["+b.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(c){c.preventDefault();
c=a(this).closest("["+b.attr_name()+"]");c.data("magellan-expedition-init");var d=this.hash.split("#").join(""),f=a("a[name='"+d+"']");0===f.length&&(f=a("#"+d));f=f.offset().top;f-=c.outerHeight();a("html, body").stop().animate({scrollTop:f},700,"swing",function(){history.pushState?history.pushState(null,null,"#"+d):location.hash="#"+d})}).on("scroll.fndtn.magellan",b.throttle(this.check_for_arrivals.bind(this),h.throttle_delay));a(d).on("resize.fndtn.magellan",b.throttle(this.set_expedition_position.bind(this),
h.throttle_delay))},check_for_arrivals:function(){this.update_arrivals();this.update_expedition_positions()},set_expedition_position:function(){var b=this;a("["+this.attr_name()+"=fixed]",b.scope).each(function(c,d){var k=a(this),m=k.attr("styles"),l;k.attr("style","");l=k.offset().top+b.settings.threshold;k.data(b.data_attr("magellan-top-offset"),l);k.attr("style",m)})},update_expedition_positions:function(){var b=this,c=a(d).scrollTop();a("["+this.attr_name()+"=fixed]",b.scope).each(function(){var d=
a(this),k=d.data("magellan-top-offset");c>=k?(k=d.prev("["+b.add_namespace("data-magellan-expedition-clone")+"]"),0===k.length&&(k=d.clone(),k.removeAttr(b.attr_name()),k.attr(b.add_namespace("data-magellan-expedition-clone"),""),d.before(k)),d.css({position:"fixed",top:b.settings.fixed_top})):(d.prev("["+b.add_namespace("data-magellan-expedition-clone")+"]").remove(),d.attr("style","").removeClass("fixed"))})},update_arrivals:function(){var b=this,c=a(d).scrollTop();a("["+this.attr_name()+"]",b.scope).each(function(){var d=
a(this),k=d.data(b.attr_name(!0)+"-init"),m=b.offsets(d,c),l=d.find("["+b.add_namespace("data-magellan-arrival")+"]"),n=!1;m.each(function(a,c){if(c.viewport_offset>=c.top_offset)return d.find("["+b.add_namespace("data-magellan-arrival")+"]").not(c.arrival).removeClass(k.active_class),c.arrival.addClass(k.active_class),n=!0});n||l.removeClass(k.active_class)})},offsets:function(b,c){var d=this,k=b.data(d.attr_name(!0)+"-init");return b.find("["+d.add_namespace("data-magellan-arrival")+"]").map(function(m,
l){var n=a(this).data(d.data_attr("magellan-arrival")),n=a("["+d.add_namespace("data-magellan-destination")+"="+n+"]");if(0<n.length){var p=n.offset().top-k.destination_threshold-b.outerHeight();return{destination:n,arrival:a(this),top_offset:p,viewport_offset:c}}}).sort(function(a,b){return a.top_offset<b.top_offset?-1:a.top_offset>b.top_offset?1:0})},data_attr:function(a){return 0<this.namespace.length?this.namespace+"-"+a:a},off:function(){this.S(this.scope).off(".magellan");this.S(d).off(".magellan")},
reflow:function(){a("["+this.add_namespace("data-magellan-expedition-clone")+"]",this.scope).remove()}}})(jQuery,window,window.document);(function(a,d,c,b){Foundation.libs.offcanvas={name:"offcanvas",version:"5.2.3",settings:{open_method:"move",close_on_click:!1},init:function(a,b,c){this.bindings(b,c)},events:function(){var a=this,b=a.S,c="",d="",m="";"move"===this.settings.open_method?(c="move-",d="right",m="left"):"overlap"===this.settings.open_method&&(c="offcanvas-overlap");b(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(b){a.click_toggle_class(b,c+d)}).on("click.fndtn.offcanvas",
".left-off-canvas-menu a",function(b){a.get_settings(b).close_on_click&&a.hide.call(a,c+d,a.get_wrapper(b))}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(b){a.click_toggle_class(b,c+m)}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(b){a.get_settings(b).close_on_click&&a.hide.call(a,c+m,a.get_wrapper(b))}).on("click.fndtn.offcanvas",".exit-off-canvas",function(b){a.click_remove_class(b,c+m);d&&a.click_remove_class(b,c+d)})},toggle:function(a,b){b=b||this.get_wrapper();
b.is("."+a)?this.hide(a,b):this.show(a,b)},show:function(a,b){b=b||this.get_wrapper();b.trigger("open");b.addClass(a)},hide:function(a,b){b=b||this.get_wrapper();b.trigger("close");b.removeClass(a)},click_toggle_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.toggle(b,c)},click_remove_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.hide(b,c)},get_settings:function(a){return this.S(a.target).closest("["+this.attr_name()+"]").data(this.attr_name(!0)+"-init")||
this.settings},get_wrapper:function(a){a=this.S(a?a.target:this.scope).closest(".off-canvas-wrap");0===a.length&&(a=this.S(".off-canvas-wrap"));return a},reflow:function(){}}})(jQuery,window,window.document);(function(a,d,c,b){Foundation.libs.equalizer={name:"equalizer",version:"5.2.3",settings:{use_tallest:!0,before_height_change:a.noop,after_height_change:a.noop,equalize_on_stack:!1},init:function(a,b,c){Foundation.inherit(this,"image_loaded");this.bindings(b,c);this.reflow()},events:function(){this.S(d).off(".equalizer").on("resize.fndtn.equalizer",function(a){this.reflow()}.bind(this))},equalize:function(b){var c=b.find("["+this.attr_name()+"-watch]:visible"),d=b.data(this.attr_name(!0)+"-init");
if(0!==c.length){c.first().offset();d.before_height_change();b.trigger("before-height-change");c.height("inherit");var k=c.map(function(){return a(this).outerHeight(!1)}).get(),k=d.use_tallest?Math.max.apply(null,k):Math.min.apply(null,k);c.css("height",k);d.after_height_change();b.trigger("after-height-change")}},reflow:function(){var b=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var c=a(this);b.image_loaded(b.S("img",this),function(){b.equalize(c)})})}}})(jQuery,window,window.document);(function(a,d,c,b){function e(a){var b=/fade/i.test(a);a=/pop/i.test(a);return{animate:b||a,pop:a,fade:b}}Foundation.libs.reveal={name:"reveal",version:"5.2.3",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:a(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,
visibility:"hidden",display:"none"}}},init:function(b,c,d){a.extend(!0,this.settings,c,d);this.bindings(c,d)},events:function(a){var b=this,d=b.S;d(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(a){a.preventDefault();if(!b.locked){a=d(this);var c=a.data(b.data_attr("reveal-ajax"));b.locked=!0;"undefined"===typeof c?b.open.call(b,a):(c=!0===c?a.attr("href"):c,b.open.call(b,a,{url:c}))}});d(c).on("touchend.fndtn.reveal click.fndtn.reveal",this.close_targets(),
function(a){a.preventDefault();if(!b.locked){var c=d("["+b.attr_name()+"].open").data(b.attr_name(!0)+"-init"),e=d(a.target)[0]===d("."+(c?c.bg_class:null))[0];if(e)if(c.close_on_background_click)a.stopPropagation();else return;b.locked=!0;b.close.call(b,e?d("["+b.attr_name()+"].open"):d(this).closest("["+b.attr_name()+"]"))}});if(0<d("["+b.attr_name()+"]",this.scope).length)d(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",
this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video);else d(this.scope).on("open.fndtn.reveal","["+b.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+b.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal",
"["+b.attr_name()+"]",this.close_video);return!0},key_up_on:function(a){var b=this;b.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(a){var c=b.S("["+b.attr_name()+"].open"),d=c.data(b.attr_name(!0)+"-init");d&&27===a.which&&d.close_on_esc&&!b.locked&&b.close.call(b,c)});return!0},key_up_off:function(a){this.S("body").off("keyup.fndtn.reveal");return!0},open:function(b,c){var d=this,e;b?"undefined"!==typeof b.selector?e=d.S("#"+b.data(d.data_attr("reveal-id"))).first():(e=d.S(this.scope),
c=b):e=d.S(this.scope);var l=e.data(d.attr_name(!0)+"-init"),l=l||this.settings;if(!e.hasClass("open")){var n=d.S("["+d.attr_name()+"].open");"undefined"===typeof e.data("css-top")&&e.data("css-top",parseInt(e.css("top"),10)).data("offset",this.cache_offset(e));this.key_up_on(e);e.trigger("open");1>n.length&&this.toggle_bg(e,!0);"string"===typeof c&&(c={url:c});if("undefined"!==typeof c&&c.url){var p="undefined"!==typeof c.success?c.success:null;a.extend(c,{success:function(b,c,f){a.isFunction(p)&&
p(b,c,f);e.html(b);d.S(e).foundation("section","reflow");d.S(e).children().foundation();0<n.length&&d.hide(n,l.css.close);d.show(e,l.css.open)}});a.ajax(c)}else 0<n.length&&this.hide(n,l.css.close),this.show(e,l.css.open)}},close:function(a){a=a&&a.length?a:this.S(this.scope);var b=this.S("["+this.attr_name()+"].open"),c=a.data(this.attr_name(!0)+"-init")||this.settings;0<b.length&&(this.locked=!0,this.key_up_off(a),a.trigger("close"),this.toggle_bg(a,!1),this.hide(b,c.css.close,c))},close_targets:function(){var a=
"."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?a+", ."+this.settings.bg_class:a},toggle_bg:function(c,d){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=a("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var e=0<this.settings.bg.filter(":visible").length;d!=e&&((d==b?e:!d)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(b,c){if(c){var k=b.data(this.attr_name(!0)+"-init"),k=k||this.settings;if(0===b.parent("body").length){var m=
b.wrap('<div style="display: none;" />').parent(),l=this.settings.rootElement||"body";b.on("closed.fndtn.reveal.wrapped",function(){b.detach().appendTo(m);b.unwrap().unbind("closed.fndtn.reveal.wrapped")});b.detach().appendTo(l)}l=e(k.animation);l.animate||(this.locked=!1);if(l.pop){c.top=a(d).scrollTop()-b.data("offset")+"px";var n={top:a(d).scrollTop()+b.data("css-top")+"px",opacity:1};return setTimeout(function(){return b.css(c).animate(n,k.animation_speed,"linear",function(){this.locked=!1;b.trigger("opened")}.bind(this)).addClass("open")}.bind(this),
k.animation_speed/2)}return l.fade?(c.top=a(d).scrollTop()+b.data("css-top")+"px",n={opacity:1},setTimeout(function(){return b.css(c).animate(n,k.animation_speed,"linear",function(){this.locked=!1;b.trigger("opened")}.bind(this)).addClass("open")}.bind(this),k.animation_speed/2)):b.css(c).show().css({opacity:1}).addClass("open").trigger("opened")}k=this.settings;if(e(k.animation).fade)return b.fadeIn(k.animation_speed/2);this.locked=!1;return b.show()},hide:function(b,c){if(c){var k=b.data(this.attr_name(!0)+
"-init"),k=k||this.settings,m=e(k.animation);m.animate||(this.locked=!1);if(m.pop){var l={top:-a(d).scrollTop()-b.data("offset")+"px",opacity:0};return setTimeout(function(){return b.animate(l,k.animation_speed,"linear",function(){this.locked=!1;b.css(c).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),k.animation_speed/2)}return m.fade?(l={opacity:0},setTimeout(function(){return b.animate(l,k.animation_speed,"linear",function(){this.locked=!1;b.css(c).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),
k.animation_speed/2)):b.hide().css(c).removeClass("open").trigger("closed")}k=this.settings;return e(k.animation).fade?b.fadeOut(k.animation_speed/2):b.hide()},close_video:function(b){b=a(".flex-video",b.target);var c=a("iframe",b);0<c.length&&(c.attr("data-src",c[0].src),c.attr("src","about:blank"),b.hide())},open_video:function(c){c=a(".flex-video",c.target);var d=c.find("iframe");if(0<d.length){if("string"===typeof d.attr("data-src"))d[0].src=d.attr("data-src");else{var e=d[0].src;d[0].src=b;d[0].src=
e}c.show()}},data_attr:function(a){return 0<this.namespace.length?this.namespace+"-"+a:a},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10);a.hide();return b},off:function(){a(this.scope).off(".fndtn.reveal")},reflow:function(){}}})(jQuery,window,window.document);var BasketViewModel=function(){var a=this;a.properties=ko.observableArray();a.total=ko.observable(0);a.formatCurrency=function(a){return void 0===a?0:"\u00a3"+a.toFixed(2)};a.updateCartCount=function(a){var c=$(".basket_item_count");0<a?(c.show(),c.text(a)):c.hide()};a.loadBasket=function(d){$.ajax({url:"/rest/basket",type:"GET",success:function(c){c=c.data;a.updateCartCount(c.total_items);a.total(c.total);a.properties.removeAll();for(var b=0;b<c.properties.length;b++)a.properties.push(c.properties[b]);
0<c.properties.length?$(".btn-cart").removeClass("cart_empty"):$(".btn-cart").addClass("cart_empty");"function"===typeof d&&d(!1!==c.properties)}})};a.addItem=function(d){$.ajax({url:"/rest/basket/"+(d.id?d.id:d.group_name),type:"POST",dataType:"json",data:{group_name:d.group_name,property_id:d.property_id?d.property_id:null},success:function(){$(document).trigger("refresh_services");a.loadBasket()}})};a.removeItem=function(d){$.ajax({url:"/rest/basket/"+(d.id?d.id:d.group_name),type:"DELETE",success:function(){a.loadBasket();
Behaviour.Services.replaceElementIfServiceBought();Behaviour.Services.reloadServicesList();$(document).trigger("refresh_services");($("#checkout-container").length||$("#property-listing-details").length)&&window.location.reload()}})};a.removeAllItems=function(d){$.ajax({url:"/rest/basket/"+(d.id?d.servicePackage:d.group_name)+"?all=true&property_id="+d.property_id,type:"DELETE",success:function(){a.loadBasket();Behaviour.Services.replaceElementIfServiceBought();Behaviour.Services.reloadServicesList();
$(document).trigger("refresh_services");($("#checkout-container").length||$("#property-listing-details").length)&&window.location.reload()}})}};var ListingServiceViewModel=function(a){var d=this;d.property_id=a.data("property-id");d.services=ko.observableArray();var c=void 0!==a.data("type")?a.data("type"):"lettings";d.loadServicesList=function(){$.ajax({url:"/rest/listingservice/"+d.property_id+"?from_action="+a.data("action")+"&type="+c,type:"GET",success:function(a){a=a.data;d.services.removeAll();for(var c=0;c<a.length;c++)a[c].price=a[c].price.toFixed(2),a[c].price_int=a[c].price.split(".")[0],a[c].price_digit=a[c].price.split(".")[1],
a[c].net=a[c].net.toFixed(2),a[c].net_int=a[c].net.split(".")[0],a[c].net_digit=a[c].net.split(".")[1],d.services.push(a[c]);$(document).foundation("equalizer","reflow");Behaviour.Services.replaceElementIfServiceBought()}})};$(document).on("load_services_list",d.loadServicesList)};var Behaviour=Behaviour||{};var Options={GAEvent:{selector:"html"},Uploads:{settings:{minWidth:250,minHeight:300},selector:"property-uploads"},Ajax:{selector:"body"},Features:{selector:"property-features"},PropertyTypes:{selector:"main_property_type"},NLGServices:{selector:"available_nlg_service_list"},Functions:{selector:"body"},Modal:{selector:"ajax-modal"},ComboBox:{selector:"search-form"},Forms:{selector:"form"},Sales:{selector:"sales"},Register:{selector:"register-wait"},Main:{selector:"body"},Services:{selector:"body"},
ServicesApp:{selector:"services"},ListingMap:{selector:"listing-map"},SearchMap:{selector:"search-map"},PropertySearch:{selector:"single-property-details"},PropertyDetails:{selector:"property-details"},SearchApp:{selector:"search-view"}};Behaviour.Ajax={loadAjaxBasedOnUrl:function(a,d){void 0==d&&(d="POST");if(void 0!=$(a).attr("href"))var c=$(a).attr("href");else void 0!=$(a).attr("data-ajax-href")&&(c=$(a).attr("data-ajax-href"));void 0!=$(a).attr("data-replace-with")&&$(a).attr("data-replace-with");var b="#"+$(a).attr("data-replace-id"),e=$(a).attr("class");$.ajax({url:c,dataType:"json",type:d,success:function(a,c,d){if(-1==e.indexOf("no-login")||-1<e.indexOf("no-login")&&-1==a.html.indexOf("register-signin-block"))$(b).html(a.html),
$(".ajax-form").unbind().ajaxform(b),Behaviour.Ajax.triggerAjaxContent(),Behaviour.Main.resizeTextArea()},error:function(a,b,c){$("body").html(a.responseText)}})},autoloadAjaxContent:function(a){$("input.ajax-load:checked",a).each(function(){Behaviour.Ajax.loadAjaxBasedOnUrl($(this))});$(".ajax-load-inplace",a).each(function(){$(this).unbind();Behaviour.Ajax.loadAjaxBasedOnUrl($(this),"GET")})},triggerAjaxContent:function(a){$(".ajax-load",a).on("click",function(a){a.preventDefault();Behaviour.Ajax.loadAjaxBasedOnUrl($(this),
"GET")})},init:function(){(-1<window.location.pathname.indexOf("messaging")||-1<window.location.pathname.indexOf("ownedpropertydetails"))&&640>window.innerWidth&&$(".property_message_list a").removeClass("ajax-load");Behaviour.Ajax.autoloadAjaxContent($(document));Behaviour.Ajax.triggerAjaxContent($(document));$.fn.ajaxform=function(a,d){function c(){var c=b.serialize();$.ajax({type:e.postType,url:e.url,data:c,dataType:e.type,success:function(b,c,d){$(a).html(b.html);$(".ajax-form").unbind().ajaxform(a);
Behaviour.Main.init();Behaviour.Ajax.triggerAjaxContent();$(document).foundation("tooltip","reflow");$(document).foundation("tab","reflow")},error:function(a,b,c){}})}var b=$(this).is("form")?$(this):$(this).find(".ajax-form").eq(0),e={type:"json",postType:b.attr("method"),url:b.attr("action")},e=$.extend(e,d);return function(){b.submit(function(a){a.preventDefault();c()})}()}}};Behaviour.ComboBox={init:function(){$.widget("custom.combobox",{_create:function(){this.wrapper=$("<span>").addClass("custom-combobox").insertAfter(this.element);this.element.hide();this._createAutocomplete();this._createShowAllButton()},_createAutocomplete:function(){var a=this.element.children(":selected"),a=a.val()||""===a.val()?a.text():"";this.input=$("<input>").appendTo(this.wrapper).val(a).addClass("combo-box-input icon-chevron").autocomplete({delay:0,minLength:0,source:$.proxy(this,"_source")});
this._on(this.input,{autocompleteselect:function(a,c){c.item.option.selected=!0;this._trigger("select",a,{item:c.item.option})},autocompletechange:"_removeIfInvalid"})},_createShowAllButton:function(){var a=this.input,d=!1;$("<a>").attr("tabIndex",-1).appendTo(this.wrapper).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("custom-combobox-toggle ui-corner-right").mousedown(function(){d=a.autocomplete("widget").is(":visible")}).click(function(){a.focus();
d||a.autocomplete("search","")})},_source:function(a,d){var c=new RegExp($.ui.autocomplete.escapeRegex(a.term),"i");d(this.element.children("option").map(function(){var b=$(this).text();if(this.value&&(!a.term||c.test(b)))return{label:b,value:b,option:this}}))},_removeIfInvalid:function(a,d){if(!d.item){var c=this.input.val().toLowerCase(),b=!1;this.element.children("option").each(function(){if($(this).text().toLowerCase()===c)return this.selected=b=!0,!1});b||(this.input.val(""),this.element.val(""),
this.input.data("ui-autocomplete").term="")}},_destroy:function(){this.wrapper.remove();this.element.show()}});$("#combo_box_min").combobox();$("#combo_box_max").combobox();$(".combo-box-input").keypress(function(a){13==a.which&&a.preventDefault()});$(".combo-box-input").on("click",function(){this.select()})}};Behaviour.Features={enableDisabledFeatureBtns:function(){var a=$('.form-collection-features input[type="text"]').length;10===a?$("#add_feature_btn").attr("disabled","disabled").toggleClass("deactivated active"):1<a&&$("#add_feature_btn").removeAttr("disabled").addClass("active").removeClass("deactivated");4>a?$(".del_feature_btn").attr("disabled","disabled").toggleClass("deactivated active"):3<a&&$(".del_feature_btn").removeAttr("disabled").addClass("active").removeClass("deactivated");Behaviour.Features.hideShowDelFeature(a);
Behaviour.Features.hideShowRequiredIcon()},addPropertyFeature:function(){var a=$('.form-collection-features input[type="text"]').length;if(10>a){var d=$(".form-collection-features span").data("template"),d=d.replace(/__index__/g,a);$(".form-collection-features").append(d)}Behaviour.Features.enableDisabledFeatureBtns();return!1},deletePropertyFeature:function(a){if(3<$('.form-collection-features input[type="text"]').length){var d=$(a).parents(".ep-form-inline-container").find('input[type="text"]').attr("name");
$("."+d.replace("[","").replace("]","")).remove();$(a).parent().parent().next().remove();$(a).parent().parent().remove()}Behaviour.Features.enableDisabledFeatureBtns()},hideShowDelFeature:function(a){3>=a?$(".form-collection-features .del_feature_btn").parent().hide():$(".form-collection-features .del_feature_btn").parent().show()},hideShowRequiredIcon:function(){$(".ep-form-inline-container").each(function(a){2>=a?$(this).children("div.required-icon").show():$(this).children("div.required-icon").hide()})},
init:function(){var a=$('.form-collection-features input[type="text"]').length;Behaviour.Features.enableDisabledFeatureBtns();Behaviour.Features.hideShowDelFeature(a);Behaviour.Features.hideShowRequiredIcon()}};Behaviour.Functions={trace:function(a){try{console.log(a)}catch(d){alert(a)}},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},safeTagsDom:function(a){var d=document.createElement("div");d.appendChild(document.createTextNode(a));return d.innerHTML},urldecode:function(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))},urlencode:function(a){return encodeURIComponent(a.replace(/&amp;/g,"&"))},getUrlVars:function(a){for(var d=[],c=a.slice(a.indexOf("?")+1).split("&"),b=0;b<c.length;b++)a=
c[b].split("="),d.push(a[0]),d[a[0]]=a[1];return d},removeUrlVars:function(a,d){var c=a.split("?");if(2<=c.length){for(var b=c.shift(),e=c.join("?"),c=encodeURIComponent(d)+"=",e=e.split(/[&;]/g),f=e.length;0<f--;)-1!==e[f].lastIndexOf(c,0)&&e.splice(f,1);a=0<e.length?b+"?"+e.join("&"):b}return a},addDataToUrl:function(a,d){if("object"==typeof d)for(var c in d)a=Behaviour.Functions.updateQueryStringParameter(a,c,d[c]);return a},updateQueryStringParameter:function(a,d,c){var b=new RegExp("([?|&])"+
d+"=.*?(&|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return a.match(b)?a.replace(b,"$1"+d+"="+c+"$2"):a+e+d+"="+c},ucfirst:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},checkFieldsForModifications:function(){$("#location_address_fields").length&&$('input[name="address1"], input[name="address2"], input[name="address3"], input[name="address4"], input[name="longitude"], input[name="latitude"], #artirix_address').each(function(){var a=$(this);$(a).attr("data-value",$(a).val());$(a).unbind("keyup");
$(a).keyup(function(){$("input[name=address1]").val()!=$("input[name=address1]").attr("data-value")||$("input[name=address2]").val()!=$("input[name=address2]").attr("data-value")||$("input[name=address3]").val()!=$("input[name=address3]").attr("data-value")||$("input[name=address4]").val()!=$("input[name=address4]").attr("data-value")?($("input[name=longitude]").val(""),$("input[name=latitude]").val(""),$("#artirix_address").val("")):($("input[name=longitude]").val($("input[name=longitude]").attr("data-value")),
$("input[name=latitude]").val($("input[name=latitude]").attr("data-value")),$("#artirix_address").val($("#artirix_address").attr("data-value")))})})},isModal:function(a){return!1},getReferer:function(a){return window.location.pathname},refreshDisableFields:function(){$("input.toggle-disable:enabled:checked").each(function(){Behaviour.Functions.disableAndEnable($(this))})},disableFields:function(){$("input.toggle-disable:enabled:checked").each(function(){Behaviour.Functions.disableAndEnable($(this))})},
disableAndEnable:function(a){var d=void 0==a.val()?0:a.val();Behaviour.Functions.disableAll(a);Behaviour.Functions.enable(a,d)},disableAll:function(a){a=$(a).attr("data-disable-id");$('[id^="'+a+'"]').each(function(){$(this).addClass("disabled");$("input, textarea, select",this).each(function(){$(this).prop("disabled",!0)})})},enable:function(a,d){var c=$(a).attr("data-disable-id"),b=(Behaviour.Functions.isNumeric(d),"-"+d);$('[id="'+(c+b)+'"]').each(function(){$(this).removeClass("disabled");$("input, textarea, select",
this).each(function(){$(this).prop("disabled",!1)})})},refreshHideAndShowDisplay:function(){$(".hide-element").hide();$("input.toggle-display:enabled:checked").each(function(){Behaviour.Functions.hideAndShow($(this))});$("select.toggle-display:enabled option:selected").each(function(){Behaviour.Functions.hideAndShowSelect($(this))})},hideAndShow:function(a){var d=void 0==a.val()?0:a.val();Behaviour.Functions.hideAllAndDisable(a);Behaviour.Functions.showAndEnable(a,d)},hideAndShowSelect:function(a){var d=
void 0==a.val()?0:a.val();a=a.parent();Behaviour.Functions.hideAllAndDisable(a);Behaviour.Functions.showAndEnable(a,d)},hideAllAndDisable:function(a){var d=$(a).attr("data-replace-id");"hidden"==$(a).attr("type")&&(d=$(a).next("input[type=checkbox]").attr("data-replace-id"));$('[id^="'+d+'"]').each(function(){$(this).hide();"ownership-company"===this.id||"ownership-friend"===this.id?$(this).children(":first").removeClass("active"):($("#ownership-company").hide(),$("#ownership-friend").hide());$("input, textarea, select",
this).each(function(){$(this).prop("disabled",!0)})})},showAndEnable:function(a,d){var c=$(a).attr("data-replace-id"),b=(Behaviour.Functions.isNumeric(d),"-"+d);$('[id="'+(c+b)+'"]').each(function(){$(this).show();"ownership-company"!==this.id&&"ownership-friend"!==this.id||$(this).children(":first").addClass("active");$("input, textarea, select",this).each(function(){$(this).prop("disabled",!1)})})},initAnimatedLabels:function(){$(".animate-label-on-input").each(function(a,d){var c=$(d);c.find("input, select").first().each(function(){var a=
$(this);""==$(this).val()||" "==$(this).val()||a.hasClass("has-typed")||(a.addClass("has-typed"),c.find("label").addClass("active"))});c.find("input").on("keyup",function(){var a=$(this);""==this.value||" "==this.value?(a.removeClass("has-typed"),c.find("label").removeClass("active")):a.hasClass("has-typed")||(a.addClass("has-typed"),c.find("label").addClass("active"))});c.find("select").on("change",function(){var a=$(this);""==this.value||" "==this.value?(a.removeClass("has-typed"),c.find("label").removeClass("active")):
a.hasClass("has-typed")||(a.addClass("has-typed"),c.find("label").addClass("active"))})})},redirectOrRefreshPage:function(a){"undefined"!=typeof a&&"undefined"!=typeof a.url&&null!=a.url?window.location.assign(a.url):(a=Behaviour.Functions.removeUrlVars(window.location.href,"modal"),window.location.href=a)},fixHelper:function(a,d){d.children().each(function(){$(this).width($(this).width())});return d},trim:function(a,d){a=a.replace(/^\s+|\s+$/g,"");d&&","==d&&(a=a.replace(/^,+|,+$/g,""));return a},
abbrNum:function(a,d){d=Math.pow(10,d);for(var c=["k","m","b","t"],b=c.length-1;0<=b;b--){var e=Math.pow(10,3*(b+1));if(e<=a){a=Math.round(a*d/e)/d;a=Math.round(10*a)/10;1E3==a&&b<c.length-1&&(a=1,b++);a+=c[b];break}}return a},getBaseLog:function(a,d){return Math.round(Math.log(d)/Math.log(a))},truncate:function(a,d){return a.length>d?a.substring(0,d)+"...":a},init:function(){$.fn.exists=function(a){var d=[].slice.call(arguments,1);this.length&&a.call(this,d);return this};"function"!=typeof String.prototype.trim&&
(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});$.fn.serializeObject=function(){var a={};$.each(this.serializeArray(),function(d,c){var b=c.name,e=c.value;a[b]=void 0===a[b]?e:$.isArray(a[b])?a[b].concat(e):[a[b],e]});return a}}};Behaviour.ListingMap={init:function(){var a=function(a,c,b){this.single=b;this.gm=window.google.maps;this.results=c;this.markers=[];this.pins=[];this.tgt=$(a)[0];this.current=0;null!=this.gm&&this.init();return this};a.prototype.init=function(){this.map=new this.gm.Map(this.tgt);this.bounds=new this.gm.LatLngBounds;this.epicon=new google.maps.MarkerImage("/img/Icon-MapPin-Single.png",new google.maps.Size(50,46),new google.maps.Point(0,0),new google.maps.Point(14,45));this.epiconActive=new google.maps.MarkerImage("/img/Icon-MapPin-Single-Active.png",
new google.maps.Size(50,46),new google.maps.Point(0,0),new google.maps.Point(14,45));this.epiconInactive=new google.maps.MarkerImage("/img/Icon-MapPin-Single-Inactive.png",new google.maps.Size(50,46),new google.maps.Point(0,0),new google.maps.Point(14,45));for(var a=0;a<this.results.length;a++)this.getPoints(a)};a.prototype.getPoints=function(a){var c=this,b=this.results[a].property.latlon.split(","),e=new this.gm.LatLng(parseFloat(b[0]),parseFloat(b[1])),f=parseFloat(b[0]),b=parseFloat(b[1]),h=new this.gm.LatLngBounds(new this.gm.LatLng(f-
.001,b-.001),new this.gm.LatLng(f+.001,b+.001));this.markers.push(e);this.bounds.extend(e);var k=new this.gm.Marker({position:e,map:c.map,icon:c.epicon,draggable:!0,property_id:c.results[a].property.id});this.pins.push(k);this.single?(this.gm.event.addListener(k,"dragend",function(a){$('input[name="latitude"]').val(a.latLng.lat());$('input[name="longitude"]').val(a.latLng.lng())}),this.gm.event.addListener(c.map,"bounds_changed",function(){if(!h.contains(c.map.getCenter())){var a=c.map.getCenter(),
b=a.lng(),a=a.lat(),d=h.getNorthEast().lng(),f=h.getNorthEast().lat(),g=h.getSouthWest().lng(),u=h.getSouthWest().lat();b<g&&(b=g);b>d&&(b=d);a<u&&(a=u);a>f&&(a=f);c.map.setCenter(new c.gm.LatLng(a,b));k.setPosition(e)}})):(this.gm.event.addListener(k,"click",function(a){a="."+k.property_id.toString();k.property_id!=c.current&&(c.loadPreview(a),c.current=k.property_id)}),this.gm.event.addListener(c.map,"drag",function(a){$tgt=$(".preview-hover");$tgt.hasClass("active")&&($tgt.html(""),$tgt.removeClass("active"));
c.current=null}),this.gm.event.addListener(k,"mouseover",function(a){var b=k.property_id.toString();k.setZIndex(1E4);$(".properties__list li .property-select").each(function(a,d){var e=$(d);if(e.data("id")!=b)e.css("opacity",".33");else for(a=0;a<c.pins.length;a++)c.pins[a].property_id.toString()!=b&&c.pins[a].setIcon(c.epiconInactive)})}),this.gm.event.addListener(k,"mouseout",function(a){k.setZIndex();$(".properties__list li .property-select").each(function(a,b){$(b).css("opacity","1");for(a=0;a<
c.pins.length;a++)c.pins[a].icon.url!=c.epicon.url&&c.pins[a].setIcon(c.epicon)})}),this.gm.event.addListener(c.map,"zoom_changed",function(){$tgt=$(".preview-hover");$tgt.hasClass("active")&&($tgt.html(""),$tgt.removeClass("active"));c.current=null}));this.setMap()};a.prototype.setMap=function(){var a=this;this.map.setCenter(this.bounds.getCenter());this.map.fitBounds(this.bounds);!0===this.single&&a.gm.event.addListener(a.map,"idle",function(){a.map.setZoom(15)})};a.prototype.loadPreview=function(a){$this=
this;$tgt=$(".preview-hover");el=$(a).clone();$tgt.html("").css({top:window.coords.y,left:function(){var a=window.coords.x,b=$(window).width(),d=a;a>b-155&&(diff=b-155-a,d+=diff);a-155<b/2&&(diff=b/2-(a-155),d+=diff);return d}()}).html(el);$tgt.find(".property-select").addClass("active-hover").css({"margin-top":-($tgt.height()+20)});$tgt.on("mouseup",function(){$tgt.removeClass("active");$this.current=null});$tgt.hasClass("active")||$tgt.addClass("active")};window.map_data&&new a(".postcode-map",
window.map_data,!0)}};Function.prototype.debounce=function(a,d){var c=this,b;return function(){var e=this,f=arguments;b?clearTimeout(b):d&&c.apply(e,f);b=setTimeout(function(){d||c.apply(e,f);b=null},a||100)}};
Behaviour.SearchMap={init:function(){},createMap:function(a){this.gm=window.google.maps;this.pins=[];this.tgt=$(a)[0];this.markerClusterer=null;if("undefined"==typeof this.map){this.map=new this.gm.Map(this.tgt,{maxZoom:16,scrollwheel:!1});a=new google.maps.LatLngBounds;var d=new google.maps.LatLng(52.6360771,-1.1311002);a.extend(d);this.map.setZoom(6);this.map.setCenter(a.getCenter())}return this},addPins:function(a,d){this.results=a;this.pins=[];this.bounds=new google.maps.LatLngBounds;this.infowindow=
new google.maps.InfoWindow;var c=[],b;$.each(this.results,function(b){-1===c.indexOf(a[b].lat_lon)&&c.push(a[b].lat_lon)});var e=this;0<c.length&&$.each(c,function(a,c){var d=c.split(","),m=e.results.filter(function(a){return c===a.lat_lon});if(1<m.length){var l="",l=l.concat("<div class='search-result-content'>");m.forEach(function(a){l=l.concat("<a href='#' class='details_link' data-ref='"+a.property_reference+"'>");l=l.concat("<div class='property-map-info'>");l=l.concat("<div class='col-xs-3 no-padding'>");
l=l.concat("<div class='property-map-info-img'style=background-image:url('"+a.display_photo+"')>");l=l.concat("</div>");l=l.concat("</div>");l=l.concat("<div class='col-xs-8'>");l=l.concat("<p>"+a.display_address+"</p>");l=l.concat("</div>");l=l.concat("<div class='col-xs-1'>");l=l.concat("<span class='property_arrow_right'></span>");l=l.concat("</div>");l=l.concat("</div>");l=l.concat("</a>")});var l=l.concat("</div>"),n=10<e.map.getZoom()?new MarkerWithLabel({position:{lat:Number(d[0]),lng:Number(d[1])},
map:e.map,labelContent:"<div class='markerLabel'>"+m.length+"+</div>",labelAnchor:new google.maps.Point(30,40),labelClass:"markerLabels",_id:e.results[a]._id,address:e.results[a].display_address,display_photo:e.results[a].display_photo,display_photo_alt:e.results[a].display_photo_alt,draggable:!1,raiseOnDrag:!1}):new e.gm.Marker({position:{lat:Number(d[0]),lng:Number(d[1])},map:e.map,_id:e.results[a]._id,address:e.results[a].display_address,display_photo:e.results[a].display_photo,display_photo_alt:e.results[a].display_photo_alt,
icon:"/img/search_images/map/pin-orange-small.png"})}else{var l="",l=l.concat("<div class='search-result-content'>"),l=l.concat("<a href='#' class='details_link' data-ref='"+m[0].property_reference+"'>"),l=l.concat("<div class='property-map-info'>"),l=l.concat("<div class='col-xs-3 no-padding'>"),l=l.concat("<div class='property-map-info-img'style=background-image:url('"+m[0].display_photo+"')>"),l=l.concat("</div>"),l=l.concat("</div>"),l=l.concat("<div class='col-xs-8'>"),l=l.concat("<p>"+m[0].display_address+
"</p>"),l=l.concat("</div>"),l=l.concat("<div class='col-xs-1'>"),l=l.concat("<span class='property_arrow_right'></span>"),l=l.concat("</div>"),l=l.concat("</div>"),l=l.concat("</a>"),l=l.concat("</div>"),p="",p="";"residential"===m[0].property_category?p=m[0].price_monthly:"commercial"===m[0].property_category?p=m[0].price_annually:"residential_sales"===m[0].property_category&&(p=m[0].price_annually);var p=p.replace(/\,/g,""),p=parseInt(p,10),p=Behaviour.Functions.abbrNum(p,Behaviour.Functions.getBaseLog(10,
p)),g=!1;null!==m[0].price_qualifier&&"residential_sales"!==m[0].property_category&&(g=!0);n=10<e.map.getZoom()&&!g?new MarkerWithLabel({position:{lat:Number(d[0]),lng:Number(d[1])},map:e.map,labelContent:"<div class='markerLabel'>\u00a3"+p+"</div>",labelAnchor:new google.maps.Point(30,40),icon:"/img/search_images/transparent.gif",labelClass:"markerLabels",_id:e.results[a]._id,address:e.results[a].display_address,display_photo:e.results[a].display_photo,display_photo_alt:e.results[a].display_photo_alt,
draggable:!1,raiseOnDrag:!1}):new e.gm.Marker({position:{lat:Number(d[0]),lng:Number(d[1])},map:e.map,_id:e.results[a]._id,address:e.results[a].display_address,display_photo:e.results[a].display_photo,display_photo_alt:e.results[a].display_photo_alt,icon:"/img/search_images/map/pin-orange-small.png"})}e.pins.push(n);n.addListener("click",function(){if(b===n._id)e.infowindow.close(),b=null;else{e.change_area=!1;e.infowindow.setContent(l);e.infowindow.open(e.map,n);b=n._id;for(var a=0;a<e.pins.length;a++)e.pins[a].setOptions({labelClass:"markerLabels"}),
e.pins[a].setOptions({zIndex:1});n.setOptions({labelClass:"markerLabelsActive"})}});n.addListener("mouseover",function(){for(var a=0;a<e.pins.length;a++)e.pins[a].setOptions({zIndex:1});n.setOptions({zIndex:10})});e.gm.event.addListener(e.infowindow,"domready",function(){$(".details_link").off("click").on("click",function(){var a=$(this).data("ref");$(document).trigger("search.property_details",a)})});e.gm.event.addListener(e.infowindow,"closeclick",function(){for(var a=0;a<e.pins.length;a++)e.pins[a].setOptions({labelClass:"markerLabels"});
b=null});m=new e.gm.LatLng(parseFloat(d[0]),parseFloat(d[1]));p=parseFloat(d[0]);d=parseFloat(d[1]);new e.gm.LatLngBounds(new e.gm.LatLng(p-.001,d-.001),new e.gm.LatLng(p+.001,d+.001));e.bounds.extend(m)})},setListeners:function(){!0!==this.listeners_loaded&&($this=this,google.maps.event.clearListeners(this.map,"dragend"),this.map.addListener("dragend",function(){$this.change_area=!0}.debounce(300)),google.maps.event.clearListeners(this.map,"bounds_changed"),this.map.addListener("bounds_changed",
function(){var a=$this.map.getBounds(),d={};d.ne=a.getNorthEast().lat()+","+a.getNorthEast().lng();d.sw=a.getSouthWest().lat()+","+a.getSouthWest().lng();5<$this.map.getZoom()&&1==$this.change_area&&$(document).trigger("search.area_changed",d)}.debounce(500)),this.listeners_loaded=!0)},setClusters:function(){$this=this;null!==this.markerClusterer&&this.markerClusterer.clearMarkers();this.markerClusterer=new MarkerClusterer(this.map,this.pins,{gridSize:50,styles:[{textColor:"white",url:"/img/search_images/map/pin-orange.png",
height:53,width:53},{textColor:"white",url:"/img/search_images/map/pin-orange.png",height:53,width:53},{textColor:"white",url:"/img/search_images/map/pin-orange.png",height:53,width:53}],maxZoom:15,zoomOnClick:!0});google.maps.event.clearListeners(this.map,"clusterclick");google.maps.event.addListener(this.markerClusterer,"clusterclick",function(a){$this.change_area=!0;$this.map.fitBounds(a.getBounds())})},changeBounds:function(){this.map.fitBounds(this.bounds)}};Behaviour.Sales={is_logged_in:null,ui:{estimationModal:null,arrangeACall:null,buyNowModal:null,savings:{selling_price:null,commission:null,basic:null,standard:null,premium:null}},init:function(){$.ajax({url:"/rest/admin",type:"GET",success:function(a){Behaviour.Sales.is_logged_in=a.data}});$(".compare-toggle").click(function(a){a.preventDefault();$(this).toggleClass("active");$(this).hasClass("active")?($(".saving-box").addClass("active"),$(".features-box").addClass("active"),$(".package-module-description").addClass("active")):
($(".saving-box").removeClass("active"),$(".features-box").removeClass("active"),$(".package-module-description").removeClass("active"))});$(".box1 .package-link, .box1 .details-cta").click(function(a){a.preventDefault();$(".box1 .saving-box").toggleClass("active");$(".box1 .features-box").toggleClass("active");$(".box1 .package-module-description").toggleClass("active")});$(".box2 .package-link, .box2 .details-cta").click(function(a){a.preventDefault();$(".box2 .saving-box").toggleClass("active");
$(".box2 .features-box").toggleClass("active");$(".box2 .package-module-description").toggleClass("active")});$(".box3 .package-link, .box3 .details-cta").click(function(a){a.preventDefault();$(".box3 .saving-box").toggleClass("active");$(".box3 .features-box").toggleClass("active");$(".box3 .package-module-description").toggleClass("active")});$(".royalSlider").royalSlider({keyboardNavEnabled:!1,arrowsNav:!0,loop:!0,controlNavigation:"none",addActiveClass:!0,visibleNearby:{enabled:!0,centerArea:.7,
center:!0,breakpointCenterArea:.64,navigateByCenterClick:!1}});992>screen.width?$(".infotip").tooltipster({position:"bottom",maxWidth:300}):$(".infotip").tooltipster({position:"right",maxWidth:300});$(".featured-img").height($(".featured-img").width()+30);$("#slideshow > div:gt(0)").hide();setInterval(function(){$("#slideshow > div:first").fadeOut(1E3).next().fadeIn(1E3).end().appendTo("#slideshow")},7E3);$(window).resize(function(){$(".featured-img").height($(".featured-img").width()+30);$(".eq-height .col-xs-4").height($(".eq-height .col-xs-8").height())});
$(".slider").slider().slider("float");992<$(window).width()?$(".cta-btn").width($(".sales-res-cta-content").width()+20):$(".cta-btn").width($(".sales-res-cta-content").width()-10);$(window).resize(function(){992<$(window).width()?$(".cta-btn").width($(".sales-res-cta-content").width()+20):$(".cta-btn").width($(".sales-res-cta-content").width()-10)});$("#rsales-nav").remove().insertAfter("nav");$(".tabs-nav").each(function(){$(this).find("li").each(function(a){++a;$(this).click(function(){$("ul li.active").removeClass("active");
$(this).closest("li").addClass("active");$(this).addClass("active");$(".tabs-nav-content li:nth-child("+a+")").addClass("active")})})});$(".hww-tabs div").each(function(a){++a;$(this).click(function(){$("div.active").removeClass("active");$(this).closest("div").addClass("active");$(this).addClass("active");$(".hww-tabs-content .tab-li:nth-child("+a+")").addClass("active")})});$(".master-content").scroll(function(){375<=$(".master-content").scrollTop()?$("#rsales-nav").show():$("#rsales-nav").hide()});
$(".bedrooms").slider({max:10,min:1}).slider("pips",{rest:!1}).slider("float");var a=$("#get-an-estimate"),d=$("#arrange-a-call"),c=$("#selected-address"),b=$("#purchase-pack-modal");Behaviour.Sales.ui.estimationModal=a.remodal();Behaviour.Sales.ui.arrangeACall=d.remodal();Behaviour.Sales.ui.buyNowModal=b.remodal();$("#open-get-an-estimate").click(function(){Behaviour.Sales.ui.estimationModal.open()});$("#open-arrange-a-call").click(function(){Behaviour.Sales.ui.arrangeACall.open()});$("a.next-step").click(function(a){a.preventDefault();
a=$(this).parents(".step").hide();var b=a.data("step-index");a=a.siblings(".step[data-step-index='"+(b+1)+"']");0<a.length&&(a.show(),Behaviour.Forms.selectOrDieRefresh())});a.find("[data-step-index='1']").show();d.find("[data-step-index='1']").show();b.find("[data-step-index='1']").show();b.on("closed",function(){b.find(".step").hide();b.find("[data-step-index='1']").show()});d.find(".step[data-step-index='1']").find("form").submit(function(a){a.preventDefault();var b=d.find("#contact-details").serializeObject();
""==d.find("select[name='time-frame']").val()?$(this).cancelSubmit():$.ajax({url:"/rest/sales/callback",type:"POST",data:b,success:function(){Behaviour.Sales.goToNextStep();d.find("#callback-time").text(b["time-frame"])}})});a.find(".step[data-step-index='1']").find("form").submit(function(a){a.preventDefault();var b=$(this),d=$("#find-postcode").serializeObject();$.ajax({url:"/rest/postcode/"+d.postcode,type:"GET",success:function(a){var b={address:a.data};a=[];for(var e=0;e<b.address.length;e++){var f=
[];""!==b.address[e].sub_building_name&&f.push(b.address[e].sub_building_name);""!==b.address[e].number&&f.push(b.address[e].number);""!==b.address[e].building_name&&f.push(b.address[e].building_name);f.push(b.address[e].main_or_only_street);f=f.join(", ");b.address[e].summary=f;a.push("<option value='"+e+"'>"+f+"</option>")}for(var p in d)b[p]=d[p];Behaviour.Sales.goToNextStep(b);$("#postcode-results").html(a.join("")).selectOrDie("destroy").selectOrDie({size:10,placeholder:"Postcode Predictions",
onChange:function(){var a=b.address[$(this).val()];c.find("p").show();c.find(".address_line_1").text(a.number||a.sub_building_name);c.find(".address_line_2").text(a.main_or_only_street);c.find(".address_line_3").text(a.city);c.find(".address_line_postcode").text(a.postcode)}});$("#property-type").selectOrDie("destroy").selectOrDie({size:10})},error:function(){b.cancelSubmit();postcode_field.focus()}})});a.find(".step[data-step-index='2']").find("form").submit(function(b){b.preventDefault();b=a.find(".step[data-step-index='2']").data("step-data");
b=JSON.parse(b);b.address=$("#postcode-results").find("option[value='"+$("#postcode-results").val()+"']").text();b.property_type=$("#property-type").val();b.bedrooms=$(".bedrooms").slider("value");$.ajax({url:"/rest/sales/valuation",type:"POST",data:b,success:function(){Behaviour.Sales.goToNextStep()}})});$("#property-search").click(function(){var a=$(this).siblings(".postcode").val(),c=$("select[name='property-search-results']");c.selectOrDie("disable");$.ajax({url:"/rest/postcode/"+a,type:"GET",
success:function(a){var d=a.data;a=[];for(var e=0;e<d.length;e++){var l=[];""!==d[e].sub_building_name&&l.push(d[e].sub_building_name);""!==d[e].number&&l.push(d[e].number);""!==d[e].building_name&&l.push(d[e].building_name);l.push(d[e].main_or_only_street);l=l.join(", ");d[e].summary=l;a.push("<option value='"+e+"'>"+l+"</option>")}c.html(a.join("")).selectOrDie("destroy").selectOrDie({size:10,onChange:function(){var a=d[$(this).val()];b.find(".address_line_1").val(a.summary);b.find(".address_line_2").val(a.main_or_only_street);
b.find(".address_line_3").val(""!=a.county_postal?a.county_postal:""!=a.county_traditional?a.county_traditional:a.county_administrative);b.find(".address_line_postcode").val(a.postcode)}}).selectOrDie("enable")}})});a.on("closed",Behaviour.Sales.resetModalJourneys);d.on("closed",Behaviour.Sales.resetModalJourneys);b.on("closed",Behaviour.Sales.resetModalJourneys);a.on("opening",Behaviour.Forms.selectOrDieRefresh);d.on("opening",Behaviour.Forms.selectOrDieRefresh);b.on("opening",Behaviour.Forms.selectOrDieRefresh);
Behaviour.Sales.ui.savings.selling_price=$("#sellingprice");Behaviour.Sales.ui.savings.commission=$("#commission");Behaviour.Sales.ui.savings.basic=$(".saving-amount-basic");Behaviour.Sales.ui.savings.standard=$(".saving-amount-standard");Behaviour.Sales.ui.savings.premium=$(".saving-amount-premium");Behaviour.Sales.ui.savings.selling_price.keyup(Behaviour.Sales.calculateSavings);Behaviour.Sales.ui.savings.commission.keyup(Behaviour.Sales.calculateSavings)},setAjaxFormModal:function(a){var d=null;
a.find("[type=submit]").click(function(){d={name:$(this).attr("name"),value:$(this).attr("value")};$(this).parents(".javascript-form").submit()});a.find(".javascript-form").unbind("submit").submit(function(c){c.preventDefault();c=$(this).serializeObject();c[d.name]=d.value;$.ajax({url:"/payment/viewbasket",type:"POST",data:c,success:function(b){Behaviour.Sales.handlePageAjaxLoad(b);Behaviour.Sales.setAjaxFormModal(a)}})});a.find("a").not(".postcode_lookup_button, [target='_blank']").unbind("click").click(function(c){c.preventDefault();
$.ajax({url:$(this).attr("href"),type:"GET",success:function(b){Behaviour.Sales.handlePageAjaxLoad(b);Behaviour.Sales.setAjaxFormModal(a)}})})},handlePageAjaxLoad:function(a){a=a.html;-1!==a.indexOf("properties_full")?($(".step[data-step-index='5']").hide(),$(".step[data-step-index='6']").show(),Behaviour.Forms.selectOrDieRefresh()):-1===a.indexOf("Your checkout basket is empty!")&&($(".step[data-step-index='5']").html(a),$(".step[data-step-index='5']").show().find(".js-remove-basket-item, .js-remove-basket-items, .js-buy-now, td.edd_cart_quantity .disabled").remove(),
Behaviour.Modal.initModalBehaviours(),Behaviour.Forms.initPostcodeFinder(),Behaviour.Forms.selectOrDieRefresh())},resetModalJourneys:function(){var a=$(".remodal");a.find(".step").hide();a.find(".step[data-step-index='1']").show();a.find("input[type='text'], input[type='email'], input[type='number']").val("");a.find("textarea").html("");a.find('input[type="button"]').removeAttr("disabled");a.find("select").val("");a.find("select[name='property-search-results']").html("").selectOrDie("disable");a.find(".bedrooms").slider("value",
1);a=a.find("#selected-address");a.find("p").hide();a.find("span").text("");$('input[type="submit"]').each(function(){var a=$(this);a.val(a.data("text-value"));a.removeAttr("disabled")})},getOpenModal:function(){var a=["opening","opened","closing"];if(-1!==a.indexOf(Behaviour.Sales.ui.estimationModal.getState()))return $("#get-an-estimate");if(-1!==a.indexOf(Behaviour.Sales.ui.arrangeACall.getState()))return $("#arrange-a-call");throw Error("No Modal is Open");},getCurrentStep:function(){return Behaviour.Sales.getOpenModal().find(".step:visible").data("step-index")},
getNextStep:function(){var a=Behaviour.Sales.getCurrentStep();return Behaviour.Sales.getOpenModal().find(".step[data-step-index='"+(a+1)+"']")},goToNextStep:function(a){var d=Behaviour.Sales.getNextStep();null!==a&&d.data("step-data",JSON.stringify(a));Behaviour.Sales.getOpenModal().find(".step").hide();d.show()},calculateSavings:function(){var a=parseInt(Behaviour.Sales.ui.savings.selling_price.val().replace(",","")),d=parseFloat(Behaviour.Sales.ui.savings.commission.val()).toFixed(2),c=a/100*d;
isNaN(a)||(a=isNaN(d)?0:c+c/100*20,$("#saving").html("\u00a3"+a),Behaviour.Sales.ui.savings.basic.html("\u00a3"+Behaviour.Sales.getSavings(a,475)),Behaviour.Sales.ui.savings.standard.html("\u00a3"+Behaviour.Sales.getSavings(a,825)),Behaviour.Sales.ui.savings.premium.html("\u00a3"+Behaviour.Sales.getSavings(a,1500)))},getSavings:function(a,d){return(0<a-d?a-d:0).toLocaleString()},authenticate:function(a,d){var c=new $.Deferred;$.ajax({url:"/rest/admin/null",type:d?"PUT":"POST",data:a,statusCode:{202:function(){c.resolve()},
400:function(a){c.reject(JSON.parse(a.responseText).message)}}});return c.promise()},getViewBasketPage:function(){return $.ajax({url:"/payment/viewbasket",type:"GET",dataType:"json"}).promise()},createProperty:function(a){return $.ajax({url:"/rest/sales/createProperty",type:"POST",data:a}).promise()},addPropertyPackage:function(a,d){return $.ajax({url:"/rest/sales/addPropertyPackage",type:"POST",data:{group_name:a,property_pex_id:d}}).promise()},checkPropertyPexSync:function(a){var d=$.Deferred();
(function b(){$.ajax({url:"/rest/sales/propertyReady?property_id="+a,type:"GET",statusCode:{200:function(a){d.resolve(a.data)},202:function(){setTimeout(b,2500)}}})})();return d.promise()}};window.onload=function(){$(".flexslider").flexslider({animation:"fade",slideshowSpeed:5E3,animationSpeed:500,controlNav:!1,directionNav:!1})};$.fn.modalform=function(a){function d(){var a=c.serialize();$.ajax({type:b.postType,url:b.url,data:a,dataType:b.type,success:function(a,c,d){Behaviour.Modal.doOpenedReturnedAction(a,"#ajax-modal")&&(void 0!==typeof a.html&&$("#ajax-modal").html(a.html),Behaviour.Modal.initModalBehaviours(),Behaviour.GAEvent.fireGaEvent(b.url))},error:function(a,b,c){$("body").html(a.responseText)}})}var c=$(this);console.log(c);var b={type:"json",postType:c.attr("method"),url:c.attr("action")+"?m=1"},b=$.extend(b,
a);return function(){c.submit(function(a){d();a.preventDefault()})}()};
Behaviour.Modal={doOpenedReturnedAction:function(a,d){if("undefined"!=typeof a.action)switch(a.action){case "close_modal":return Behaviour.Main.removeToolTips(),$(d).foundation("reveal","close"),!1;case "close_modal_refresh":return Behaviour.Main.removeToolTips(),$(d).foundation("reveal","close"),Behaviour.Functions.removeUrlVars(window.top.location.href,"modal"),window.top.location.reload(!0),!1;case "breakout":return window.location.href=a.url,!1}return!0},createAjax:function(a,d,c){var b=d;d=Behaviour.Functions.updateQueryStringParameter(d,
"m","true");d=Behaviour.Functions.updateQueryStringParameter(d,"base",encodeURIComponent(window.location.pathname));$.ajax({type:"GET",url:d,dataType:"json",success:function(d){Behaviour.Modal.doOpenedReturnedAction(d,a)&&($(a).html(d.html),void 0!=d.modal_size&&($(a).addClass(d.modal_size),$(a).hide().show(0)),$(a).foundation("reveal","open",c),Behaviour.Modal.initModalBehaviours(),Behaviour.GAEvent.fireGaEvent(b))},error:function(a,b,c){}})},refreshSidebar:function(){$.ajax({url:"/rest/replacesidebar",
method:"get",success:function(a){$(".left-off-canvas-menu").replaceWith(a.data);$(".ajax-load-inplace").each(function(){$(this).unbind();Behaviour.Ajax.loadAjaxBasedOnUrl($(this),"GET")});$(document).foundation("accordion","reflow")}})},refreshModalSelects:function(a){$("select",a).not(".select_or_die_exclude").selectOrDie("destroy").selectOrDie({size:10,onChange:function(){"postcode_lookup_list"==$(this).attr("name")&&Behaviour.Forms.populateAddress($(this));"main_property_type"==$(this).attr("id")&&
Behaviour.Forms.populatePropertyType($(this))}})},initModalBehaviours:function(){if("undefined"===typeof $.fn.modalform)throw Error("Somehow the modalform plugin is not there");0<$("#ajax-modal form").length&&$("#ajax-modal form").modalform();Behaviour.Main.init();$(document).foundation("tooltip","reflow");$(document).foundation("tab","reflow");Behaviour.Modal.refreshModalSelects($("#ajax-modal")[0]);Behaviour.Forms.init();Behaviour.Modal.refreshSidebar()},init:function(){$(document).on("open.fndtn.reveal",
"[data-reveal]",function(){$(this)});$(document).on("opened.fndtn.reveal","[data-reveal]",function(){Behaviour.Modal.refreshModalSelects(this)});$(document).on("close.fndtn.reveal","[data-reveal]",function(){$(this)});$(document).on("closed.fndtn.reveal","[data-reveal]",function(){$(this)});$(document).on("click",".create-modal",function(a){a.preventDefault($(this));a=void 0!=$(this).attr("data-target-id")?"#"+$(this).attr("data-target-id"):"#ajax-modal";Behaviour.Modal.createAjax(a,$(this).attr("href"),
$(this).data("modal-options"))});$(document).on("click",".close-refresh",function(a){var c=Behaviour.Functions.removeUrlVars(window.location.href,"modal");window.location.href=c;a.preventDefault()});var a=Behaviour.Functions.getUrlVars(window.location.href);a.modal&&Behaviour.Modal.createAjax("#ajax-modal",a.modal)}};Behaviour.Services={loadAjaxBuyNow:function(a){$.ajax({url:"/rest/basket",type:"post",data:{group_name:$(a).data("group-name"),property_id:$(a).data("property-id")},dataType:"json",success:function(){$("#view_cart_before_checkout").length||$("#property-listing-details").length?location.reload(!0):(Behaviour.Services.reloadTopNavShoppingBasket(),Behaviour.Services.replaceElementIfServiceBought(),Behaviour.Services.reloadServicesList($(a).data("property-id")))}});return!1},loadAjaxDeleteItem:function(a){$.ajax({url:"/rest/basket/"+
$(a).data("service-id"),type:"DELETE",success:function(){location.reload(!0)}})},loadAjaxDeleteItems:function(a){$.ajax({url:"/rest/basket/"+$(a).data("service-package")+"?all=true&property_id="+$(a).data("property-id"),type:"DELETE",success:function(){location.reload(!0)}})},reloadTopNavShoppingBasket:function(){$("#top-nav-ajax-loader").show();Behaviour.Main.basketViewModel.loadBasket(function(){$("#top-nav-ajax-loader").hide();$("#top-nav-shopping-basket").show()})},reloadServicesList:function(){$(document).trigger("load_services_list")},
replaceElementIfServiceBought:function(){var a=$(".replace-if-service-bought");a.length&&(a.append('<div class="blocking-overlay">Please wait...</div>'),a.each(function(){var a=$(this).attr("data-replace-type"),c=$(this).attr("data-property-id");$.ajax({url:"/listing/replaceifservicebought",dataType:"json",data:{replace_type:a,property_id:c},success:function(b){var c=$(".replace-if-service-bought[data-replace-type='"+a+"']");1==b.action?(c.next().hasClass("replace-service")||c.after(b.html),c.hide(),
$("form").attr("novalidate","novalidate")):(c.next(".replace-service").each(function(){$(this).remove()}),c.show(),c.find(".replace-service").show(),$("form").removeAttr("novalidate"))},complete:function(){$(".blocking-overlay").remove()}})}))},init:function(){$(document).on("click",".js-buy-now",function(){$(this).addClass("disabled");Behaviour.Services.loadAjaxBuyNow(this)});$(document).on("click",".js-remove-basket-item",function(){$(this).addClass("disabled");Behaviour.Services.loadAjaxDeleteItem(this)});
$(document).on("click",".js-remove-basket-items",function(){$(this).addClass("disabled");Behaviour.Services.loadAjaxDeleteItems(this)});$("#top-nav-shopping-basket")[0]&&Behaviour.Services.reloadTopNavShoppingBasket();$("div#available_service_list")[0]&&void 0!==$("#available_service_list").attr("data-property-id")&&$(document).trigger("load_services_list")}};Behaviour.NLGServices={reloadServicesList:function(a,d){var c=$("#available_nlg_service_list").attr("data-skip-services");url="/cstools/nlgavailableserviceslist/"+a;frmdata="skipServices="+c+"&postcode="+a+"&priceband="+d;request=$.ajax({url:url,data:frmdata,type:"post",success:function(a,c,d){$("#available_nlg_service_list").html(a.html);$(document).foundation("equalizer","reflow")}})},init:function(){if($("div#available_nlg_service_list")[0]){var a=$("#available_nlg_service_list").attr("data-postcode"),
d=$("#available_nlg_service_list").attr("data-priceband");Behaviour.NLGServices.reloadServicesList(a,d)}}};var GSC="GSC",EPC_DOCS="EPC",FPLAN="FPLAN",IMAGE="IMAGE",DEFAULT_CAPTION="Add description",Behaviour=Behaviour||{},STATUS_PERSIST="persist",STATUS_UPDATE="update",STATUS_DELETE="delete",STATUS_IGNORE="ignore";
Behaviour.Uploads={originalFiles:{},files:{},filesSaving:!1,minWidth:640,minHeight:480,setImageStatus:function(a,d){if(-1===[STATUS_PERSIST,STATUS_UPDATE,STATUS_DELETE,STATUS_IGNORE].indexOf(d))throw Error("Cannot set status of image to "+d);switch(a.status){case STATUS_PERSIST:switch(d){case STATUS_PERSIST:throw Error("Cannot add an already persisted image");case STATUS_UPDATE:a.status=STATUS_PERSIST;break;case STATUS_DELETE:case STATUS_IGNORE:a.status=STATUS_IGNORE}break;case STATUS_UPDATE:switch(d){case STATUS_PERSIST:throw Error("Cannot add an already persisted image");
case STATUS_DELETE:a.status=STATUS_DELETE;break;case STATUS_IGNORE:console.warn("Forgetting update to updated item")}break;case STATUS_IGNORE:switch(d){case STATUS_PERSIST:throw Error("Cannot add an already persisted image");case STATUS_UPDATE:a.status=STATUS_UPDATE;break;case STATUS_DELETE:a.status=STATUS_DELETE;break;case STATUS_IGNORE:a.status=STATUS_IGNORE}}},setFileProperties:function(a,d,c,b){Behaviour.Uploads.setFileKey(a);a.type_label=d===EPC_DOCS?"EPC_DOCS":d;a.order=c;a.primary=void 0===
b?null:b;a.property_id=$("#mediaPropertyId").val();a.status=STATUS_PERSIST;return a},setFileKey:function(a){a.key=Math.round(1E17*Math.random())},getUploadsByType:function(a,d){a=a===EPC_DOCS?"EPC_DOCS":a;$.ajax({url:"/rest/media/"+$("#mediaPropertyId").val()+"?type="+a,type:"GET",success:function(a){for(var b=0;b<a.data.length;b++)a.data[b].status=STATUS_IGNORE;d(a.data)}})},persistUploads:function(a){if(!Behaviour.Uploads.filesSaving){Behaviour.Uploads.filesSaving=!0;var d=[],c;for(c in Behaviour.Uploads.files){Behaviour.Uploads.files[c].sort(function(a,
b){return a.order-b.order});Behaviour.Uploads.files[c].map(function(a){return 1===a.order?a.primary=!0:a.primary=!1});for(var b,e=0;e<Behaviour.Uploads.files[c].length;e++)b=Behaviour.Uploads.files[c][e],b.status===STATUS_PERSIST&&function(a){d.push(function(){return $.ajax({url:"/rest/media",type:"POST",dataType:"json",data:a})})}(b);for(e=0;e<Behaviour.Uploads.files[c].length;e++)b=Behaviour.Uploads.files[c][e],b.status===STATUS_UPDATE&&($("#update-occurred").val("true"),b.type_label==GSC&&$(".ep-uploads--gas").find("li").each(function(){$(this).find(".delete").click()}),
function(a){d.push(function(){return $.ajax({url:"/rest/media/"+$("#mediaPropertyId").val(),type:"PUT",dataType:"json",data:a})})}(b));for(e=0;e<Behaviour.Uploads.files[c].length;e++)b=Behaviour.Uploads.files[c][e],b.status===STATUS_DELETE&&function(a){d.push(function(){return $.ajax({url:"/rest/media/"+$("#mediaPropertyId").val()+"?particular="+a.id,type:"DELETE"})})}(b)}(function h(a){0==d.length?a():d.shift()().done(function(){return h(a)})})(a)}},resizePhotoThumbs:function(a){a.find(".img-preview .image").each(function(a,
c){$(c).css({height:$(c).parent().outerHeight()});$(".placeholder-highlight").css({height:$(c).parent().outerHeight()});$("li:nth-child(5n)").css({"margin-right":0})})},displayError:function(a,d){Behaviour.Uploads.getTypeDestination(a).parent().prev().find(".progress").html("<p class='ep-red'><strong>"+d+"</strong></p>");Behaviour.Uploads.allowPageSubmit()},updateModelDescription:function(a,d,c){""!==c?(a.text=c,Behaviour.Uploads.setImageStatus(a,STATUS_UPDATE),$(d).parent().html(c),Behaviour.Functions.safeTagsDom($("#change_image_name").val(),
$(d))):$(d).parent().html(DEFAULT_CAPTION)},getTypeDestination:function(a){switch(a){case IMAGE:return $(".ep-uploads--photos .uploads-container");case FPLAN:return $(".ep-uploads--floorplan .uploads-container");case EPC_DOCS:return $(".ep-uploads--epc .uploads-container");case GSC:return $(".ep-uploads--gas .uploads-container");default:throw Error("Type "+a+" was not recognised");}},getFilePicker:function(a){switch(a){case IMAGE:return $("#photo_picker");case EPC_DOCS:return $("#epc_picker");case FPLAN:return $("#floorplan_picker");
case GSC:return $("#gsc_picker");default:throw Error("Type "+a+" was not recognised");}},getTypeTarget:function(a){switch(a){case IMAGE:return $(".eup-photos");case FPLAN:return $(".eup-floorplan");case EPC_DOCS:return $(".eup-epc");case GSC:return $(".eup-gsc");default:throw Error("Type "+a+" was not recognised");}},allowPageSubmit:function(){0<$.active?window.setTimeout(Behaviour.Uploads.allowPageSubmit,1E3):$(".blocking-overlay").remove()},disablePageSubmit:function(){$(".replace-if-service-bought").append('<div class="blocking-overlay">Please wait...</div>')},
displayImages:function(a,d){for(var c=this.getTypeDestination(a),b,e=0;e<d.length;e++)b=null==d[e].text||""==d[e].text.trim()?DEFAULT_CAPTION:Behaviour.Functions.safeTagsDom(d[e].text),a===IMAGE?c.append('<li data-id="'+a+"_"+d[e].key+'" data-order="'+d[e].order+'" class="img-preview '+(!0===d[e].primary?"primary":"")+'"><div class="image"></div><div class="controls"><div class="alert"></div><div class="handle"></div><div class="prime active"><span>primary photo</span></div><div class="delete"></div></div><div class="caption">'+
b+"</div></li>"):c.append('<li data-id="'+a+"_"+d[e].key+'" data-order="'+d[e].order+'" class="img-preview"><div class="image"></div><div class="controls"><div class="alert"></div><div class="handle"></div><div class="delete"></div></div><div class="caption">'+b+"</div></li>");for(b=0;b<d.length;b++){e=d[b];c.parent().prev().find(".progress").html("");var f=new Image;f.src=e.url;(function(b){var c=Behaviour.Uploads.getTypeDestination(a);f.onload=function(){var a=this.height;"active"===(this.width<
Behaviour.Uploads.minWidth||a<Behaviour.Uploads.minHeight?"active":"")&&(c.find('li[data-order="'+b.order+'"] .alert').addClass("active"),c.find('li[data-order="'+b.order+'"]').attr("title","This image is of low quality. We recommend uploading a higher resolution image."),c.parent("div").next("div.smallprint__container--alert").hasClass("deactivated")&&c.parent("div").next("div.smallprint__container--alert").removeClass("deactivated"));c.find('li[data-order="'+b.order+'"] .image').css({"background-image":"url("+
b.url+")",height:$(".img-preview").outerHeight()+"px"})};f.onerror=function(){c.find('li[data-order="'+b.order+'"]').remove();Behaviour.Uploads.displayError(a,"Warning: Image corrupted, please upload a different image.");Behaviour.Uploads.removeImage(a,b)}})(e)}c.find("li .caption").click(function(b){if("change_image_name"!=b.target.id){b=$(this).text()!==DEFAULT_CAPTION?$(this).text():"";var c=$(this),d='<input type="text" id="change_image_name" name="image_name" maxlength="30" placeholder="'+DEFAULT_CAPTION+
'" />';$(this).html(d);$(this).find("input").focus().val(b);$("#change_image_name").focusout(function(){var b=$(c).parent().attr("data-id").split("_")[1],b=Behaviour.Uploads.getModelBykey(a,b);Behaviour.Uploads.updateModelDescription(b,this,$(this).val())})}});c.find("li .delete").click(function(){var b=$(this).parent().parent(),c=b.attr("data-id").split("_")[1],c=Behaviour.Uploads.getModelBykey(a,c);Behaviour.Uploads.removeImage(a,c,b)})},removeImage:function(a,d,c){a===IMAGE&&0==c.index()&&0<c.siblings().length?
(a=$("#revealModal"),a.length&&a.remove(),$("body").append('<div id="revealModal" data-reveal class="reveal-modal small"><div class="reveal reveal-error"><h3>To delete your primary image please delete all other images first or reorder them so that your primary image is different than the selected one.</h3></div><a class="close-reveal-modal">&#215;</a></div>'),a.foundation("reveal","open"),setTimeout(function(){$("#revealModal").foundation("reveal","close")},1E4)):(Behaviour.Uploads.setImageStatus(d,
STATUS_DELETE),c.remove(),Behaviour.Uploads.updateImageOrdering(a))},getModelBykey:function(a,d){for(var c=0;c<Behaviour.Uploads.files[a].length;c++)if(Behaviour.Uploads.files[a][c].key==d)return Behaviour.Uploads.files[a][c];throw Error("Cannot find model with key "+d);},updateImageOrdering:function(a){Behaviour.Uploads.getTypeDestination(a).find("li").each(function(d){d+=1;var c=$(this).attr("data-id").split("_")[1],c=Behaviour.Uploads.getModelBykey(a,c);c.order!==d&&(c.order=d,1===d&&(c.primary=
!0),Behaviour.Uploads.setImageStatus(c,STATUS_UPDATE),$(this).attr("data-order",d),c.primary?$(this).addClass("primary"):$(this).removeClass("primary"))})},addFilePickerToPane:function(a,d,c,b){filepicker.makeDropPane(d,{multiple:c.attr("data-fp-multiple"),extensions:c.attr("data-fp-extensions"),maxSize:c.attr("data-fp-maxSize"),dragEnter:function(){$(d).css({border:"5px dashed #B1B1B1"})},dragLeave:function(){$(d).css({border:"5px dashed #fff"})},onStart:function(){b.find(".filepicker_error_message").remove();
Behaviour.Uploads.disablePageSubmit()},onSuccess:function(b){Behaviour.Uploads.convertUrls(b,function(){$(d).css({border:"5px dashed #fff"});for(var c=[],h=1;h<=b.length;h++)c[h-1]=Behaviour.Uploads.setFileProperties(b[h-1],a,Behaviour.Uploads.files[a].length+h,!1);a===EPC_DOCS&&(Behaviour.Uploads.getTypeDestination(a).find("li").each(function(){$(this).find(".delete").click()}),c=[c[0]]);if(void 0===Behaviour.Uploads.files[a])Behaviour.Uploads.files[a]=c;else for(h=0;h<c.length;h++)Behaviour.Uploads.files[a].push(c[h]);
Behaviour.Uploads.displayImages(a,c);Behaviour.Uploads.allowPageSubmit()})},onError:function(a,c){b.append('<p class="filepicker_error_message">('+a+") "+c+"</p>");Behaviour.Uploads.allowPageSubmit()},onProgress:function(a){$(d).find(".progress").html("<p>Uploading ("+a+"%)</p>")}})},convertUrls:function(a,d){for(var c=[],b=0;b<a.length;b++)c.push(Behaviour.Uploads.convertUrl(a[b]));$.when.apply($,c).then(function(){d()})},convertUrl:function(a){var d=$.Deferred();$.ajax({url:a.url+"/convert",dataType:"json",
method:"POST",data:{key:filepickerKey,rotate:"exif"},success:function(c){a.filename=c.filename;a.url=c.url;a.mimetype=c.type;a.size=c.size;d.resolve()},error:function(a){d.resolve()}});return d.promise()},initContainer:function(a){if(0!==Behaviour.Uploads.getTypeTarget(a).length){var d=Behaviour.Uploads.getFilePicker(a),c=Behaviour.Uploads.getTypeDestination(a),b=Behaviour.Uploads.getTypeTarget(a);window.addEventListener("resize",function(){Behaviour.Uploads.resizePhotoThumbs(c)});Behaviour.Uploads.getUploadsByType(a,
function(b){if(b){Behaviour.Uploads.files[a]=[];for(var c=0;c<b.length;c++)Behaviour.Uploads.setFileKey(b[c]),Behaviour.Uploads.files[a].push($.extend(!0,{},b[c]));Behaviour.Uploads.displayImages(a,b)}});Behaviour.Uploads.addFilePickerToPane(a,b[0],d,c);a!==IMAGE&&a!==FPLAN||c.sortable({placeholder:"placeholder-highlight",handle:".handle",start:function(a,b){var c=$(".img-preview .image").first().outerHeight();$(".placeholder-highlight").css({height:c});c=b.item.index();b.item.data("start_pos",c);
$(this).attr("data-previndex",b.item.index())},update:function(){Behaviour.Uploads.updateImageOrdering(a)}});d.change(function(b){Behaviour.Uploads.disablePageSubmit();Behaviour.Uploads.convertUrls(b.originalEvent.fpfiles,function(){for(var c=[],d=0;d<b.originalEvent.fpfiles.length;d++)c[d]=Behaviour.Uploads.setFileProperties(b.originalEvent.fpfiles[d],a,Behaviour.Uploads.files[a].length+1,!1),Behaviour.Uploads.files[a].push(c[d]);a===EPC_DOCS&&Behaviour.Uploads.getTypeDestination(a).find("li").each(function(){$(this).find(".delete").click()});
Behaviour.Uploads.displayImages(a,c,!0,!0);Behaviour.Uploads.allowPageSubmit()})})}},init:function(){$.holdReady(!0);$.getScript("//api.filepicker.io/v1/filepicker.js",function(){$.holdReady(!1);filepicker.setKey(filepickerKey);Behaviour.Uploads.initContainer(IMAGE);Behaviour.Uploads.initContainer(FPLAN);Behaviour.Uploads.initContainer(EPC_DOCS);Behaviour.Uploads.initContainer(GSC);$("#property-uploads").submit(function(a){var d=this;Behaviour.Uploads.disablePageSubmit();for(var c in Behaviour.Uploads.files)Behaviour.Uploads.updateImageOrdering(c);
a.preventDefault();Behaviour.Uploads.persistUploads(function(){d.submit()})});$("#listing_gas").click(function(){$(this).is(":checked")?$(".eup-gsc").addClass("deactivated"):$(".eup-gsc").removeClass("deactivated")})})}};var COOKIE_NAME,ID=ID,PROP_STATUS=PROP_STATUS,SUB_STATUS=SUB_STATUS,PUBLISHED=PUBLISHED,IS_RENEWAL=IS_RENEWAL,WILL_RENEWAL=WILL_RENEWAL,LISTING_NAME=LISTING_NAME,SUB_STATUS_NONE=SUB_STATUS_NONE,SUB_STATUS_PENDING=SUB_STATUS_PENDING,SUB_STATUS_ACTIVE=SUB_STATUS_ACTIVE,SUB_STATUS_CANCELLED=SUB_STATUS_CANCELLED,SUB_EXPIRY=SUB_EXPIRY,PROP_STATUS_INCOMPLETE=PROP_STATUS_INCOMPLETE,PROP_STATUS_NOTREVIEWED=PROP_STATUS_NOTREVIEWED,PROP_STATUS_WAITINGREVIEW=PROP_STATUS_WAITINGREVIEW,PROP_STATUS_INREVIEW=PROP_STATUS_INREVIEW,
PROP_STATUS_ACCEPTED=PROP_STATUS_ACCEPTED,PROP_STATUS_LETAGREED=PROP_STATUS_LETAGREED,PROP_STATUS_REJECTED=PROP_STATUS_REJECTED;
Behaviour.PropertyDetails={init:function(){COOKIE_NAME="easyPropertyNextSteps-"+ID;var a=Behaviour.PropertyDetails.getUpsellsCookie();a&&1==a.showCancellationMessage&&(Behaviour.PropertyDetails.displayNextStepsMessages(a.reason),Behaviour.PropertyDetails.displayUpsells(a.reason));Behaviour.PropertyDetails.renderPropertyActions();$("#buy-services-link").one("click",function(a){a.preventDefault();$(this).attr("disabled","disabled");var c=this.href;$.ajax({url:"/rest/property/"+ID,type:"PUT",success:function(){window.location=
c}})});$("#resubscribe").one("click",function(a){a.preventDefault();$(this).attr("disabled","disabled");var c=this.href;!1!==PUBLISHED&&PROP_STATUS!==PROP_STATUS_LETAGREED||"-"===SUB_EXPIRY?!1===WILL_RENEWAL&&!1===PUBLISHED?Behaviour.PropertyDetails.setPropertyLetAgreed(!1,function(){Behaviour.PropertyDetails.publishProperty(!0,function(){location.reload(!0)})}):$.ajax({url:"/rest/basket",type:"post",dataType:"json",data:{group_name:"LISTING-RMZ1WEEKSUB",property_id:ID},success:function(){window.location=
c}}):(a=SUB_EXPIRY.split("/"),new Date(a[2],a[1],a[0])>new Date&&Behaviour.PropertyDetails.setPropertyLetAgreed(!1,function(){Behaviour.PropertyDetails.publishProperty(!0,function(){location.reload(!0)})}))});$(".cancel-submit").one("click",function(){$(this).attr("disabled","disabled");var a=$("#cancel-subscription-reason"),c=a.val(),b=a.find("option:selected").text();0===$(this).data("cancel-period")?Behaviour.PropertyDetails.publishProperty(!1,function(){Behaviour.PropertyDetails.cancelSubscription(1,
b,function(){location.reload(!0)})}):null!==c&&(Behaviour.PropertyDetails.createUpsellsCookie(1,c),Behaviour.PropertyDetails.displayNextStepsMessages(1),Behaviour.PropertyDetails.displayUpsells(c),Behaviour.PropertyDetails.cancelSubscription(1,b,function(){location.reload(!0)}))});$("#sendforreview").click(function(){$("#sendforreview").attr("disabled","disabled");$.ajax({url:"/rest/setPropertyWaitingReview",method:"POST",dataType:"json",data:{property_id:ID},success:function(){window.location.reload(!0)}})});
$(".have-tenants-submit").one("click",function(){$(this).attr("disabled","disabled");var a=$("#have-found-tenants-reason"),c=a.val(),b=a.find("option:selected").text();0===$(this).data("cancel-period")?Behaviour.PropertyDetails.setPropertyLetAgreed(!0,function(){Behaviour.PropertyDetails.cancelSubscription(0,b,function(){location.reload(!0)})}):null!==c&&(!0===IS_RENEWAL?(Behaviour.PropertyDetails.createUpsellsCookie(0,c),Behaviour.PropertyDetails.displayNextStepsMessages(0),Behaviour.PropertyDetails.displayUpsells(c),
Behaviour.PropertyDetails.cancelSubscription(0,b,function(){location.reload(!0)})):$("#have-found-tenants").foundation("reveal","close"))});$("#stop-advert-submit").click(function(){Behaviour.PropertyDetails.publishProperty(!1,function(){location.reload(!0)})});$("#cancel-subscription").on("opened",function(){setTimeout(function(){$("#cancel-subscription-reason").selectOrDie({size:10,onChange:function(){$("#cancel-subscription-submit").show()}})},0)});$("#have-found-tenants").on("opened",function(){setTimeout(function(){$("#have-found-tenants-reason").selectOrDie({size:10,
onChange:function(){$("#have-found-tenants-submit").show()}})},0)});$("#stop-advert").on("opened",function(){setTimeout(function(){$("#stop-advert-reason").selectOrDie({size:10,onChange:function(){$("#stop-advert-submit").show()}})},0)});$("#readvertise").one("click",function(){$("#readvertise").attr("disabled","disabled");Behaviour.PropertyDetails.setPropertyLetAgreed(!1,function(){location.reload(!0)})});Behaviour.PropertyDetails.buildHaveFoundTenantsFlow(LISTING_NAME);Behaviour.PropertyDetails.resizeBody();
$(window).resize(Behaviour.PropertyDetails.resizeBody)},resizeBody:function(){var a=1026>$(window).width()?300:$(".op_details").height()+10;$(".opd-img-wrapper").height(a)},buildHaveFoundTenantsFlow:function(a){var d={"Weekly Renewal":{buttons:{top:"Cancel my subscription but keep my advert online for my remaining days",bottom:"Keep advertising my property, I\u2019ll let you know when I want to stop advertising it"},callbacks:{top:function(){var a=$("#have-found-tenants-reason").find("option:selected").text();
Behaviour.PropertyDetails.cancelSubscription(0,a,function(){location.reload(!0)})},bottom:function(){$("#have-found-tenants").foundation("reveal","close")}}},"3 Month Listing":{buttons:{top:'I have found tenants, stop advertising my property as available. (please note you can click "readvertise" at any stage before your 3 months is up and your property will be readvertised on Rightmove & Zoopla for any remaining days)',bottom:"Keep advertising my property, I&rsquo;ll let you know when I want to stop advertising it"},
callbacks:{top:function(){Behaviour.PropertyDetails.setPropertyLetAgreed(!0,function(){location.reload(!0)})},bottom:function(){$("#have-found-tenants").foundation("reveal","close")}}},"Easy Free":{buttons:{top:"Stop advertising my property as available, I don't need any more tenant enquiries for now",bottom:"Keep advertising my property, I'll let you know when I want to stop advertising it"},callbacks:{top:function(){Behaviour.PropertyDetails.setPropertyLetAgreed(!0,function(){location.reload(!0)})},
bottom:function(){$("#have-found-tenants").foundation("reveal","close")}}}};(a=d[a])||(a=d["Easy Free"]);$("h3#action-top-header").text(a.buttons.top);$("a#action-top-button").unbind("click").click(a.callbacks.top);$("h3#action-bottom-header").text(a.buttons.bottom);$("a#action-bottom-button").unbind("click").click(a.callbacks.bottom)},renderPropertyActions:function(){var a=$("#havetenants"),d=$("#createadvert"),c=$("#not-applicable-bottom"),b=$("#sendforreview"),e=$("#waitingreview"),f=$("#inreview"),
h=$("#resubscribe"),k=$("#stopadvert"),m=$("#readvertise"),l=$("#cancelsubscription");switch(PROP_STATUS){case PROP_STATUS_ACCEPTED:IS_RENEWAL?PUBLISHED?(SUB_STATUS===SUB_STATUS_CANCELLED?k.show():l.show(),a.show()):(SUB_STATUS===SUB_STATUS_CANCELLED?m.show():h.show(),l.show(),l.attr("disabled","disabled")):PUBLISHED?(k.show(),a.show()):(m.show(),k.show(),k.attr("disabled","disabled"));break;case PROP_STATUS_INCOMPLETE:d.show();c.show();break;case PROP_STATUS_NOTREVIEWED:b.show();c.show();break;case PROP_STATUS_WAITINGREVIEW:e.show();
c.show();break;case PROP_STATUS_INREVIEW:f.show();c.show();break;case PROP_STATUS_REJECTED:b.show();b.attr("disabled","disabled");c.show();break;case PROP_STATUS_LETAGREED:IS_RENEWAL&&!PUBLISHED?(h.show(),l.show(),l.attr("disabled","disabled")):(m.show(),k.show(),k.attr("disabled","disabled"))}},cancelSubscription:function(a,d,c){$.ajax({url:"/rest/cancelsubscription",type:"post",dataType:"json",data:{property_id:ID,property_name:$(".intro_address").text(),immediate:a,reason:d},success:c})},publishProperty:function(a,
d){$.ajax({url:"/admin/"+(!0===a?"publishproperty":"unpublishproperty"),dataType:"json",data:{id:ID},type:"post",success:d})},displayUpsells:function(a){var d=[];switch(a){case 1:d=["REFERENCE","ASTDPS","INVENTORIES","PROPERTY-MANAGEMENT"];break;case 2:d=["PROPERTY-MANAGEMENT"];break;case 3:d=["HOSTED-VIEWINGS"];break;case 4:d=["KNOWLEDGE-HUB"]}for(a=0;a<d.length;a++){var c;switch(d[a]){case "REFERENCE":c=Behaviour.PropertyDetails.createReferenceUpsell();break;case "ASTDPS":c=Behaviour.PropertyDetails.createAstdpsUpsell();
break;case "INVENTORIES":c=Behaviour.PropertyDetails.createInventoryUpsell();break;case "PROPERTY-MANAGEMENT":c=Behaviour.PropertyDetails.createPropertyManagementUpsell();break;case "HOSTED-VIEWINGS":c=Behaviour.PropertyDetails.createHostedViewingUpsell();break;case "KNOWLEDGE-HUB":c=Behaviour.PropertyDetails.createKnowledgeHubUpsell()}$(".control_panel_buy_services.next-steps").append($(c))}},createReferenceUpsell:function(){var a=$(".service_reference_"+ID).parent(),d=a.find(".heading").first("h3").html(),
c=a.find(".price").html(),a=a.find(".description").html();return Behaviour.PropertyDetails.renderUpsellMessage(d,c,a,"/residential-lettings/services/referenceatenant/reference-request")},createAstdpsUpsell:function(){var a=$(".service_astdps_"+ID).parent(),d=a.find(".heading").first("h3").html(),c=a.find(".price").html(),a=a.find(".description").html();return Behaviour.PropertyDetails.renderUpsellMessage(d,c,a,"/residential-lettings/services/completepaperwork/astdps")},createInventoryUpsell:function(){return Behaviour.PropertyDetails.renderUpsellMessage("Inventory Services",
"\u00a3various","Furnished or unfurnished, we\u2019ve got a full range of inventory services to guard against \u201cIt was like that when I moved in\u201d type disputes","/residential-lettings/services/completepaperwork")},createPropertyManagementUpsell:function(){var a=Extras.PropertyManagement();return Behaviour.PropertyDetails.renderUpsellMessage(a.group_name,"3% + VAT",a.description,"/residential-lettings/services/preparetolet/property_management")},createHostedViewingUpsell:function(){var a=
$(".service_viewing_"+ID).parent(),d=a.find(".heading").first("h3").html(),c=a.find(".price").html(),a=a.find(".description").html();return Behaviour.PropertyDetails.renderUpsellMessage(d,c,a,"/residential-lettings/services/findtenants/viewing")},createKnowledgeHubUpsell:function(){return Behaviour.PropertyDetails.renderUpsellMessage("Knowledge Hub Article - Find A Tenant Fast",null,"First impressions count, so your listing is critical. 92% of property searches begin online, but most people will probably give your ad less than a few seconds to make an impact. If it doesn\u2019t, they\u2019ll move on.",
"/let-your-property-quicker-property-listing-made-easy/")},renderUpsellMessage:function(a,d,c,b){a='<div class="row">   <div class="large-12 column">       <div class="next-step">           <h3>'+a+"</h3>";d&&(a+="   <p>Price: "+d+"</p>");return a+("       <p>"+c+'</p>           <div class="buttons">               <a href="'+b+'" class="property_button close medium small" style="background-color: #00a5f1;">More Information</a>           </div>       </div>   </div></div>')},displayNextStepsMessages:function(a){a=
'<div class="row">   <div class="large-12 column">       <div class="next-step">           <p>'+(0==a?"Thanks, and congratulations on finding tenants! Your subscription has been successfully cancelled and you won\u2019t be charged again (we\u2019ve sent you an email to confirm)":"Thanks, your subscription has been successfully cancelled and you won\u2019t be charged again (we\u2019ve sent you an email to confirm)")+'</p>           <div class="buttons">               <a href="javascript:void(0)" class="property_button close medium small">OK</a>           </div>       </div>   </div></div>';
$(".control_panel_buy_services.next-steps").find(".row").first().after($(a));$(".buttons a.close").click(function(){Behaviour.PropertyDetails.nextStepsCloseRemove.call($(this).parent().parent())})},setPropertyLetAgreed:function(a,d){$.ajax({url:"/admin/"+(a?"letagreedproperty":"availableproperty"),dataType:"json",data:{id:ID},method:"post",success:d})},nextStepsCloseRemove:function(){var a=this;a.animate({height:"toggle",marginBottom:"toggle",opacity:"toggle"},500,null,function(){a.remove();var d=
Behaviour.PropertyDetails.getUpsellsCookie();d.showCancellationMessage=!1;Behaviour.PropertyDetails.saveUpsellsCookie(d)})},saveUpsellsCookie:function(a){$.cookie(COOKIE_NAME,JSON.stringify(a),{expires:7})},createUpsellsCookie:function(a,d,c){$.cookie(COOKIE_NAME,JSON.stringify({reason:a?a:0,upsells:d?d:0,showCancellationMessage:c?c:!0}),{expires:7})},getUpsellsCookie:function(){var a=$.cookie(COOKIE_NAME);return a?JSON.parse(a):!1}};Behaviour.PropertyTypes={updatePropertyTypeSelect:function(){var a=$("#property_type"),d=$("#main_property_type"),c=d.find("option:selected").text(),b=d.find("option:selected").val(),b=SUB_TYPES[b];if(d.find("option:first").is(":selected"))$(".sub_property_type_row").hide();else{a.find("option:first").nextAll("option").remove();for(var e in b)a.find("option:first").after("<option value="+e+">"+b[e]+"</option>");$(".sub_property_type_row").show();a.removeAttr("disabled");a.removeClass("disabled");
a.find("> option:first-child").text("What type of "+c+"?")}},init:function(){var a=$("#property_type"),d=$("#main_property_type");$(".sub_property_type_row").hide();0<d.length&&d.change(function(){Behaviour.PropertyTypes.updatePropertyTypeSelect()});0<d.find("option:selected").val().length&&(a.parentsUntil(".sub_property_type_row").show(),Behaviour.PropertyTypes.updatePropertyTypeSelect(),a.find('option[value="'+$("#sub-property-type-sel").val()+'"]').prop("selected",!0))}};Behaviour.PropertySearch={initMapStreetArea:function(){if($(".single-property-view").length&&0<$(".tabs-content").length){var a=$(".full-description").find(".lat_lon").val().split(","),d=new google.maps.LatLng(parseFloat(a[0]),parseFloat(a[1])),a=new google.maps.LatLngBounds,c=new google.maps.MarkerImage("/img/Icon-MapPin-Single.png",new google.maps.Size(50,46),new google.maps.Point(0,0),new google.maps.Point(14,45));a.extend(d);var b={center:d,zoom:14,disableDefaultUI:!0,scrollwheel:!1,zoomControl:!0},
b=new google.maps.Map($(".map-view-canvas")[0],b);b.setCenter(a.getCenter());new google.maps.Marker({position:d,map:b,icon:c});$(".tabs-content .property_street_map").on("toggled",function(){function a(k,m){if(m==google.maps.StreetViewStatus.OK){var l=k.location.latLng,n={center:l,zoom:14},n=new google.maps.Map($(".street-map")[0],n),l={position:l,pov:{heading:34,pitch:10},addressControl:!1},l=new google.maps.StreetViewPanorama($(".street-view-canvas")[0],l);n.setStreetView(l)}else c+=50,b.getPanoramaByLocation(d,
c,a)}var b=new google.maps.StreetViewService,c=10;b.getPanoramaByLocation(d,c,a)})}},initLightboxes:function(){galleries=[];$(".lbgallery").each(function(){classes=$(this).attr("class").split(" ");for(var a=0;a<classes.length;a++)"lbgalleryid"===classes[a].slice(0,11)&&-1===galleries.indexOf(classes[a])&&galleries.push(classes[a])});for(var a=0;a<galleries.length;a++)lightbox=$("a."+galleries[a]).vanillabox({loop:!0,repositionOnScroll:!0,closeButton:!0}),$(lightbox).on("vnbx_hide",function(a){$(".off-canvas-wrap").addClass("blur_out");
$(".off-canvas-wrap").removeClass("blur_in")});$(".vnbx-close").html("CLOSE");$(".lbgallery").on("click",function(){$(".off-canvas-wrap").addClass("blur_in");$(".off-canvas-wrap").removeClass("blur_out")});$(".vnbx-close").on("click",function(){$(".off-canvas-wrap").addClass("blur_out");$(".off-canvas-wrap").removeClass("blur_in")})},initRentalPriceSwitch:function(a){$(".guide-price-price .price_weekly").hide();$(".guide-price-price").off("mouseenter").on("mouseenter",function(){$(".price_monthly").hide();
$(".price_weekly").show()});$(".guide-price-price").off("mouseleave").on("mouseleave",function(){$(".price_monthly").show();$(".price_weekly").hide()});$(".property-price-cont .property-price-weekly").hide();$(".property-price-cont").off("mouseenter").on("mouseenter",function(){$(".property-price-monthly",this).hide();$(".property-price-weekly",this).show()});$(".property-price-cont").off("mouseleave").on("mouseleave",function(){$(".property-price-monthly",this).show();$(".property-price-weekly",
this).hide()})},initTouchCarousel:function(){1<$("#carousel-single-image ul li").length&&$("#carousel-single-image").touchCarousel({pagingNav:!0,scrollbar:!1,directionNavAutoHide:!1,itemsPerMove:1,loopItems:!0,directionNav:!0,autoplay:!1,autoplayDelay:2E3,useWebkit3d:!0,transitionSpeed:400})},init:function(){Behaviour.PropertySearch.initLightboxes();Behaviour.PropertySearch.initMapStreetArea();Behaviour.PropertySearch.initRentalPriceSwitch();var a=0,d=$(".touchcarousel-container img").length;1024<
$(window).width()?$(window).load(function(){Behaviour.PropertySearch.initTouchCarousel()}):$(".touchcarousel-container img",$("#propertyDetails")).load(function(){a++;a===d&&Behaviour.PropertySearch.initTouchCarousel()});$(".mobile_property_link").on("click",function(){var a=$(this).data("ref");$(document).trigger("search.property_details",a)});$(".close_property_mobile").on("click",function(){$(document).trigger("search.property_details_close")});$("#propertyDetails").scroll(function(){210<$("#propertyDetails").scrollTop()?
$(".single-property-fixed-intro").show():$(".single-property-fixed-intro").hide()});$(document).on("opened",".remodal",function(){var a=$(".full-description").find(".lat_lon").val().split(","),b=new google.maps.LatLng(parseFloat(a[0]),parseFloat(a[1]));if("property-map"===$(this).attr("data-remodal-id")){var a=new google.maps.LatLngBounds,d=new google.maps.MarkerImage("/img/Icon-MapPin-Single.png",new google.maps.Size(50,46),new google.maps.Point(0,0),new google.maps.Point(14,45));a.extend(b);var f=
{center:b,zoom:14,disableDefaultUI:!0,scrollwheel:!1,zoomControl:!0},f=new google.maps.Map($(".map-canvas")[0],f);f.setCenter(a.getCenter());new google.maps.Marker({position:b,map:f,icon:d})}if("street-view"===$(this).attr("data-remodal-id")){var h=function(a,c){if(c==google.maps.StreetViewStatus.OK){var d=a.location.latLng,e={center:d,zoom:14},e=new google.maps.Map($(".street-map")[0],e),d={position:d,pov:{heading:34,pitch:10},addressControl:!1},d=new google.maps.StreetViewPanorama($(".street-canvas")[0],
d);e.setStreetView(d)}else m+=50,k.getPanoramaByLocation(b,m,h)},k=new google.maps.StreetViewService,m=10;k.getPanoramaByLocation(b,m,h)}})}};Behaviour.PropertyPoll={init:function(a){setTimeout(function(){Behaviour.PropertyPoll.pollForPexPropertyId(a)},2500)},pollForPexPropertyId:function(a){$.ajax({url:"/rest/sales/propertyReady?property_id="+a,type:"GET",dataType:"json",statusCode:{200:function(a){Behaviour.GAEvent.fireGaEvent("event_sales_buynow_property_added");$('form[name="property-wait"] #submit-property-wait').click()},202:function(){setTimeout(function(){Behaviour.PropertyPoll.pollForPexPropertyId(a)},2500)}}})}};Behaviour.GAEvent={init:function(){$("[data-ga]").unbind("click.ga-bind").on("click.ga-bind",function(){Behaviour.GAEvent.fireGaEvent($(this).data("ga"),$(this).data("ga-data"))})},fireGaEvent:function(a){event_actions=Behaviour.GAEvent.matchKeyInDictionary(a);!1!==event_actions&&(window.dataLayer=window.dataLayer||[],event_actions.event="virtual pageview",window.dataLayer.push(event_actions))},matchKeyInDictionary:function(a){placeholders=new RegExp(/%(\d)/g);for(key in ga_dict){var d=a.match(key);
if(null!=d){a={};for(item in ga_dict[key]){var c=ga_dict[key][item];"undefined"!==typeof c&&(c=c.replace(placeholders,function(a,c){return d[c]}),a[item]=c)}return a}}return!1}};Behaviour.Register={init:function(){setTimeout(function(){Behaviour.Register.pollForPexUserId()},2500)},pollForPexUserId:function(){$.ajax({url:"/rest/user",type:"GET",dataType:"json",success:function(a,d,c){"true"===a.redirect?$('form[name="register-wait"] #submit-registration-wait').click():setTimeout(function(){Behaviour.Register.pollForPexUserId()},2500)}})}};Behaviour.Main={ui:{messageUsModel:null},basketViewModel:null,showHideAddressFields:function(){$("#location_address_fields").hide()},checkIfAppleDevice:function(){navigator.userAgent.match(/(iPhone|iPod|iPad)/i)&&$("#location_list").length&&$("#location_list").prepend('<option value="" selected="selected" disabled="disabled">Click to select your address</option>')},removeBasketSlideOutOnMobile:function(){1024>window.innerWidth&&($(".main_nav .btn-cart").removeClass("has-dropdown"),$(".main_nav .btn-cart .dropdown").hide())},
resizeTextArea:function(){if(0<$("#reply-message #content").length){var a=$("#reply-message #content");clonedDiv=$(".cloned_div").length?$(".cloned_div").empty():$(document.createElement("div"));$("#reply-message #submitbutton").attr("disabled",!0);content=null;a.addClass("noscroll");clonedDiv.addClass("cloned_div");$("#reply-message").append(clonedDiv);a.on("keyup",function(){content=$(this).val();0<content.length?$("#reply-message #submitbutton").attr("disabled",!1):$("#reply-message #submitbutton").attr("disabled",
!0);content=content.replace(/\n/g," <br> ");clonedDiv.html(content+" <br> ");$(this).css("height",clonedDiv.height()+parseInt($(this).css("padding-top"),10))})}},removeToolTips:function(){$("span.tooltip:visible").hide();$(".has-tip").removeClass("open")},init:function(){null===Behaviour.Main.basketViewModel&&(Behaviour.Main.basketViewModel=new BasketViewModel,ko.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.stopBinding=!0,
ko.applyBindings(Behaviour.Main.basketViewModel,document.getElementById("top-nav-shopping-basket")));Behaviour.Main.checkIfAppleDevice();Behaviour.Main.removeBasketSlideOutOnMobile();Behaviour.Main.resizeTextArea();$("#print").length&&(window.print(),void 0===window.onafterprint?setTimeout(function(){window.history.back()},1E3):window.history.back());$(".slide-toggle .slide-content").hide();$(".slide-toggle .show_fields").click(function(){$(".slide-content",$(this).parent()).slideToggle("slow")});
$("#register-signin-block").length&&($("#register-signin-block").find('input[name="types"]:checked').closest("label").addClass("selected"),$('#register-signin-block input[name="types"]').on("change",function(){$('input[name="types"]').not(this).closest("label").removeClass("selected");$(this).closest("label").addClass("selected")}),$("#register-signin-block .tabs a").click(function(){$(this).hasClass("show-register")?$("#register-signin-value").val("1"):$("#register-signin-value").val("0")}));Behaviour.Functions.refreshHideAndShowDisplay();
Behaviour.Functions.disableFields();Behaviour.Main.showHideAddressFields();0<$(".onoffswitch").length&&$(".onoffswitch").unbind("click").click(function(a){a.preventDefault();a=$(this).find("input[type=checkbox]");$(a).prop("checked")?$(a).prop("checked",!1):$(a).prop("checked",!0);$(a).hasClass("toggle-display")&&(Behaviour.Functions.hideAllAndDisable($(a)),$(a).prop("checked")?(Behaviour.Functions.hideAllAndDisable($(a)),Behaviour.Functions.showAndEnable($(a),$(a).val())):(Behaviour.Functions.hideAllAndDisable($(a).parents(".onoffswitch").find("input[type=hidden]")),
Behaviour.Functions.showAndEnable($(a),$(a).parents(".onoffswitch").find("input[type=hidden]").val())),Behaviour.Forms.selectOrDieRefresh())});0<$(".cookie-banner").length&&-1==document.cookie.indexOf("easyPropertyCookies=")&&($(".cookie-banner").slideDown("slow"),$(".cookie-banner").find(".accept_cookies").click(function(a){a.preventDefault();$.cookie("easyPropertyCookies","accepted",{expires:365,path:"/"});$(".cookie-banner").slideUp()}));$(".appearance-input-error.active").length&&$("html, body").animate({scrollTop:parseInt($(".appearance-input-error.active").first().offset().top)-
50},800);$(".full_messages_list").length&&1<$(".property_message_list a").length&&$(".full_messages_list").pajinate({items_per_page:10,item_container_id:".property_message_list",nav_panel_id:".messaging_navigation",nav_label_next:"&gt",nav_label_prev:"&lt"});$(".back_to_top").click(function(){$("html, body").animate({scrollTop:0},800);return!1});$("[data-duration]").each(function(){elem=this;Behaviour.Main.removeToolTips();(function(a){setTimeout(function(){numAlerts=$("#ajax-modal").children().length;
1<numAlerts?$(a).fadeOut(400,function(){hiddenAlerts=$("#ajax-modal").children(":hidden").length;numAlerts==hiddenAlerts&&$("#ajax-modal").foundation("reveal","close")}):1==numAlerts?$("#ajax-modal").foundation("reveal","close"):$(a).fadeOut()},1E3*$(a).data("duration"))})(elem)});if($(".autocomplete-search").length){$(".autocomplete-search").attr("data-value",$(".autocomplete-search").val());$("#search_url_slug").attr("data-value",$("#search_url_slug").val());$(".autocomplete-search").keyup(function(){$("#search_url_slug").val($("#search_url_slug").attr("data-value"))});
var a=null,d=function(){null===a&&(a=$(document).keypress(function(a){$("#search_url_slug").val("");$("#search_url_slug").attr("data-value","");13==a.which&&"search_location_choose_location"==$(document.activeElement).attr("id")&&(a=$("#search_location_choose_location").val(),$("#search_location").val(a),$("#search_url_slug").val(a),$("#search_url_slug").attr("data-value",a),$(".search_submit #submitbutton").click())}))};d();$(".autocomplete-search").each(function(){$(this).autocomplete({source:function(a,
b){$.ajax({url:"/rest/searchautocomplete/"+a.term,success:function(a){0<a.data.length?(b(a.data),$("#search_url_slug").val(a.data[0].value),$("#search_url_slug").attr("data-value",a.data[0].value)):$("#search_url_slug").val($("#search_url_slug").attr("data-value"))}})},focus:function(a,b){a.preventDefault();$("#search_url_slug").val(b.item.value);$("#search_url_slug").attr("data-value",b.item.value);d();$(this).val(b.item.label)},select:function(a,b){a.preventDefault();$("#search_url_slug").val(b.item.value);
$("#search_url_slug").attr("data-value",b.item.value);d();$(this).val(b.item.label)},appendTo:$(this).siblings(".autocompleteResults"),minLength:2})})}$("#multiple_locations").length&&$('input[type="radio"]').click(function(){$("#search_location").val($(this).val())});$(".check_password").click(function(){$(this).hasClass("selected")?($("input[name="+$(this).attr("rel")+"]").attr("type","password"),$(this).removeClass("selected"),$(this).html('<i class="fa fa-eye"></i> Show my password')):($("input[name="+
$(this).attr("rel")+"]").attr("type","text"),$(this).addClass("selected"),$(this).html('<i class="fa fa-eye"></i> Hide my password'))});$(document).on("click","input.toggle-display",function(){Behaviour.Functions.refreshHideAndShowDisplay()});$(document).on("change","select.toggle-display",function(){Behaviour.Functions.refreshHideAndShowDisplay()});$(document).on("click","input.toggle-disable",function(){Behaviour.Functions.refreshDisableFields()});$("#datepicker").datepicker({dateFormat:"dd-mm-yy",
minDate:0});$("#moveInDate").datepicker({dateFormat:"dd-mm-yy",minDate:1});$("#dateofbirthpicker").datepicker({dateFormat:"dd-mm-yy",maxDate:"-18Y",defaultDate:"-18Y",yearRange:"1900:c",changeYear:!0,changeMonth:!0});if($(".submit-form-previous").length)$(document).on("click",".submit-form-previous",function(a){a.preventDefault();$(".javascript-form").append('<input type="hidden" name="previous" value="true" />').submit()});$(document).off("click",":submit.one-click").on("click",":submit.one-click",
function(){$(this).after("<span class='button ep-green-btn large margin-top-20'>Please wait...</span>");$(this).hide()});$(document).off("click",":submit.one-click-reply").on("click",":submit.one-click-reply",function(){$(this).after("<span class='inline-submit inline-submit-reply'>Please wait...</span>");$(this).hide()});$(document).off("click",".confirm-click").on("click",".confirm-click",function(a){$(this).parent().html("<span class='button ep-green-btn large margin-top-20'>Please wait...</span>")});
$(document).off("click","a.one-click").on("click","a.one-click",function(a){$(this).text("Please wait...");$(this).css({"pointer-events":"none"})});$(document).on("click",".submit-form-saveandclose",function(a){a.preventDefault();$(".javascript-form").append('<input type="hidden" name="saveandclose" value="true" />');$(".javascript-form").submit()});$(document).on("click",".submit-form-submitforapproval",function(a){a.preventDefault();$(".javascript-form").append('<input type="hidden" name="submitforapproval" value="true" />');
$(".javascript-form").submit()});$(document).on("click",".submit-form-viewenquiry",function(a){a.preventDefault();$(".javascript-form").submit()});$(document).on("click",".message-cancel",function(a){a.preventDefault();$("#new-message").html("")});Behaviour.Functions.initAnimatedLabels();Behaviour.Functions.checkFieldsForModifications();$("#register-signin-block input[type=password]").length&&$("#register-signin-block input[type=password]").each(function(){$(this).passStrengthify()});$("#location_list").length?
($("#listing-map").hide(),$("#location_list").change(function(){if("0"!=$(this).find("option:selected").val()){$("#location_address_fields").show();var a=$(this).find("option:selected").val().split(";");$("#property-address").find("input[name=address1]").val(a[0]);$("#property-address").find("input[name=address2]").val(a[1]);$("#property-address").find("input[name=address3]").val(a[2]);$("#property-address").find("input[name=address4]").val(a[3]);$("#property-address").find("input[name=latitude]").val(a[4]);
$("#property-address").find("input[name=longitude]").val(a[5]);$("#property-address").find("#artirix_address").val(a[6]);void 0!=map_data&&(map_data=[{property:{id:"New Property",latlon:a[4]+","+a[5]}}],$("#listing-map").show(),Behaviour.ListingMap.init())}else"0"==$(this).find("option:selected").val()&&($("#location_address_fields").show(),$("#property-address").find("input[name=address1]").val(""),$("#property-address").find("input[name=address2]").val(""),$("#property-address").find("input[name=address3]").val(""),
$("#property-address").find("input[name=address4]").val(""),$("#property-address").find("input[name=longitude]").val(""),$("#property-address").find("input[name=latitude]").val(""),$("#property-address").find("#artirix_address").val(""),void 0!=map_data&&(map_data=""),$("#listing-map").hide());Behaviour.Functions.checkFieldsForModifications()})):$("#property-address").length&&"undefined"!=typeof map_data&&""!=map_data&&($("#listing-map").show(),Behaviour.ListingMap.init());0<$(".full_messages_list").length&&
($(".full_messages_list").find(".property_message_list").find("a").click(function(){$(".full_messages_list").find(".property_message_list").find("a").removeClass("selected");$(this).addClass("selected");$(this).removeClass("unread");$(".message_container").is(":visible")||$(".message_container").fadeIn("slow")}),$(".full_messages_list").find(".property_message_list").find("a:first").click());$(".js-live-chat").click(function(){window.open("https://hosted11.whoson.com/newchat/chat.aspx?domain=www.easyproperty.com",
"easyProperty Live Chat","width=300, height=250");return!1});$.getScript("//hosted11.whoson.com/include.js?domain=www.easyproperty.com",function(){"function"==typeof sWOTrackPage&&Behaviour.Main.refreshLiveChatStatus()});$(".search-button").click(function(a){a.preventDefault();a=0<$("#findproperty-category-dropdown").length?$("#findproperty-category-dropdown").find(":selected").val():$("#findproperty-category").val();var b=""!==$("#findproperty").val()?encodeURI($("#findproperty").val().toLowerCase()):
"any-location",b=""===$("#search_url_slug").val()?b:$("#search_url_slug").val();url="commercial-lettings"===a?"/any-radius/any-property-type/from-any/to-any/page-0/per-page-20/sort-by-most-recent/":"/any-radius/any-property-type/any-bedrooms/from-any/to-any/page-0/per-page-20/sort-by-most-recent/";window.location.href="/"+a+"/search/"+b+url});0<$("#listing_price_on_application").length&&($("#listing_price_on_application").prop("checked")?($("#annual_rent_label").text("What is the annual rent you would like to achieve?"),
$("#annual_rent_placeholder").attr("placeholder","What is the annual rent you would like to achieve?")):($("#annual_rent_label").text("How much is the annual rent?"),$("#annual_rent_placeholder").attr("placeholder","How much is the annual rent?")),$(".onoffswitchpoa .onoffswitch-inner").on("click",function(){var a=$("#listing_price_on_application");$(a).prop("checked")?($("#annual_rent_label").text("How much is the annual rent?"),$("#annual_rent_placeholder").attr("placeholder","How much is the annual rent?")):
($("#annual_rent_label").text("What is the annual rent you would like to achieve?"),$("#annual_rent_placeholder").attr("placeholder","What is the annual rent you would like to achieve?"))}));Behaviour.Main.isEnvironmentDesktop();Behaviour.Main.setUpMessageUsModal();$("#admin_section_selector").selectOrDie({size:4,onChange:function(){location.href="/admin/"+$(this).val()}})},setUpMessageUsModal:function(){var a=$("#message-us");Behaviour.Main.ui.messageUsModel=a.remodal();$("#open-message-us").click(function(){Behaviour.Main.ui.messageUsModel.open()});
a.find("[data-step-index='1']").show();a.find("form").submit(function(d){d.preventDefault();d=a.find("#message-us-form").serializeObject();$.ajax({url:"/rest/messageus",type:"POST",data:d,success:function(){Behaviour.Main.ui.messageUsModel.close()}})});a.on("closed",Behaviour.Main.resetModalJourneys);a.on("opening",Behaviour.Forms.selectOrDieRefresh)},resetModalJourneys:function(){var a=$(".remodal");a.find(".step").hide();a.find(".step[data-step-index='1']").show();a.find("input[type='text'], input[type='email'], input[type='number']").val("");
a.find("textarea").html("");a.find('input[type="button"]').removeAttr("disabled");a.find("select").val("");a.find("select[name='property-search-results']").html("").selectOrDie("disable");a.find(".bedrooms").slider("value",1);a=a.find("#selected-address");a.find("p").hide();a.find("span").text("");$('input[type="submit"]').each(function(){var a=$(this);a.val(a.data("text-value"));a.removeAttr("disabled")})},getOpenModal:function(){if(-1!==["opening","opened","closing"].indexOf(Behaviour.Sales.ui.messageUsModel.getState()))return $("#message-us");
throw Error("No Modal is Open");},isEnvironmentDesktop:function(){try{return document.createEvent("TouchEvent"),!1}catch(a){return!("onorientationchange"in window)}},refreshLiveChatStatus:function(){var a=new Image;a.src=sWOProtocol+"//"+sWOGateway+"/stat.gif?u="+sWOSession+"&d="+sWODomain;a.onload=function(){var d=$(".js-live-chat");1==a.width?d.hide():d.is(":visible")||d.show()};setTimeout(Behaviour.Main.refreshLiveChatStatus,15E3)},getPropertyTypeOfPage:function(){return window.location.pathname.split("/")[1].split("-")[0]}};Behaviour.init=function(a){for(var d in a)($("#"+a[d].selector).length||$(a[d].selector).length)&&Behaviour[d].init()};$(document).ready(function(){Behaviour.init(Options)});var Extras={PropertyManagement:function(){return{id:"25564564634563",saving:null,key:"PROPERTY_MANAGEMENT",group_name:"Property Management",description:"With 24 hour support and your own dedicated property manager, you can forget about the admin and rest easy!",price:null,net:null,price_from:!1,image_url:"/img/service_images/Graphic-PROPERTY_MANAGEMENT.svg",related:["INVCHECKIN-UNFURNISHED","INVCHECKIN-FURNISHED","EPC"],disabled:!1}},FreeBundle:function(){return{id:"34589023459453",saving:null,key:"FREE_BUNDLE",
group_name:"Free Bundle",description:"Our Free pack, ideal for those who are happy to do most of the work themselves but want some help sourcing and checking a new tenant. We\u2019ll advertise your commercial property on easyProperty.com and manage the initial tenant enquiries. And, when you find your new tenant, we'll reference them for you (all checks are 100% free of charge to you)",price:null,net:null,price_from:null,image_url:"/img/services_IMAGES/Graphic-FREE_BUNDLE.svg",related:["STANDARD_BUNDLE",
"PREMIUM_BUNDLE","HOSTED_VIEWING"],disabled:!1}},Furnishing:function(){return{id:"376476457452357",saving:null,key:"FURNISHING",group_name:"Furnishing",description:"Need to furnish your rental property? Get in bed with low-cost furniture, with free delivery and installation. (Top drawer!)",price:"http://easypropertyfurniture.com/",price_from:null,net:null,image_url:"/img/services_IMAGES/Graphic-FREE_BUNDLE.svg",related:[],disabled:!1}}};var GoogleEventTracker=function(){this.trackAddProperty=function(){Behaviour.GAEvent.fireGaEvent("event_services_journey_add_property/"+PROPERTY_TYPE)};this.trackPropertyCreated=function(){Behaviour.GAEvent.fireGaEvent("event_services_journey_property_created/"+PROPERTY_TYPE)};this.trackPropertyAdded=function(){Behaviour.GAEvent.fireGaEvent("event_services_journey_property_added/"+PROPERTY_TYPE)};this.trackSectionChange=function(a){Behaviour.GAEvent.fireGaEvent("event_services_journey/"+PROPERTY_TYPE+
"/"+a)};this.trackViewDetails=function(a,d){Behaviour.GAEvent.fireGaEvent("event_services_journey_view_details/"+PROPERTY_TYPE+"/"+d+"/"+a)}};var BasePage=function(a){this.serviceModel=a;this.key="Hello World!";this.subCategories=ko.observableArray();this.selectedCategory=ko.observable()},preparetolet=function(a){ko.utils.extend(this,new BasePage(a));this.color="blue";this.key="preparetolet";this.title="Prepare to let";this.path=this.key},findtenants=function(a){ko.utils.extend(this,new BasePage(a));this.color="pink";this.key="findtenants";this.title="Find Tenants";this.path=this.key},referenceatenant=function(a){ko.utils.extend(this,new BasePage(a));
this.color="yellow";this.key="referenceatenant";this.title="Referencing";this.path=this.key},completepaperwork=function(a){ko.utils.extend(this,new BasePage(a));this.color="purple";this.key="completepaperwork";this.title="Paperwork";this.path=this.key},runaproperty=function(a){ko.utils.extend(this,new BasePage(a));this.color="green";this.key="runaproperty";this.title="Run a Property";this.path=this.key};function Service(a){this.id=a.id;this.key=a.key;this.group_name=a.group_name;this.category=a.category;this.sub_category=a.sub_category;this.price=a.price;this.net=a.net;this.price_from=a.price_from;this.saving=a.saving;this.icon=a.icon;this.hero=a.hero;this.image_url=a.image_url;this.description=a.description;this.related=a.related;this.multiple=a.multiple;this.disabled=ko.observable(a.disabled)};var ServiceContainer=function(){return{preparetolet:{ESSENTIALS:{title:"The essentials",blurb:"Essential \u2018Click n Mix\u2019 services to get you rental-ready. Click the pin for details"},SHOWCASE:{title:"Showcase my property",blurb:"\u2018Click n Mix\u2019 services to boost tenant enquiries. Click the pin for details"}},findtenants:{ADVERTISING:{title:"Advertise my property",blurb:"\u2018Click n Mix\u2019 services to find you tenants, fast. Click the pin for details"}},referenceatenant:{REFERENCING:{title:"Industry-leading referencing",
blurb:"'Click n Mix\u2019 referencing services, free to you! Click the pins for details"}},completepaperwork:{UNFURNISHED:{title:"Unfurnished",blurb:"Hassle-busting \u2018Click n Mix\u2019 services for your unfurnished property. Click the pin for details"},FURNISHED:{title:"Furnished",blurb:"Hassle-busting \u2018Click n Mix\u2019 services for your furnished property. Click the pin for details"},COMMERCIAL:{title:"Complete the Paperwork",blurb:"Hassle-busting services for your commercial property. Click the pin for details"}},
runaproperty:{PROPERTYMANAGEMENT:{title:"Property management",blurb:"Low-cost property management. Click the pin for details."}}}},ServiceModel=function(){var a=this,d=new ServiceContainer;a.setPinCoordinates=function(a){if(!(a instanceof Array))throw Error("Parameter services was not of type array");switch(a.length){case 1:a[0].posX=38;a[0].posY=35;a[0].dis="mid";break;case 2:a[0].posX=25;a[0].posY=25;a[0].dis="mid";a[1].posX=65;a[1].posY=45;a[1].dis="near";break;case 3:a[0].posX=10;a[0].posY=55;
a[0].dis="near";a[1].posX=45;a[1].posY=35;a[1].dis="mid";a[2].posX=75;a[2].posY=5;a[2].dis="far";break;case 4:a[0].posX=10;a[0].posY=55;a[0].dis="near";a[1].posX=40;a[1].posY=30;a[1].dis="mid";a[2].posX=70;a[2].posY=5;a[2].dis="far";a[3].posX=80;a[3].posY=55;a[3].dis="near";break;case 5:a[0].posX=10;a[0].posY=25;a[0].dis="mid";a[1].posX=25;a[1].posY=55;a[1].dis="near";a[2].posX=45;a[2].posY=30;a[2].dis="mid";a[3].posX=70;a[3].posY=10;a[3].dis="far";a[4].posX=80;a[4].posY=55;a[4].dis="near";break;
case 6:a[0].posX=5,a[0].posY=40,a[0].dis="mid",a[1].posX=20,a[1].posY=70,a[1].dis="near",a[2].posX=40,a[2].posY=15,a[2].dis="far",a[3].posX=50,a[3].posY=50,a[3].dis="mid",a[4].posX=75,a[4].posY=10,a[4].dis="far",a[5].posX=75,a[5].posY=55,a[5].dis="mid"}};a.getSubCategories=function(a){var b=ServicesMap[PROPERTY_TYPE][a],e=[],f;for(f in b)e.push(d[a][f]);return e};a.getSubCategoryModel=function(a){for(var b in d)for(var e in d[b])if(e===a)return d[b][e];throw Error("Unable to find the SubCategory key "+
a);};a.addServiceToContainer=function(a,b,e){a=d[a];for(var f in a)f===b&&(void 0==a[f].services&&(a[f].services=[]),a[f].services.push(e))};a.getServiceFromData=function(a,b){if(!a)throw Error("Parameter categoryKey was null or undefined");if(!(b instanceof Array))throw Error("Parameter services not of type array");for(var d=0;d<b.length;d++)if(a==b[d].key)return b[d];return null};a.affixExtras=function(a){if(!(a instanceof Array))throw Error("Parameter services not of type array");for(var b in Extras){var d=
new Extras[b];a.push(d)}};a.getServiceInfo=function(a){for(var b in d)for(var e in d[b])if(void 0!==d[b][e].services)for(var f=0;f<d[b][e].services.length;f++){var h=d[b][e].services[f];if(h.key.toUpperCase()===a.toUpperCase())return{service:h,category:b,subCategory:e}}return null};a.containsService=function(c){return null!==a.getServiceInfo(c.key)};a.setServices=function(c){d=new ServiceContainer;a.affixExtras(c);for(var b in ServicesMap[PROPERTY_TYPE])for(var e in ServicesMap[PROPERTY_TYPE][b])for(var f=
ServicesMap[PROPERTY_TYPE][b][e],h=0;h<f.length;h++){var k=a.getServiceFromData(f[h],c);k&&(k=$.extend({},k),k.icon="url(/img/service_images/service_page/"+PROPERTY_TYPE+"/icons/"+k.key+".jpg)",k.hero="url(/img/service_images/service_page/"+PROPERTY_TYPE+"/hero/"+k.key+".jpg)",k.category=b,k.sub_category=e,a.addServiceToContainer(b,e,new Service(k)))}a.setRelatedServices()};a.setRelatedServices=function(){for(var c in d)for(var b in d[c])if(void 0!=d[c][b].services)for(var e=0;e<d[c][b].services.length;e++){for(var f=
d[c][b].services[e],h=[],k=0;k<f.related.length;k++){var m;(m="object"===typeof f.related[k]?f.related[k]:a.getServiceFromContainer(f.related[k]))&&h.push(m)}f.related=h}};a.getServicesFromApi=function(a){$.ajax({url:"/rest/service/"+PROPERTY_TYPE,type:"get",success:function(b){0==b.data.length?console.error("No services were retrieved from the API"):a(b.data)}})};a.getServiceFromContainer=function(a){for(var b in d)for(var e in d[b])if(void 0!==d[b][e].services)for(var f=0;f<d[b][e].services.length;f++){var h=
d[b][e].services[f];if(h.key==a)return h}}};var ServicesMap={residential:{preparetolet:{ESSENTIALS:["EPC","FURNISHING","PROPERTY_MANAGEMENT"],SHOWCASE:["DESCRIPTION-PHOTOS","DESCRIPTION-FLOORPLAN","DESCRIPTION-PHOTOSFLOORPLAN","DESCRIPTION-PHOTOSFLOORPLANDESCRIPTION","DESCRIPTION-PHOTOSFLOORPLANDESCRIPTIONEPC"]},findtenants:{ADVERTISING:"LISTING-RMZ1WEEKSUB BOARD VIEWING RESILET_ADVANCED_BUNDLE RESILET_COMPLETE_BUNDLE RESILET_VIEWING".split(" ")},referenceatenant:{REFERENCING:["REFERENCE-REQUEST"]},completepaperwork:{UNFURNISHED:["ASTDPS",
"INVENTORY-UNFURNISHED","CHECKIN-UNFURNISHED","CHECKOUT-UNFURNISHED","INVCHECKIN-UNFURNISHED"],FURNISHED:["ASTDPS","INVENTORY-FURNISHED","CHECKIN-FURNISHED","CHECKOUT-FURNISHED","INVCHECKIN-FURNISHED"]},runaproperty:{PROPERTYMANAGEMENT:["PROPERTY_MANAGEMENT"]}},commercial:{preparetolet:{ESSENTIALS:"COMMERCIAL_EPC COMMLET_DESCRIPTION COMMLET_DESCRIPTION_PHOTOS COMMLET_DESCRIPTION_FLOORPLAN COMMLET_DESCRIPTION_PHOTOSFLOORPLANDESCRIPTION COMMLET_REPORT_LEGIONELLA".split(" ")},findtenants:{ADVERTISING:["STANDARD_BUNDLE",
"PREMIUM_BUNDLE","COMMERCIAL_BOARD","HOSTED_VIEWING"]},referenceatenant:{REFERENCING:["COMMLET_REFERENCE_REQUEST"]},completepaperwork:{COMMERCIAL:["NEGOTIATIONS_AND_DEAL_PROGRESSIONS"]}}};var AddressViewModel=function(){var a=this;a.propertyId=null;a.address={propertyId:ko.observable(),houseNumber:ko.observable().extend({required:{params:!0,message:"Required"},specialChars:!0}),street:ko.observable().extend({required:{params:!0,message:"Required"},specialChars:!0}),town:ko.observable().extend({required:{params:!0,message:"Required"},specialChars:!0}),county:ko.observable().extend({required:{params:!0,message:"Required"},specialChars:!0}),postcode:ko.observable().extend({required:{params:!0,
message:"Required"},minLength:{message:"Invalid postcode.",params:5},ukPostcode:!0,supportedPostcode:!0,specialChars:!0}),noOfBedrooms:ko.observable(1)};a.addToBasketCallback=null;a.addressDefined=ko.observable(!1);a.addressBar={address:ko.observable(),noOfBedrooms:ko.observable()};a.loadingPredictions=ko.observable(!1);a.savedAddresses=ko.observableArray();a.loadedSavedAddress=ko.observable();a.savedAddress=ko.observable();a.selectedPrediction=ko.observable();a.postcodePredictions=ko.observableArray();
a.postcodePredictionInput=ko.observable().extend({throttle:500,minLength:{message:"Invalid postcode.",params:5},ukPostcode:!0,supportedPostcode:!0,specialChars:!0});var d=$("#services-address-modal");a.showAddressModal=function(c){a.eventTracker.trackAddProperty();d.foundation("reveal","open",{animation:"none"});$(".postcode").focus();Behaviour.GAEvent.fireGaEvent("event_services_journey_add_property/("+PROPERTY_TYPE+")");"function"===typeof c&&(a.addToBasketCallback=c);a.updateSelectOrDie()};a.closeAddressModal=
function(){d.foundation("reveal","close")};a.getPostcodePredictions=function(c,b){a.loadingPredictions(!0);$.ajax({url:"/rest/postcode/"+c,type:"GET",timeout:2E3,statusCode:{200:function(d){d=d.data;d.sort(function(a,b){return a.number-b.number});var f=[],h;for(h in d){var k=[];""!==d[h].sub_building_name&&k.push(d[h].sub_building_name);""!==d[h].number&&k.push(d[h].number);""!==d[h].building_name&&k.push(d[h].building_name);k=k.join(", ");""!==k&&(k={summary:k+", "+d[h].main_or_only_street,address1:k,
address2:d[h].main_or_only_street,address3:d[h].post_town_title,address4:""!=d[h].county_postal?d[h].county_postal:""!=d[h].county_traditional?d[h].county_traditional:d[h].county_administrative,noOfBedrooms:1,postcode:c.replace("%20"," ")},f.push(k))}a.loadingPredictions(!1);b(f)},400:function(){a.loadingPredictions(!1);b([])},404:function(){a.loadingPredictions(!1);b([])},500:function(){a.loadingPredictions(!1);b([])}}})};a.updateSelectOrDie=function(){$("#postcode-predictions").selectOrDie("destroy").selectOrDie({size:10,
onChange:function(){for(var c=$(this).val(),b=null,d=0;d<a.postcodePredictions().length;d++)if(a.postcodePredictions()[d].summary===c){b=a.postcodePredictions()[d];break}a.populateAddress(b)}});$("#saved-addresses").selectOrDie("destroy").selectOrDie({size:10,onChange:function(){for(var c=$(this).val(),b=null,d=0;d<a.savedAddresses().length;d++)if(a.savedAddresses()[d].property_id===c){b=a.savedAddresses()[d];break}a.populateAddress(b)}})};a.renderPostcodePredictions=function(c){a.postcodePredictions.removeAll();
for(var b=0;b<c.length;b++)a.postcodePredictions.push(c[b]);a.updateSelectOrDie()};a.renderSavedAddresses=function(c){a.savedAddresses.removeAll();for(var b=0;b<c.length;b++)a.savedAddresses.push(c[b]);a.updateSelectOrDie()};a.postcodePredictionInput.subscribe(function(){a.loadingPredictions(!0);if(0<ko.validation.group(a.postcodePredictionInput)().length)a.renderPostcodePredictions([]);else{var c=a.postcodePredictionInput().toUpperCase();if(-1===c.indexOf(" "))var b=c.slice(0,c.length-3),c=c.slice(-3),
c=b+"%20"+c;else c=c.replace(" ","%20");a.getPostcodePredictions(c,function(b){0===b.length?a.renderPostcodePredictions([]):a.renderPostcodePredictions(b)})}});a.populateAddress=function(c){c.property_id&&a.address.propertyId(c.property_id);a.address.houseNumber(c.address1);a.address.street(c.address2);a.address.town(c.address3);a.address.county(c.address4);a.address.postcode(c.postcode);a.address.noOfBedrooms(c.noOfBedrooms)};a.validateAddress=function(){var c=ko.validation.group([a.address.houseNumber,
a.address.street,a.address.town,a.address.county,a.address.postcode]);return 0<c().length?(c.showAllMessages(),!1):!0};a.submitAddress=function(){dataLayer.push({event:"virtual pageview",page_name:"/"+PROPERTY_TYPE+"/lettings/select-services/add-property/property-created",page_section:PROPERTY_TYPE,page_type:"select service"});if(a.validateAddress()){a.propertyId=a.address.propertyId()?a.address.propertyId():null;var c=a.address.postcode();if(-1===c.indexOf(" "))var b=c.slice(-3),c=c.slice(0,c.length-
3)+" "+b;$.ajax({url:"/rest/property",type:"POST",dataType:"json",data:{property_id:a.propertyId,address1:""!==a.address.houseNumber()?a.address.houseNumber():null,address2:""!==a.address.street()?a.address.street():null,address3:""!==a.address.town()?a.address.town():null,address4:""!==a.address.county()?a.address.county():null,postcode:c,noOfBedrooms:a.address.noOfBedrooms(),property_type:PROPERTY_TYPE},success:function(){a.eventTracker.trackPropertyAdded();Behaviour.Services.reloadTopNavShoppingBasket();
a.closeAddressModal();a.buildAddressBar();a.addressDefined(!0);"function"===typeof a.addToBasketCallback?(a.addToBasketCallback(),a.addToBasketCallback=null):parent.self.refreshServices()}})}};a.buildAddressBar=function(){for(var c=[a.address.houseNumber(),a.address.street(),a.address.postcode()],b=[],d=0;d<c.length;d++){if(void 0===c[d]||""===c[d]){a.addressDefined(!1);a.addressBar.address(null);return}b.push(c[d])}c=b.join(", ");a.addressBar.address(""!=c?c:"Add property");a.addressBar.noOfBedrooms(a.address.noOfBedrooms());
a.addressDefined(!0)};a.setPropertyRooms=function(c){a.address.noOfBedrooms(c)};$.ajax({url:"/rest/property/"+PROPERTY_TYPE,dataType:"json",type:"get",success:function(c){c.property&&(c.property.property_id&&(a.propertyId=c.property.property_id),a.savedAddress(c.property),a.populateAddress(a.savedAddress()),a.buildAddressBar())}})};var LoginViewModel=function(){var a=this;a.username=ko.observable().extend({required:!0,email:{message:"Invalid Email Address",params:!0}});a.password=ko.observable().extend({required:{message:"Required",params:!0}});a.addToBasketCallback=null;a.loggingIn=ko.observable(!1);a.isLoggedIn=ko.observable(!1);a.error={isError:ko.observable(!1),message:ko.observable()};var d=$("#signin-modal");a.showLoginModal=function(a){d.foundation("reveal","open",{animation:"none"})};a.closeLoginModal=function(a){d.foundation("reveal",
"close");"function"===typeof a&&a()};a.getUserProperties=function(c){var b=[];$.ajax({url:"/rest/property",type:"get",success:function(d){d=d.data;for(var f=[],h=0;h<d.length;h++)f.push(a.getPropertyType(d[h],b));$.when.apply($,f).then(function(){for(var a=0;a<b.length;a++)b[a].summary=b[a].address1+", "+b[a].address2;c(b)})}})};a.getPropertyType=function(a,b){var d=$.Deferred();$.ajax({url:"/rest/propertytype/"+a.property_id,type:"GET",success:function(f){f.data==PROPERTY_TYPE&&b.push(a);d.resolve(null)}});
return d.promise()};a.login=function(){a.loggingIn(!0);var c=ko.validation.group([a.username,a.password]);0<c().length?c.showAllMessages():$.ajax({url:"/rest/admin",type:"POST",data:{username:a.username(),password:a.password()},statusCode:{202:function(){a.isLoggedIn(!0);a.getUserProperties(function(b){a.error.isError(!1);a.closeLoginModal(function(){a.refreshSideBar(function(){a.addressViewModel.renderSavedAddresses(b);a.addressViewModel.showAddressModal()})})})},400:function(b){b=b.responseJSON;
a.error.isError(!0);a.error.message(b.message)}}})};a.refreshSideBar=function(a){$.ajax({url:"/rest/replacesidebar",method:"get",success:function(b){$(".left-off-canvas-menu").replaceWith(b.data);$(".ajax-load-inplace").each(function(){$(this).unbind();Behaviour.Ajax.loadAjaxBasedOnUrl($(this),"GET")});a()}})};a.checkUserIsLoggedIn=function(){$.ajax({url:"/rest/admin",type:"get",dataType:"json",success:function(c){1==c.data&&(a.isLoggedIn(!0),a.getUserProperties(function(b){a.addressViewModel.renderSavedAddresses(b)}))}})};
a.checkUserIsLoggedIn()};var MoreInfoViewModel=function(){var a=this;a.cachedContent=[];a.moreInfoContent=ko.observable();a.moreInfoModalVisible=ko.observable(!1);a.moreInfoVisible=ko.observable(!1);a.moreInfoService=ko.observable();var d=$("#service-more-info"),c=$("#service-more-info-bubble");window.addEventListener("resize",function(){!0===a.moreInfoModalVisible()&&(a.hideMoreInfo(),a.showMoreInfoModal(a.moreInfoService()))},!1);a.hideMoreInfo=function(){a.moreInfoVisible()&&parent.self.router.addUrl(a.moreInfoService().category,
null);d.css({top:"100vh"});a.moreInfoVisible(!1)};c.on("closed",function(){$("#pins div").children().removeClass("active")});a.showMoreInfo=function(b){a.eventTracker.trackViewDetails(b.key,b.category);a.getMoreInfoForService(b.key,b.category,function(c){a.moreInfoContent(c);a.moreInfoService(b);a.moreInfoVisible(!0);d.css({top:"100vh"});d.css({top:"0"});$(".icon-basket").html($(".btn-cart a").html());navigator.userAgent.match(/(iPhone|iPod|iPad)/i)&&640>=window.screen.width&&$("#service-more-info aside .related").css("bottom",
"65px");var f=$(".content");$(".parallax").scroll(function(){var a=$(this).scrollLeft(),b=$(this).scrollTop(),c=$(this).innerHeight(),d=$(this)[0].scrollHeight;0<a&&($(".parallax")[0].scrollLeft=0);b+c>=d-1?f.css("overflow-y","scroll"):"hidden"!==$(".content").css("overflow-y")&&(f[0].scrollTop=0,f.css("overflow-y","hidden"))})})};a.hideMoreInfoModal=function(){c.foundation("reveal","close");a.moreInfoModalVisible(!1)};a.showMoreInfoModal=function(b){a.moreInfoService(b);a.moreInfoModalVisible(!0);
var d=null;$("#pins div").children(".pin").each(function(){$(this).data("serviceKey")()===b.key&&(d=$(this))});if(null===d)throw Error("Unable to find pin");d.addClass("active");var f=d.offset();c.foundation("reveal","open",{animation:"none"});var h=$(document).height(),k=$(document).width();640<k&&(h=f.top/h*100,k=f.left/k*100,40>=k&&30>=h?(k=f.top+150,f=f.left+50):40>=k&&30<h?(k=f.top-200,f=f.left+50):(k=40<k&&30>=h?f.top+100:f.top-200,f=f.left-300),c.css("top",k+"px"),c.css("left",f+"px"))};a.getMoreInfoForService=
function(b,c,d){void 0!==a.cachedContent[b]?d(a.cachedContent[b]):$.ajax({url:"/services/"+c+"/"+b+"/?json=1",dataType:"json",type:"get",success:function(c){if(void 0===c.page)throw Error("Could not retrieve content for page "+b);a.cachedContent[b]=c.page.content;d(c.page.content)}})};$("#service-more-info-container").appendTo("body")};var MainViewModel=function(){var a=this;a.router=new UrlRouter;a.eventTracker=new GoogleEventTracker;a.serviceModel=new ServiceModel;a.loginViewModel=new LoginViewModel;a.addressViewModel=new AddressViewModel;a.moreInfoViewModel=new MoreInfoViewModel;ko.utils.extend(a.serviceModel,a);ko.utils.extend(a.loginViewModel,a);ko.utils.extend(a.addressViewModel,a);ko.utils.extend(a.moreInfoViewModel,a);a.pendingAddToBasket=null;a.color=ko.observable();a.currentPage=ko.observable();a.categories=[];var d=!0;
a.currentPage.subscribe(function(b){d||a.eventTracker.trackSectionChange(b.key);d=!1});for(var c in ServicesMap[PROPERTY_TYPE])a.categories.push(new window[c](a.serviceModel));c=$("#signin-modal");var b=$("#signin-modal-username"),e=$("#service-view");c.on("closed",function(){a.addressViewModel.showAddressModal()});c.on("opened",function(){b.focus()});a.getCurrentSubIndex=function(){return void 0===a.currentPage()?"blue":a.currentPage().subCategories().indexOf(a.currentPage().selectedCategory())};
a.getHeaderPosition=function(a){return 50<=a.posX?"left":"right"};a.showPrevArrow=ko.computed(function(){var b=a.currentPage();return void 0!==b&&0===a.categories.indexOf(b)&&0===a.getCurrentSubIndex()?!1:!0});a.showNextArrow=ko.computed(function(){var b=a.currentPage();return void 0!==b&&a.categories.indexOf(b)===a.categories.length-1&&(b=a.currentPage().subCategories().length-1,a.getCurrentSubIndex()===b)?!1:!0});a.arrowPrevColor=ko.computed(function(){if(0===a.getCurrentSubIndex()){var b=a.categories.indexOf(a.currentPage());
if(0!==b)return a.categories[b-1].color}return a.color()});a.arrowNextColor=ko.computed(function(){if(void 0!==a.currentPage()){var b=a.currentPage().subCategories().length-1;if(a.getCurrentSubIndex()===b&&(b=a.categories.indexOf(a.currentPage()),b!==a.categories.length-1))return a.categories[b+1].color}return a.color()});a.findCategoryByKey=function(b){if("string"!==typeof b)throw Error("categoryKey parameter was not of type string");for(var c=0;c<a.categories.length;c++)if(a.categories[c].key==
b)return a.categories[c];throw Error("Unable to find Category with key "+b);};a.addToBasket=function(b,c){if(!1===a.addressViewModel.addressDefined())a.moreInfoViewModel.hideMoreInfo(),a.addressViewModel.showAddressModal(function(){a.serviceModel.containsService(b)&&a.addToBasket(b)},c);else{var d={group_name:b.key};a.addressViewModel.propertyId&&(d.property_id=a.addressViewModel.propertyId);$.ajax({url:"/rest/basket",type:"post",dataType:"json",data:d,statusCode:{409:function(){$(document).trigger("refresh_services")},
400:function(a){$(document).trigger("refresh_services")}},success:function(){Behaviour.Services.reloadTopNavShoppingBasket();a.moreInfoViewModel.hideMoreInfoModal();a.moreInfoViewModel.hideMoreInfo();$(document).trigger("refresh_services")}})}};a.backgroundMoveTo=function(a,b){e.animate({"background-position":a+"%"},300,null,b)};a.raisePins=function(a){$(".pin").css({top:"-40vh"});setTimeout(a,300)};a.dropPins=function(a){$(".pin").each(function(){var a=ko.dataFor($(this).get(0)).posY;$(this).css({top:a+
"%"})});setTimeout(a,300)};a.refreshServices=function(b){a.raisePins(function(){a.loadServices(function(){var c=a.serviceModel.getSubCategoryModel(a.currentPage().selectedCategory().services[0].sub_category);a.serviceModel.setPinCoordinates(c.services);a.currentPage().selectedCategory(c);setTimeout(function(){a.dropPins(function(){"function"==typeof b&&b()})},10)})})};a.highlightService=function(b){a.moreInfoViewModel.hideMoreInfo();a.moreInfoViewModel.hideMoreInfoModal();a.currentPage().key==b.category?
a.currentPage().selectedCategory().key==b.sub_category?(a.moreInfoViewModel.showMoreInfoModal(b),a.router.addUrl(b.category,b.key),a.moreInfoViewModel.showMoreInfo(b)):a.changeToSubCategory(b.sub_category,function(){a.moreInfoViewModel.showMoreInfoModal(b);a.router.addUrl(b.category,b.key);a.moreInfoViewModel.showMoreInfo(b)}):(a.router.addUrl(b.category,b.key),a.loadPage(b.category,b.sub_category,b))};a.loadPage=function(b,c,d){if("string"!==typeof b)throw Error("path parameter was not of type string");
a.moreInfoViewModel.hideMoreInfoModal();a.moreInfoViewModel.hideMoreInfo();if(void 0===a.currentPage()||b!==a.currentPage().key||d){var e=a.findCategoryByKey(b);b=!1;void 0===a.currentPage()&&(a.currentPage(a.categories[0]),b=!0);!1===b?d?c?c.toUpperCase()!=a.currentPage().selectedCategory().services[0].sub_category?(a.currentPage(e),a.currentPage().selectedCategory(null),a.changeToSubCategory(c,function(){a.color(a.currentPage().color);a.moreInfoViewModel.showMoreInfoModal(d);a.moreInfoViewModel.showMoreInfo(d)})):
(a.moreInfoViewModel.showMoreInfoModal(d),a.moreInfoViewModel.showMoreInfo(d)):(b=a.currentPage().subCategories()[0],a.serviceModel.setPinCoordinates(b.services),a.currentPage().selectedCategory(b),a.backgroundMoveTo(0,function(){a.dropPins(function(){a.moreInfoViewModel.showMoreInfoModal(d);a.moreInfoViewModel.showMoreInfo(d)})})):a.raisePins(function(){a.currentPage(e);a.currentPage().selectedCategory(null);if(c)a.currentPage().selectedCategory(null),a.color(a.currentPage().color),a.changeToSubCategory(c,
function(){d&&(a.moreInfoViewModel.showMoreInfoModal(d),a.moreInfoViewModel.showMoreInfo(d))});else{var b=a.currentPage().subCategories()[0];a.serviceModel.setPinCoordinates(b.services);a.currentPage().selectedCategory(b);a.color(a.currentPage().color);a.backgroundMoveTo(0,function(){a.dropPins(function(){d&&(a.moreInfoViewModel.showMoreInfoModal(d),a.moreInfoViewModel.showMoreInfo(d))})})}}):(a.currentPage(e),a.color(a.currentPage().color),c&&c!==a.currentPage().subCategories()[0]?(a.currentPage().selectedCategory(null),
a.changeToSubCategory(c,function(){d&&(a.moreInfoViewModel.showMoreInfoModal(d),a.moreInfoViewModel.showMoreInfo(d))})):(b=a.currentPage().subCategories()[0],a.serviceModel.setPinCoordinates(b.services),a.currentPage().selectedCategory(b),a.dropPins(function(){d&&(a.moreInfoViewModel.showMoreInfoModal(d),a.moreInfoViewModel.showMoreInfo(d))})))}};a.changeToSubCategory=function(b,c){"object"==typeof b&&(b=b.services[0].sub_category);a.raisePins(function(){var d=a.currentPage().subCategories,e=a.serviceModel.getSubCategoryModel(b),
d=d.indexOf(e)/d().length*100;a.serviceModel.setPinCoordinates(e.services);a.currentPage().selectedCategory(e);a.backgroundMoveTo(d,function(){a.dropPins(function(){"function"===typeof c&&c()})})})};a.isNotFirstSubCategory=ko.computed(function(){return void 0===a.currentPage()?!1:0!==a.getCurrentSubIndex()});a.isNotLastSubCategory=ko.computed(function(){return void 0===a.currentPage()?!1:a.getCurrentSubIndex()!==a.currentPage().subCategories().length-1});a.prevCategory=function(){var b=a.categories.indexOf(a.currentPage());
if(0!==b){var b=a.categories[b-1],c=b.subCategories(),c=c[c.length-1];a.router.updateUrl(b.key);a.loadPage(b.key,c.services[0].sub_category)}};a.nextCategory=function(){var b=a.categories.indexOf(a.currentPage());if(b!==a.categories.length-1){var b=a.categories[b+1],c=b.subCategories()[0];a.router.updateUrl(b.key);a.loadPage(b.key,c.services[0].sub_category)}};a.prevSubCategory=function(){var b=a.getCurrentSubIndex();0===b?a.prevCategory():(b=a.currentPage().subCategories()[b-1],a.changeToSubCategory(b.services[0].sub_category))};
a.nextSubCategory=function(){var b=a.getCurrentSubIndex(),c=a.currentPage().subCategories();b===c.length-1?a.nextCategory():a.changeToSubCategory(c[b+1].services[0].sub_category)};c=new Hammer(e[0]);c.on("swipeleft",a.nextSubCategory);c.on("swiperight",a.prevSubCategory);a.loadServices=function(b){a.serviceModel.getServicesFromApi(function(c){a.serviceModel.setServices(c);for(c=0;c<a.categories.length;c++)a.categories[c].subCategories.removeAll(),ko.utils.arrayPushAll(a.categories[c].subCategories,
a.serviceModel.getSubCategories(a.categories[c].key));b()})};a.loadServices(function(){a.router.setCategoryCallback(function(b){a.loadPage(b)});a.router.setServiceCallback(function(b){var c=a.serviceModel.getServiceInfo(b);null===c?(a.router.updateUrl(DEFAULT_CATEGORY),a.loadPage(DEFAULT_CATEGORY)):(a.router.updateUrl(c.category,b),a.loadPage(c.category,c.subCategory,c.service))});a.router.runFromUrl()});$(document).on("refresh_services",a.refreshServices)};ko.bindingHandlers.serviceKey={init:function(a,d){$(a).data("serviceKey",d)}};ko.bindingHandlers.enterkey={init:function(a,d,c,b){var e=c();$(a).on("keypress","input, textarea, select",function(c){if(13!==(c.which||c.keyCode))return!0;c=c.target;c.blur();e.enterkey.call(b,b,c,a);return!1})}};
ko.validation.rules.ukPostcode={validator:function(a){if(void 0!==a)return a=a.toUpperCase().replace(" ",""),/(([A-PR-UWYZ]\d(\d?|[A-HJKPSTUW]))|([A-PR-UWYZ][A-HK-Y]\d(\d?|[ABEHMNPRVWXY])))[0-9][ABD-HJLNP-UW-Z]{2}/.exec(a)},message:"We accept only England and Wales postcodes."};
ko.validation.rules.supportedPostcode={validator:function(a){if(void 0!==a)return a=a.toUpperCase().replace(" ",""),/^(AL|B[\d]|BA|BB|BD|BH|BL|BN|BR|BS|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DE|DH|DL|DN|DT|DY|E[\d]|EC|EN|EX|FY|GL|GU|HA|HD|HG|HP|HR|HU|HX|IG|IP|KT|L[\d]|LA|LD|LE|LL|LN|LS|LU|M[\d]|ME|MK|N[\d]|NE|NG|NN|NP|NR|NW|OL|OX|PE|PL|PO|PR|RG|RH|RM|S[\d]|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TF|TN|TQ|TR|TS|TW|UB|W[\d]|WA|WC|WD|WF|WN|WR|WS|WV|YO|TD90T[JPRSTUW]|TD124[Q-Z][A-Z]|TD151A[A-Z]|TD151B[A-S]|TD151B[U-Z]|TD151[C-R][A-Z]|TD151S[A-P]|TD151S[W-Y]|TD151T[AB]|TD151U[B-EN-RT-Y]|TD151X[X-Z]|TD151[YZ][A-Z]|TD15[2-9][A-Z][A-Z])/.exec(a)},message:"This postcode is not supported by our services"};
ko.validation.rules.specialChars={validator:function(a){if(void 0!==a)return/^[\w ,-/']+$/.exec(a)},message:"This text contains some invalid characters"};ko.validation.registerExtenders();Behaviour.ServicesApp={init:function(){if(void 0===PROPERTY_TYPE)throw Error("Global variable PROPERTY_TYPE was undefined");if(void 0===DEFAULT_CATEGORY)throw Error("Global variable DEFAULT_CATEGORY was undefined");ko.validation.init({errorMessageClass:"error"});ko.applyBindings(MainViewModel,document.body)}};var SearchMainViewModel=function(){var a=this;a.animationTime=100;a.properties=ko.observableArray();a.total_found=ko.observable();a.show_total_found=ko.observable(!1);a.pathname=ko.observable(location.pathname);a.menu_open=ko.observable(!0);a.artirix_image_prefix=ko.observable(artirix_image_prefix);a.next_page=ko.observable();a.show_property_details=ko.observable(!1);a.visible_property=ko.observable();a.filterButtonVisible=ko.observable(!1);a.loadPropertyInformation=function(d){1025>$(window).width()?
($(".search-overlay").velocity("fadeIn",{duration:a.animationTime}),$("#propertyDetails").velocity("fadeOut",{duration:a.animationTime}),$.ajax({url:"/viewproperty/"+d,type:"GET",dataType:"html",success:function(c,b,d){c=JSON.parse(c);$("#propertyDetails").html(c.html);$("#propertyDetails").show();$("#propertyDetails").scrollTop(0);$(".remodal").remodal();Behaviour.PropertySearch.init();Behaviour.Main.setUpMessageUsModal();$(".js-live-chat").click(function(){window.open("https://hosted11.whoson.com/newchat/chat.aspx?domain=www.easyproperty.com",
"easyProperty Live Chat","width=300, height=250");return!1});$(".search-overlay").delay(3*a.animationTime).velocity("fadeOut",{duration:a.animationTime},{display:"none"});$("#propertyDetails").velocity("fadeIn",{duration:a.animationTime})},error:function(){$(".search-overlay").delay(3*a.animationTime).velocity("fadeOut",{duration:a.animationTime},{display:"none"});console.log("Cannot retrieve property information")}})):window.open("/viewproperty/"+d,"_blank")};$(document).on("search.property_details",
function(d,c){a.loadPropertyInformation(c)});$(document).on("search.property_details_close",function(d){a.hideDetails()});$(document).on("search.area_changed",function(d,c){a.generateURL(!1,!0,c)});$(document).on("search.geo_location",function(d){a.generateURL(!0,!0)});a.search_url=ko.observable();a.slideToResults=function(){$(".search-wrapper").removeClass("active")};a.showMontlhy=function(a,c){$(c.currentTarget).parent().find(".property-price-monthly").show();$(c.currentTarget).parent().find(".property-price-weekly").hide()};
a.hideMontlhy=function(a,c){$(c.currentTarget).parent().find(".property-price-monthly").hide();$(c.currentTarget).parent().find(".property-price-weekly").show()};a.showSearchForm=function(){$(".search-overlay").velocity("fadeIn",{duration:a.animationTime});$(".asf-result").delay(a.animationTime).velocity("fadeOut",{duration:a.animationTime});$(".fixed-search-form").delay(a.animationTime).removeClass("active");$(".search-sidebar-content").delay(a.animationTime).removeClass("active");$(".advanced-search-form").delay(2*
a.animationTime).velocity("fadeIn",{duration:a.animationTime},{display:"block"});$(".search-overlay").delay(3*a.animationTime).velocity("fadeOut",{duration:a.animationTime},{display:"none"});$(".asf-result").infinitescroll("pause");a.menu_open(!0);a.filterButtonVisible(!1)};a.closeFilters=function(){a.hideSearchForm();a.filterButtonVisible(!0)};a.hideSearchForm=function(){a.filterButtonVisible(!0);1>$(".search-overlay").css("opacity")&&$(".search-overlay").velocity("fadeIn",{duration:a.animationTime});
$(".advanced-search-form").delay("500").velocity("fadeOut",{duration:a.animationTime},{display:"none"});$(".fixed-search-form").delay(a.animationTime).addClass("active");$(".search-sidebar-content").delay(a.animationTime).addClass("active");$(".asf-result").delay(2*a.animationTime).velocity("fadeIn",{duration:a.animationTime});$(".search-overlay").delay(3*a.animationTime).velocity("fadeOut",{duration:a.animationTime},{display:"none"});$(".asf-result").infinitescroll("resume");a.menu_open(!1)};a.toggleSearchForm=
function(){!1===a.menu_open()?a.showSearchForm():a.hideSearchForm()};a.showDetails=function(d){a.loadPropertyInformation(d.property_reference)};a.hideDetails=function(){$("#propertyDetails").velocity("fadeOut",{duration:a.animationTime});$("#propertyDetails").empty()};a.updateInfiniteScroll=function(){$(".asf-result").infinitescroll("update",{pixelsFromNavToBottom:-($(".asf-result").innerHeight()-$(".search-sidebar-content").height())+200})};a.initInfiniteScroller=function(){$(".asf-result").infinitescroll({loading:{finishedMsg:"<em>No more properties to return.</em>",
msgText:"<em>Loading more properties...</em>"},behavior:"local",binder:$(".search-sidebar-content"),navSelector:"#pagination_next",nextSelector:"#pagination_next",itemSelector:".asf-result .property-details",debug:!1,dataType:"json",appendCallback:!1,path:function(){var d=location.pathname;if(-1!==d.indexOf("page-"))var c=d.substring(d.indexOf("page-"),d.indexOf("/",d.indexOf("page-"))),b=c.split("-"),b=b[0]+"-"+(parseInt(b[1])+1),d=d.replace(c,b);else d+="/page-1/";d+=location.search;a.next_page(d);
return d}},function(d,c){0<Object.keys(d.properties).length?(a.updateHistory(a.next_page()),$.each(d.properties,function(){a.properties.push(a.setPropertyDetails(this))}),$.extend(window.map_data,a.properties()),Behaviour.SearchMap.addPins(window.map_data,!0),Behaviour.SearchMap.setClusters(),a.updateInfiniteScroll(),a.filterButtonVisible(!0)):$(".asf-result").infinitescroll("destroy")});a.updateInfiniteScroll()};a.setPropertyPhoto=function(a){return null!==a&&0<a.length?a[0]:"/img/Graphic-Placeholder-Photo.svg"};
a.setPropertyPhotoAlt=function(a,c,b){return"commercial"!==c?0<a?a+" bedroom "+b:"Studio "+b:b};a.setFloorPlan=function(d){return null!==d&&0<d.length?a.artirix_image_prefix()+d[0]:null};a.setPropertyDetails=function(d){var c={};c._id=d._id;c.pex_reference=d.pex_reference;c.property_reference=d.property_reference;c.display_address=Behaviour.Functions.truncate(d.display_address,50);c.property_category=null!==d.property_category?d.property_category.toLowerCase():"";c.property_type=null!==d.property_type?
d.property_type:"";c.price_weekly=d.price_weekly;c.price_monthly=d.price_monthly;c.price_annually=d.price_annually;c.price_qualifier=d.price_qualifier;c.price_qualifier_title=null;c.price_qualifier_price=null;c.price_qualifier_additional=null;if(null!==d.price_qualifier){var b=d.price_qualifier.match(/([^\u00a3]*)(\u00a3)([\u00a30-9,]+)(.*)/);null!==b?(c.price_qualifier_title=b[1],c.price_qualifier_price=b[3],c.price_qualifier_additional=b[4]):c.price_qualifier_price=c.price_qualifier}c.display_price=
d.display_price;c.display_price_freq=null!==d.display_price_freq?d.display_price_freq.toLowerCase():"";c.photo_count=d.photo_count;c.display_photo=a.setPropertyPhoto(d.photos);c.display_photo_alt=a.setPropertyPhotoAlt(c.bedroom_count,c.property_category,c.property_type);c.bedroom_count=d.bedroom_count;c.bathroom_count=d.bathroom_count;c.lat_lon=d.lat_lon;c.selling_status=d.selling_status;return c};a.loadURL=function(){$(".search-overlay").velocity("fadeIn",{duration:500});var a=$("#search-filter-form").serializeArray(),
c="residential";$.each(a,function(){"search_type"===this.name&&(c=this.value)});a={post_data:a,search_type:c};$.ajax({url:"/rest/search/generateurl",type:"POST",data:a,dataType:"text",success:function(a){a=JSON.parse(a);if(200==a.code)window.location.replace(a.data);else throw Error("Unable to generate URL");},error:function(){$(".search-overlay").velocity("fadeIn",{duration:500})}})};a.generateURL=function(d,c,b){$(".search-overlay").velocity("fadeIn",{duration:500});c={post_data:$("form#search-filter-form").serializeArray()};
void 0!==b&&(c.ne=b.ne,c.sw=b.sw);void 0==d&&(d=!1);$.ajax({url:"/rest/search/generateurl",type:"POST",data:c,dataType:"text",success:function(b){b=JSON.parse(b);if(200==b.code)a.search_url(b.data),a.getProperties(d);else throw Error("Unable to generate URL");},error:function(){$(".search-overlay").velocity("fadeIn",{duration:500})}})};a.updateHistory=function(d){d=d.replace("/ajax","");history.pushState(null,null,d);a.pathname(location.pathname)};a.getProperties=function(d){$.getJSON(a.search_url(),
function(c){a.show_total_found(!0);a.total_found(c.total_found);a.artirix_image_prefix(c.artirix_image_prefix);a.properties.removeAll();$.each(c.properties,function(){a.properties.push(a.setPropertyDetails(this))});window.map_data=a.properties();Behaviour.SearchMap.addPins(window.map_data,d);Behaviour.SearchMap.setClusters();!0===d&&0<c.properties.length&&Behaviour.SearchMap.changeBounds();0<c.properties.length&&("residential-lettings"===$('select[name="search_type"]').val()?Behaviour.GAEvent.fireGaEvent("/residential-lettings/search/results"):
"residential-sales"===$('select[name="search_type"]').val()?Behaviour.GAEvent.fireGaEvent("/residential-sales/search/results"):"commercial-lettings"===$('select[name="search_type"]').val()&&Behaviour.GAEvent.fireGaEvent("/commercial-lettings/search/results"));Behaviour.SearchMap.setListeners();a.updateHistory(a.search_url());0<a.total_found()?(a.hideSearchForm(),a.initInfiniteScroller()):($(".search-overlay").delay("500").velocity("fadeOut",{duration:500},{display:"none"}),a.menu_open(!0))})};a.init=
function(){$(".closemap").click(function(a){a.preventDefault();$(".search-wrapper").removeClass("active")});0<$(".price-range").length&&($(".price-range").selectToUISlider({labels:8}),$(".price-range").css({visibility:"hidden",height:"0",width:"0"}));$('select[name="search_type"]').selectOrDie({onChange:function(){a.loadURL()}});$('select[name="search_sorting"]').selectOrDie();$('select[name="search_let_agreed"]').selectOrDie();$('select[name="search_sold"]').selectOrDie();$('select[name="search_radius"]').selectOrDie();
$('select[name="main_property_type"]').selectOrDie();$('select[name="search_property_type"]').selectOrDie({customClass:"sod_sub_type"});$('select[name="main_property_type"]').change(function(){var a={id:$(this).val()},b="residential-sales"===$('select[name="search_type"]').val()?"/rest/search/getsalessubpropertytypes":"/rest/search/getsubpropertytypes";$.ajax({url:b,type:"POST",data:a,dataType:"text",success:function(a){a=JSON.parse(a).data;var b=$('select[name="main_property_type"]'),c=$('select[name="search_property_type"]');
c.find("option").remove();for(var d in a)c.prepend("<option value="+d+">"+a[d]+"</option>");c.find("option:first").prop("selected",!0);b.find("option:first").is(":selected")?(c.append("<option value=''>Please select Property type</option>"),c.prop("disabled",!0)):c.prop("disabled",!1);$(".sod_sub_type").removeClass("disabled");c.selectOrDie("update")},error:function(){console.log("Could not retrieve sub property types")}})});0<$(".bedroom-range").length&&($(".bedroom-range").selectToUISlider({labels:7}),
$(".bedroom-range").css({visibility:"hidden",height:"0",width:"0"}));769<$(window).width()&&$(".property_arrow_right").click(function(a){a.preventDefault();$(".search-wrapper").addClass("active")});$(window).keydown(function(c){if(13==c.keyCode)return a.generateURL(!0,!1),!1});var d=document.getElementById("search-side-bar"),d=new Hammer(d);d.get("pan").set({threshold:200,velocity:2});d.on("panright",function(a){$(".search-wrapper").addClass("active");$("#swipeLeftInfo").hide()});Behaviour.SearchMap.createMap("#search-map");
d=location.pathname.split("/");3>=d.length||4==d.length&&""==d[3]?navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){if(49.6<a.coords.latitude&&56.3>a.coords.latitude&&-6<a.coords.longitude&&2>a.coords.longitude)$.ajax({url:"https://maps.googleapis.com/maps/api/geocode/json?latlng="+a.coords.latitude+","+a.coords.longitude+"&sensor=true",type:"GET",dataType:"json",success:function(a){0<a.results.length&&(a=a.results.filter(function(a){return"administrative_area_level_2"===
a.types[0]}),0<a.length&&(a=a[0].formatted_address.substr(0,a[0].formatted_address.indexOf(",")),"Greater London"==a&&(a="London"),$("#search_url_slug").val(a.toLowerCase()),$(document).trigger("search.geo_location")))}});else{a=Behaviour.SearchMap.map.getBounds();var b={};$("#search_url_slug").val("london");b.ne=a.getNorthEast().lat()+","+a.getNorthEast().lng();b.sw=a.getSouthWest().lat()+","+a.getSouthWest().lng();$("#ajax-modal").html('<div class="bad-location"><p>We do not currently support your location, here are a few of our current properties</p><a class="btn close-reveal-modal" href="javascript:void(0)">OK</a></div>');
$("#ajax-modal").hide().show(0);$("#ajax-modal").addClass("small");$("#ajax-modal").foundation("reveal","open");$(document).trigger("search.area_changed",b)}},function(){$("#search_url_slug").val("London")}):a.generateURL(!0,!1)};a.init()};Behaviour.SearchApp={init:function(){ko.applyBindings(new SearchMainViewModel,document.body)}};Behaviour.Forms={populatePropertyType:function(){Behaviour.PropertyTypes.updatePropertyTypeSelect();Behaviour.Forms.selectOrDieRefresh()},populateAddress:function(a){if("0"!=a.val()){var d=a.val().split(";"),c=a.parents("#userform"),b=a.parents("#property-user");c.length||b.length?(a=a.parents(".postcode_lookup_list").parent().prev().attr("id"),c.length&&(c.find("input[name=address1]").val(Behaviour.Functions.trim(d[0],",")),c.find("input[name=address2]").val(d[1]),c.find("input[name=address3]").val(d[2]),
c.find("input[name=address4]").val(d[3])),b.length&&("user_"!==a?(b.find("input[name="+a+"addr_name]").val(Behaviour.Functions.trim(d[0],",")),b.find("input[name="+a+"addr_street]").val(d[1]),b.find("input[name="+a+"addr_town]").val(d[2]),b.find("input[name="+a+"addr_county]").val(d[3])):(b.find("input[name=address1]").val(Behaviour.Functions.trim(d[0],",")),b.find("input[name=address2]").val(d[1]),b.find("input[name=address3]").val(d[2]),b.find("input[name=address4]").val(d[3])))):(c=a.parents("form"),
c.length&&(c.find("input[name=address1]").val(Behaviour.Functions.trim(d[0],",")),c.find("input[name=address2]").val(d[1]),c.find("input[name=address3]").val(d[2]),c.find("input[name=address4]").val(d[3]),d=d[4].split(","),c.find("input[name=latitude]").val(d[0]),c.find("input[name=longitude]").val(d[1])))}Behaviour.Functions.checkFieldsForModifications();Behaviour.Forms.selectOrDieRefresh()},selectOrDie:function(){$("select").not(".select_or_die_exclude").selectOrDie({size:10,onChange:function(){"postcode_lookup_list"==
$(this).attr("name")&&Behaviour.Forms.populateAddress($(this));"main_property_type"==$(this).attr("id")&&Behaviour.Forms.populatePropertyType()}})},selectOrDieRefresh:function(){$(".sod_select").length&&$("select").selectOrDie("destroy");Behaviour.Forms.selectOrDie()},selectOrDieDestroy:function(){$("select").selectOrDie("destroy")},initPostcodeFinder:function(){$(".postcode_lookup_button").length&&$(".postcode_lookup_button").unbind().click(function(a){a.preventDefault();$(".postcode_lookup_list").is(":visible")&&
$(".postcode_lookup_list").slideUp();$("#address_details").is(":visible")&&$("#address_details").slideUp();var d=$(this);$(d).parents(".ep-form-input").find(".form-group").find(".appearance-input-error").remove();$.ajax({url:"/rest/postcode/"+encodeURIComponent($(this).parents(".ep-form-input").find("input[type=text]").val()),dataType:"json",type:"GET",statusCode:{200:function(a){a=a.data;if(1==a.length){var b=$(d).parents("form");b.length&&(b.find("input[name=address1]").val(a[0].sub_building_name+
" "+a[0].building_name+(""!=a[0].number.trim()?", ":"")+a[0].number),b.find("input[name=address2]").val(a[0].number+" "+a[0].main_or_only_street),b.find("input[name=address3]").val(a[0].post_town_title),b.find("input[name=address4]").val(""!=a[0].county_postal?a[0].county_postal:""!=a[0].county_traditional?a[0].county_traditional:a[0].county_administrative))}else{var e='<option value="0">Please choose your property...</option>';$.each(a,function(a,b){if(""!=b.number||""!=b.building_name){var c=b.sub_building_name+
" "+b.building_name+", "+b.number+";",c=c+(b.main_or_only_street+";"),c=c+(b.post_town_title+";"),c=c+((""!=b.county_postal?b.county_postal:""!=b.county_traditional?b.county_traditional:b.county_administrative)+";"),c=c+(""!=b.location?b.location:""),d=b.sub_building_name+" "+b.building_name+(""!=b.sub_building_name||""!=b.building_name?", ":""),d=d+(b.number+" "+b.main_or_only_street+(""!=b.number||""!=b.main_or_only_street?", ":"")),d=d+(b.post_town_title+(""!=b.post_town_title?", ":"")),d=d+(""!=
b.county_postal?b.county_postal:""!=b.county_traditional?b.county_traditional:b.county_administrative);e+='<option value="'+c+'">'+d+"</option>"}});$(d).parents("form").find(".postcode_lookup_list").find("select").html(e);$(d).parents("form").find(".postcode_lookup_list").slideDown();Behaviour.Forms.selectOrDieRefresh()}},400:function(){$(d).parents(".ep-form-input").find(".appearance-input-error").remove();$(d).parents(".ep-form-input").find(".form-group").append('<ul class="appearance-input-error active"><li>Invalid postcode. We accept only postcodes from England and Wales.</li></ul>')},
404:function(){$(d).parents(".ep-form-input").find(".appearance-input-error").remove();$(d).parents(".ep-form-input").find(".form-group").append('<ul class="appearance-input-error active"><li>There has been a problem with your postcode lookup. Please add your address manually.</li></ul>')}}})})},initPleaseWait:function(){$("form").length&&($.fn.cancelSubmit=function(){if(this.is("form")){var a=this.find('input[type="submit"]');a.val(a.data("init-value"));a.prop("disabled",!1)}return this},$("form").submit(function(a){a=
$(this).find('input[type="submit"]');a.data("init-value",a.val());a.val("Please Wait...");a.prop("disabled",!0);a.attr("name","submit-button")}))},initTextLimit:function(){$.fn.limit||($.fn.limit=function(a){a=$.extend({limit:200,id_result:!1,alertClass:!1},a);return this.each(function(){var d=a.limit;0!=a.id_result&&$("#"+a.id_result).append("You have <strong>"+(d-$(this).val().length)+"</strong> characters remaining");$(this).keyup(function(){$(this).val().length>d&&$(this).val($(this).val().substr(0,
d));if(0!=a.id_result){var c=d-$(this).val().length;$("#"+a.id_result).html("You have <strong>"+c+"</strong> characters remaining");10>=c?$("#"+a.id_result).addClass(a.alertClass):$("#"+a.id_result).removeClass(a.alertClass)}})})})},init:function(){Behaviour.Forms.selectOrDie();Behaviour.Forms.initPostcodeFinder();Behaviour.Forms.initPleaseWait();Behaviour.Forms.initTextLimit();$(".communication_block #comments").limit({limit:4E3,id_result:"comments_textarea_counter",alertClass:"textarea_limit_err"});
$("#password").hidePassword("focus",{toggle:{className:"btn show-hide-password"}});$(document).on("opening",".remodal",function(){$("select",this).not(".select_or_die_exclude").selectOrDie("destroy").selectOrDie({size:10,onChange:function(){"postcode_lookup_list"==$(this).attr("name")&&Behaviour.Forms.populateAddress($(this));"main_property_type"==$(this).attr("id")&&Behaviour.Forms.populatePropertyType()}})});$(".bedrooms").slider({max:10,min:1}).slider("pips",{rest:!1}).slider("float")}};var UrlModel=function(){var a=null,d=null;this.buildFromDocumentLocation=function(){var c=document.location,b=c.pathname.replace(/\/$/,"").split("/");b.shift();""!==c.hash&&(c=c.hash.replace("#!/","").split("/"),b=b.concat(c));for(;""==b[b.length-1];)b.pop();a=b[2]?b[2]:DEFAULT_CATEGORY;d=b[3]?b[3]:null};this.buildFromValues=function(c,b){a=c?c:DEFAULT_CATEGORY;d=b?b.toLowerCase():null};this.getCategory=function(){return a};this.getService=function(){return d};this.toString=function(){var c="/"+PROPERTY_TYPE+
"-lettings/services/"+a;null!==d&&(c+="/"+d);return c}},UrlHistory={rewriteUrl:function(a){a=a.toString();history.replaceState({path:a},"",a)},pushUrl:function(a){a=a.toString();history.pushState({path:a},"",a)}},UrlRouter=function(){var a=this,d,c;a.setCategoryCallback=function(a){d=a};a.setServiceCallback=function(a){c=a};a.updateUrl=function(a,c){var d=new UrlModel;d.buildFromValues(a,c);UrlHistory.rewriteUrl(d)};a.addUrl=function(a,c){var d=new UrlModel;d.buildFromValues(a,c);UrlHistory.pushUrl(d)};
a.run=function(a){null!==a.getService()?c(a.getService()):d(a.getCategory())};a.redirectTo=function(b,c){var d=new UrlModel;d.buildFromValues(b,c);UrlHistory.pushUrl(d);a.run(d)};a.runFromUrl=function(){var b=new UrlModel;b.buildFromDocumentLocation();UrlHistory.rewriteUrl(b);a.run(b)};window.onpopstate=a.runFromUrl};
